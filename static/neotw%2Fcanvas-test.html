<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.2.3" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>neotw/canvas-test: 
 Neotw
 — A modern notebook based on  TiddlyWiki5</title>
</head>
<body class="tc-body">
<p><div class="tc-static-alert"><div class="tc-static-alert-inner" style="align:center">This page is part of a static HTML representation of the ~TiddlyWiki at <a class="tc-tiddlylink-external" href="https://neotw.netlify.app" rel="noopener noreferrer" target="_blank">https://neotw.netlify.app</a> </div></div></p>
<section class="tc-story-river tc-static-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists " data-tags="" data-tiddler-title="neotw/canvas-test" role="article"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><button aria-label="trashbin" class="tc-btn-invisible tc-btn-%24%3A%2Fplugins%2Fkookma%2Ftrashbin%2Fui%2Ftoolbar-button" title="Move this tiddler to Trashbin"> 


























</button><button aria-expanded="false" aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><div class=" tc-reveal" hidden="true"></div><button aria-label="favorites" class="tc-btn-invisible tc-btn-%24%3A%2Fplugins%2Fkookma%2Ffavorites%2Fui%2Fbuttons%2Fadd-remove" title="Add to favorites">
     
		 

		 
 </button><button aria-label="close others" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose-others" title="Close other tiddlers"></button><span class=" tc-reveal"><button aria-label="fold tiddler" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Ffold" title="Fold the body of this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><button class="tc-btn-invisible tc-btn-neotw%2Fviewbar%2Fcopy-title" title="copy current title"></button><button aria-label="edit" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button><button class="tc-btn-invisible tc-btn-neotw%2Fcopy-text" title="copy current code"></button><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span><h2 class="tc-title">neotw/canvas-test</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal"><div class="tc-subtitle"><span class="neotw-arrowright"></span><a class="tc-tiddlylink tc-tiddlylink-resolves" href="oeyoews.html">oeyoews</a><span class="neotw-dot-status"></span>Created 2022/09/06 <span class="neotw-edit"></span>Updated 2022/09/06 05:06 </div></div><div class=" tc-reveal"><div class="tc-tags-wrapper"></div></div>



<div class="tc-tiddler-body tc-reveal"><pre class="hljs"><code class="javascript hljs">(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-string">&quot;use strict&quot;</span>;
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Widget</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;$:/core/modules/widgets/widget.js&quot;</span>).<span class="hljs-property">widget</span>;
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">GiscusNodeWidget</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">parseTreeNode, options</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initialise</span>(parseTreeNode, options);
    };
    <span class="hljs-title class_">GiscusNodeWidget</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Widget</span>();
    <span class="hljs-title class_">GiscusNodeWidget</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">render</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">parent, nextSibling</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentDomNode</span> = parent;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">computeAttributes</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">execute</span>();
        <span class="hljs-keyword">var</span> id = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);
        <span class="hljs-keyword">var</span> lang = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;lang&quot;</span>, <span class="hljs-string">&quot;en&quot;</span>);
        <span class="hljs-keyword">var</span> theme = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;theme&quot;</span>, <span class="hljs-string">&quot;light&quot;</span>);
        <span class="hljs-keyword">if</span> (id === <span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> scriptNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;src&quot;</span>, <span class="hljs-string">&quot;https://giscus.app/client.js&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-repo&quot;</span>, <span class="hljs-string">&quot;oeyoews/neotw&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-repo-id&quot;</span>, <span class="hljs-string">&quot;R_kgDOH5A5OA&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-category&quot;</span>, <span class="hljs-string">&quot;General&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-category-id&quot;</span>, <span class="hljs-string">&quot;DIC_kwDOH5A5OM4CRFEE&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-mapping&quot;</span>, <span class="hljs-string">&quot;specific&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-term&quot;</span>, <span class="hljs-string">&quot;GettingStarted&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-reactions-enabled&quot;</span>, <span class="hljs-string">&quot;1&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-emit-metadata&quot;</span>, <span class="hljs-string">&quot;0&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-theme&quot;</span>, theme);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;data-lang&quot;</span>, lang);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;crossorigin&quot;</span>, <span class="hljs-string">&quot;anonymous&quot;</span>);
        scriptNode.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;async&quot;</span>, <span class="hljs-string">&quot;true&quot;</span>);
        <span class="hljs-comment">// Clear other comment nodes&#x27; giscus class</span>
        <span class="hljs-keyword">var</span> commentNodes = <span class="hljs-variable language_">this</span>.<span class="hljs-property">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;.giscus&#x27;</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = commentNodes.<span class="hljs-property">length</span>; i &lt; len; i++) {
            commentNodes[i].<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;giscus&#x27;</span>);
        }
        <span class="hljs-comment">// Find or create</span>
      <span class="hljs-keyword">var</span> commentNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.gk0wk-giscus[tiddler-title=&quot;&#x27;</span> + id.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;&quot;&#x27;</span>, <span class="hljs-string">&#x27;\\&quot;&#x27;</span>) + <span class="hljs-string">&#x27;&quot;]&#x27;</span>);
        parent.<span class="hljs-title function_">insertBefore</span>(scriptNode, nextSibling);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">domNodes</span>.<span class="hljs-title function_">push</span>(scriptNode);
    };
    <span class="hljs-title class_">GiscusNodeWidget</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">execute</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {};
    <span class="hljs-title class_">GiscusNodeWidget</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">refresh</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">var</span> changedAttributes = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">computeAttributes</span>();
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(changedAttributes).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">refreshSelf</span>();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    };
    <span class="hljs-built_in">exports</span>.<span class="hljs-property">canvas</span> = <span class="hljs-title class_">GiscusNodeWidget</span>;
})();</code></pre></div>
<div class=" tc-reveal">

</div>

<br>

</div></p>
</section>
</body>
</html>

