{"title":"$:/plugins/oeyoews/hitokoto","description":"hitokoto","author":"oeyoews","version":"0.0.3","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"hitokoto","meat#disabled":"yes","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/hitokoto/readme\":{\"title\":\"$:/plugins/oeyoews/hitokoto/readme\",\"text\":\"- ui 参考 https://innei.in/says\\n\\n## TODO\\n\\n- 适配 darkmode\\n\",\"type\":\"text/markdown\",\"description\":\"hitokoto\"},\"$:/plugins/oeyoews/hitokoto/getRandomColor.js\":{\"title\":\"$:/plugins/oeyoews/hitokoto/getRandomColor.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/hitokoto/getRandomColor.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports=()=>{const e=[\\\"red\\\",\\\"orange\\\",\\\"amber\\\",\\\"yellow\\\",\\\"lime\\\",\\\"green\\\",\\\"emerald\\\",\\\"teal\\\",\\\"cyan\\\",\\\"sky\\\",\\\"blue\\\",\\\"indigo\\\",\\\"violet\\\",\\\"purple\\\",\\\"fuchsia\\\",\\\"pink\\\",\\\"rose\\\"];return e[Math.floor(Math.random()*e.length)]};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/hitokoto/widget.js\":{\"title\":\"$:/plugins/oeyoews/hitokoto/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/hitokoto/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nhitokoto widget\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\"),t=require(\\\"./getRandomColor\\\");exports.ht=class extends e{constructor(e,t){super(e,t)}render(e,r){if(!$tw.browser)return;this.parentDomNode=e,this.computeAttributes(),this.execute();const i=$tw.utils.domMaker,d=this.getVariable(\\\"currentTiddler\\\"),{filter:n=\\\"[tag[Journal]!sort[created]limit[99]]\\\"}=this.attributes,s=$tw.wiki.filterTiddlers(n);if(s.includes(d))return void console.warn(\\\"Dont use ht widget in journal tiddler!!!\\\");const o=[];s.map((e=>{let r;const i=t(),{created:d,creator:n,title:s}=$tw.wiki.getTiddler(e).fields,l=this.document.createElement(\\\"div\\\"),a=this.document.createElement(\\\"div\\\"),c=d.toLocaleDateString();a.textContent=c,a.addEventListener(\\\"click\\\",(()=>{this.dispatchEvent({type:\\\"tm-navigate\\\",param:s,navigateTo:s})})),a.className=\\\"mb-2 w-full md:mb-0 md:w-auto hover:underline hover:text-indigo-400 hover:cursor-pointer transition\\\";const m=this.document.createElement(\\\"div\\\");if(m.className=\\\"mb-2 w-full md:mb-0 md:w-auto text-right\\\",m.textContent=n?`@${n}`:\\\"\\\",l.className=\\\"flex flex-wrap text-sm md:justify-between\\\",l.append(a,m),!$tw.wiki.getTiddlerText(s))return;r=$tw.wiki.renderTiddler(\\\"text/html\\\",s);const u=this.document.createElement(\\\"blockquote\\\");u.className=`mt-4 md:mt-8 mb-1 bg-${i}-100/50 px-2 rounded border-l-[3px] border-l-${i}-300 mx-0 py-2`,u.innerHTML=r,o.push(u,l)}));const l=i(\\\"div\\\",{children:o});e.insertBefore(l,r),this.domNodes.push(l)}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}