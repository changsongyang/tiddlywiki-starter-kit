{"title":"$:/plugins/oeyoews/neotw-emoji-picker","description":"Neotw Emoji Picker","author":"oeyoews","version":"0.0.1","core-version":">=5.2.7","type":"application/json","parent-plugin":"$:/plugins/oeyoews/neotw","plugin-type":"plugin","name":"Neotw Emoji Picker","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-emoji-picker/emoji-picker.js\":{\"text\":\"function emojiComponent() {\\n  var form = document.createElement('form');\\n  form.className = 'mb-4';\\n  form.onsubmit = function (event) {\\n    event.preventDefault();\\n  };\\n\\n  // Create label element\\n  var label = document.createElement('label');\\n  label.htmlFor = 'emoji-input';\\n  label.className = 'text-lg mb-2 block';\\n  label.innerText = 'Enter an emoji:';\\n\\n  // Create input element\\n  var input = document.createElement('input');\\n  input.type = 'text';\\n  input.id = 'emoji-input';\\n  input.oninput = function (event) {\\n    debouncedSearchEmoji(event);\\n  };\\n  input.className =\\n    'border border-gray-300 px-2 py-2 rounded-r-none rounded-l-md focus:outline-none flex-1';\\n\\n  // Create button element\\n  var button = document.createElement('button');\\n  button.type = 'button';\\n  button.onclick = clearSearch;\\n  button.className =\\n    'bg-blue-500 text-white px-4 py-2 rounded-l-none rounded-r-md ml-0';\\n  button.textContent = 'Search';\\n\\n  // Append label, input, and button to form\\n  form.appendChild(label);\\n  form.appendChild(input);\\n  form.appendChild(button);\\n\\n  // Create emoji container\\n  var emojiContainer = document.createElement('div');\\n  emojiContainer.id = 'emoji-container';\\n  emojiContainer.className = 'mt-4 text-5xl flex items-center';\\n\\n  // Create copy button\\n  var copyButton = document.createElement('button');\\n  copyButton.id = 'copy-button';\\n  copyButton.onclick = copyEmoji;\\n  copyButton.className =\\n    'ml-4 bg-blue-500 text-white px-4 py-2 rounded focus:outline-none focus:ring focus:border-blue-500 hidden';\\n  copyButton.innerText = 'Copy';\\n\\n  // Create main container\\n  var container = document.createElement('div');\\n  container.className = 'max-w-md w-full bg-white p-6 rounded-lg';\\n  container.appendChild(form);\\n  container.appendChild(emojiContainer);\\n  container.appendChild(copyButton);\\n  const virtualRoot = document.createElement('div');\\n  virtualRoot.className = 'flex items-center justify-center m-2 rounded p-2';\\n  virtualRoot.appendChild(container);\\n\\n  // Append main container to root element\\n  /* var root = document.getElementById('root');\\n  root.appendChild(virtualRoot); */\\n\\n  var emojis = {\\n    tada: 'üéâ',\\n    smile: 'üòä',\\n    smiles: 'üòº',\\n    heart: '‚ù§Ô∏è',\\n    // Add more emojis here\\n  };\\n\\n  var debounceTimeout;\\n\\n  function debounce(func, delay) {\\n    clearTimeout(debounceTimeout);\\n    debounceTimeout = setTimeout(func, delay);\\n  }\\n\\n  function searchEmoji(event) {\\n    var input = event.target.value.trim().toLowerCase();\\n    var emojiContainer = document.getElementById('emoji-container');\\n    emojiContainer.innerHTML = '';\\n\\n    if (input === '') {\\n      document.getElementById('copy-button').classList.add('hidden');\\n      return;\\n    }\\n\\n    for (var key in emojis) {\\n      if (emojis.hasOwnProperty(key) && key.indexOf(input) !== -1) {\\n        var emoji = document.createElement('span');\\n        emoji.innerHTML = emojis[key];\\n        emojiContainer.appendChild(emoji);\\n        document.getElementById('copy-button').classList.remove('hidden');\\n      }\\n    }\\n\\n    if (emojiContainer.innerHTML === '') {\\n      document.getElementById('copy-button').classList.add('hidden');\\n    }\\n  }\\n\\n  function debouncedSearchEmoji(event) {\\n    debounce(function () {\\n      searchEmoji(event);\\n    }, 300);\\n  }\\n\\n  function clearSearch() {\\n    document.getElementById('emoji-input').value = '';\\n    document.getElementById('emoji-container').innerHTML = '';\\n    document.getElementById('copy-button').classList.add('hidden');\\n  }\\n\\n  async function copyEmoji() {\\n    var emojiContainer = document.getElementById('emoji-container');\\n    if (emojiContainer.innerText !== '') {\\n      var emoji = emojiContainer.innerText;\\n      try {\\n        await navigator.clipboard.writeText(emoji);\\n        // alert('Copied!');\\n      } catch (error) {\\n        console.error('Failed to copy:', error);\\n      }\\n    }\\n  }\\n\\n  return virtualRoot;\\n}\\n\\nmodule.exports = {\\n  emojiComponent,\\n};\\n\",\"title\":\"$:/plugins/oeyoews/neotw-emoji-picker/emoji-picker.js\",\"module-type\":\"library\",\"type\":\"application/javascript\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/neotw-emoji-picker/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-emoji-picker/readme\",\"text\":\"<div class=\\\"prose max-w-none\\\">\\n\\n!! Neotw Emoji Picker\\n\\n* [[Source|https://github.com/oeyoews/neotw/tree/main/plugins/oeyoews/neotw-emoji-picker]]\\n* [[Demo|https://oeyoews.github.io/neotw]]\\n\"},\"$:/plugins/oeyoews/neotw-emoji-picker/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-emoji-picker/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-emoji-picker/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-emoji-picker widget\\n\\n\\\\*/\\n(function () {\\n  /*jslint node: true, browser: true */\\n  /*global $tw: false */\\n  'use strict';\\n\\n  const Widget = require('$:/core/modules/widgets/widget.js').widget;\\n\\n  class EmojiPickerWidget extends Widget {\\n    constructor(parseTreeNode, options) {\\n      super(parseTreeNode, options);\\n    }\\n\\n    render(parent, nextSibling) {\\n      if (!$tw.browser) return;\\n\\n      this.parentDomNode = parent;\\n      this.computeAttributes();\\n      this.execute();\\n\\n      const { emojiComponent } = require('./emoji-picker');\\n      const root = emojiComponent();\\n      parent.insertBefore(root, nextSibling);\\n      this.domNodes.push(root);\\n    }\\n\\n    handlerClick = () => {\\n      console.log('This require just load once');\\n    };\\n  }\\n\\n  exports['emoji-picker'] = EmojiPickerWidget;\\n})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}