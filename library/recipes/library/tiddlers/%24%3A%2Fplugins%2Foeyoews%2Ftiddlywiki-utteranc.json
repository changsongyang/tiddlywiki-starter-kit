{"title":"$:/plugins/oeyoews/tiddlywiki-utteranc","description":"A Lightweight Comments Widget Built On Github Issues","author":"oeyoews","version":"0.1.0","core-version":">=5.2.5","type":"application/json","plugin-type":"plugin","name":"Tiddlywiki Utteranc","list":"readme config","dependents":"","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/tiddlywiki-utteranc/readme\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/readme\",\"text\":\"* Êú¨Êèí‰ª∂Ê†πÊçÆ [[tiddlywiki-utteranc|https://tw5-github-comments.joseli.to/]] ‰øÆÊîπËÄåÊàê\\n* {{$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-icon}} A Lightweight Comments Widget Built On Github Issues\\n\\n!! TODO\\n\\n* convert widget ot js macro\\n* add viewtoolbar status like favourite plugin\\n* add filter config option\\n\"},\"neotw comment area\":{\"title\":\"neotw comment area\",\"text\":\"<center>\\n\\tËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫ÊµãËØïÈ°µÈù¢ üòÑ\\n</center>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-utteranc/config\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/config\",\"caption\":\"utteranc config\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define tid() $:/plugins/oeyoews/tiddlywiki-utteranc/config\\n\\n<table>\\n  <tr>\\n\\n    <th align=\\\"left\\\">Github Repo Link:</th>\\n    <td>\\n      <$edit-text\\n          tiddler=<<tid>>\\n          placeholder=\\\"username/reponame\\\"\\n          field=\\\"repo\\\"\\n          tag=\\\"input\\\"\\n          default=\\\"\\\" />\\n    </td>\\n    <td>\\n      <$button>\\n        Reset Config\\n        <$action-deletetiddler $tiddler=<<tid>>/>\\n      </$button>\\n    </td>\\n\\n </tr>\\n</table>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-utteranc/icon\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/icon\",\"text\":\"<svg aria-hidden=\\\"true\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" data-view-component=\\\"true\\\" class=\\\"octicon octicon-comment-discussion UnderlineNav-octicon d-none d-sm-inline\\\">\\n    <path fill-rule=\\\"evenodd\\\" d=\\\"M1.5 2.75a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v5.5a.25.25 0 01-.25.25h-3.5a.75.75 0 00-.53.22L3.5 11.44V9.25a.75.75 0 00-.75-.75h-1a.25.25 0 01-.25-.25v-5.5zM1.75 1A1.75 1.75 0 000 2.75v5.5C0 9.216.784 10 1.75 10H2v1.543a1.457 1.457 0 002.487 1.03L7.061 10h3.189A1.75 1.75 0 0012 8.25v-5.5A1.75 1.75 0 0010.25 1h-8.5zM14.5 4.75a.25.25 0 00-.25-.25h-.5a.75.75 0 110-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0114.25 12H14v1.543a1.457 1.457 0 01-2.487 1.03L9.22 12.28a.75.75 0 111.06-1.06l2.22 2.22v-2.19a.75.75 0 01.75-.75h1a.25.25 0 00.25-.25v-5.5z\\\"></path>\\n</svg>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-utteranc/macro/utteranc\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/macro/utteranc\",\"module-type\":\"macro\",\"tags\":\"$:/tags/Macro\",\"type\":\"application/javascript\",\"text\":\"(function () {\\n\\n\\t/*jslint node: true, browser: true */\\n\\t/*global $tw: false */\\n\\t\\\"use strict\\\";\\n\\n\\texports.name = \\\"github-comments\\\";\\n\\n\\texports.params = [\\n\\t\\t{ \\\"name\\\": \\\"current\\\" },\\n\\t];\\n\\n\\t/*\\n\\tRun the macro\\n\\t*/\\n\\texports.run = function (current) {\\n\\t\\t// Interactive DOM not available when generating static pages\\n\\t\\tif (!$tw.browser) return;\\n\\n\\t\\t/* Remove current Utteranc.es parent element */\\n\\t\\tconst currentGhCommentsEL = document.getElementById(\\\"gh-comments\\\");\\n\\t\\tif (currentGhCommentsEL !== null) {\\n\\t\\t\\tcurrentGhCommentsEL.remove()\\n\\t\\t}\\n    var configUtterancTiddler = \\\"$:/plugins/oeyoews/tiddlywiki-utteranc/config\\\"\\n    var configUtteranc = $tw.wiki.getTiddler(configUtterancTiddler)\\n    var config = configUtteranc ? configUtteranc.fields : {};\\n\\n\\t\\t/* Load Utteranc.es */\\n\\t\\tvar script = document.createElement('script');\\n\\t\\tscript.async = true\\n\\t\\tscript.src = 'https://utteranc.es/client.js'\\n\\t\\tscript.setAttribute('repo', config.repo)\\n\\t\\tscript.setAttribute('issue-term', current)\\n\\t\\tscript.setAttribute('theme', config.theme || \\\"github-light\\\")\\n\\t\\tscript.setAttribute('crossorigin', 'anonymous')\\n\\n\\t\\t/* Create Github Comments Element */\\n\\t\\tconst ghCommentsEl = document.createElement('div');\\n\\t\\tghCommentsEl.id = \\\"gh-comments\\\";\\n\\t\\tghCommentsEl.appendChild(script);\\n\\n\\t\\t/* Append to Wrapper */\\n\\t\\tdocument.querySelector('div[data-tiddler-title=\\\"' + current + '\\\"] .gh-comments-wrapper')\\n\\t\\t\\t.appendChild(ghCommentsEl);\\n\\n\\t\\t$tw.utils.nextTick(function () {\\n\\t\\t\\t$tw.rootWidget.dispatchEvent({\\n\\t\\t\\t\\ttype: \\\"github-comments-did-insert-element\\\",\\n\\t\\t\\t\\ttarget: ghCommentsEl\\n\\t\\t\\t});\\n\\t\\t});\\n\\t};\\n})();\\n\"},\"$:/plugins/oeyoews/tiddlywiki-utteranc/style\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/style\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".breakzplatform-github-comments-toggle {\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\ttext-align: right;\\n}\\n\\n.breakzplatform-github-comments-toggle img {\\n\\theight: 1rem;\\n}\\n\\n.gh-comments-wrapper {\\n\\tmin-height: 100px;\\n}\\nCSS\\n\"},\"$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-icon\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-icon\",\"text\":\"<svg stroke=\\\"\\\" fill=\\\"\\\" stroke-width=\\\"0\\\" t=\\\"1569682881658\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" height=\\\"1em\\\" width=\\\"1em\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><defs></defs><path d=\\\"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zM293 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z\\\"></path><path d=\\\"M894 345c-48.1-66-115.3-110.1-189-130v0.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l0.8 132.6c0 3.2 0.5 6.4 1.5 9.4 5.3 16.9 23.3 26.2 40.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-0.5 0.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102z m505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-0.2-0.1C613.7 788.2 680.7 742.2 729 676c76.4-105.3 88.8-237.6 44.4-350.4l0.6 0.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z\\\"></path><path d=\\\"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z\\\"></path></svg>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-utteranc/viewtoolbar/github-comments-open-listener.js\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/viewtoolbar/github-comments-open-listener.js\",\"type\":\"application/javascript\",\"module-type\":\"startup\",\"text\":\"(function () {\\n\\n\\t/*jslint node: true, browser: true */\\n\\t/*global $tw: false */\\n\\t\\\"use strict\\\";\\n\\n\\t// Export name and synchronous status\\n\\texports.name = \\\"open-github-comments\\\";\\n\\texports.synchronous = true;\\n\\n\\texports.startup = function () {\\n\\t\\t$tw.rootWidget.addEventListener(\\\"github-comments-did-insert-element\\\", function (event) {\\n\\t\\t\\t$tw.pageScroller.scrollIntoView(event.target);\\n\\t\\t});\\n\\t};\\n\\n})();\\n\"},\"$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-pagecontrol\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-pagecontrol\",\"tags\":\"$:/tags/PageControls\",\"text\":\"\\\\whitespace trim\\n\\n<$reveal type=\\\"nomatch\\\" state=\\\"$:/state/oeyoews/github-comments\\\" text=\\\"neotw comment area\\\">\\n  <$set name=\\\"stateTiddler\\\" value=\\\"$:/state/oeyoews/github-comments\\\">\\n        <$button tooltip=\\\"Message Here\\\" aria-label=\\\"Message Here\\\"\\n        class=<<tv-config-toolbar-class>> set=\\\"$:/state/oeyoews/github-comments\\\"\\n        setTo=\\\"neotw comment area\\\" >\\n          {{$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-icon}}\\n          <$action-sendmessage $message=\\\"tm-close-all-tiddlers\\\"/>\\n          <$action-navigate $to=\\\"neotw comment area\\\"/>\\n        </$button>\\n  </$set>\\n</$reveal>\\n\\n<$reveal type=\\\"match\\\" state=\\\"$:/state/oeyoews/github-comments\\\" text=\\\"neotw comment area\\\">\\n        <$button tooltip=\\\"Message Here\\\" aria-label=\\\"Message Here\\\" class=<<tv-config-toolbar-class>>>\\n          {{$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-icon}}\\n        </$button>\\n</$reveal>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-utteranc/template\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/template\",\"tags\":\"$:/tags/ViewTemplate\",\"text\":\"<$list filter=\\\"[all[current]!is[system]]\\\" variable=\\\"comment\\\">\\n\\t<$set name=\\\"stateTiddler\\\" value=\\\"$:/state/oeyoews/github-comments\\\">\\n\\n\\t\\t<$reveal type=\\\"nomatch\\\" state=<<stateTiddler>> text=<<currentTiddler>>>\\n\\t\\t\\t@@.breakzplatform-github-comments-toggle\\n\\t\\t\\t\\t<$button class=\\\"tc-btn-invisible\\\" set=<<stateTiddler>> setTo=<<currentTiddler>> >\\n\\t\\t\\t\\t\\t{{$:/core/images/down-arrow}}\\n\\t\\t\\t    {{$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-icon}}\\n          Show Comments\\n\\t\\t\\t\\t</$button>\\n\\t\\t\\t@@\\n\\t\\t</$reveal>\\n\\n\\t\\t<$reveal type=\\\"match\\\" state=<<stateTiddler>> text=<<currentTiddler>>>\\n\\t\\t\\t@@.breakzplatform-github-comments-toggle\\n\\t\\t\\t\\t<$button class=\\\"tc-btn-invisible\\\" set=<<stateTiddler>> setTo=\\\"\\\">\\n\\t\\t\\t\\t\\t{{$:/core/images/up-arrow}}\\n\\t\\t\\t    {{$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-icon}}\\n          Hide Comments\\n\\t\\t\\t\\t</$button>\\n\\t\\t\\t@@\\n\\n\\t\\t\\t<div class=\\\"gh-comments-wrapper\\\"></div>\\n\\n\\t\\t\\t<$macrocall $name=\\\"github-comments\\\" current=<<currentTiddler>>/>\\n\\n\\t\\t</$reveal>\\n\\n\\t</$set>\\n</$list>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-utteranc/viewtoolbar/github-comments-open\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-utteranc/viewtoolbar/github-comments-open\",\"description\":\"View Github comments\",\"list-before\":\"$:/core/ui/Buttons/info\",\"tags\":\"$:/tags/ViewToolbar\",\"text\":\"\\\\whitespace trim\\n\\n<$list filter=\\\"[all[current]!is[system]]\\\" variable=\\\"comment\\\">\\n\\t<$button tooltip=\\\"View GitHub comments\\\" aria-label=\\\"github comments\\\" class=<<tv-config-toolbar-class>> set=\\\"$:/state/oeyoews/github-comments\\\" setTo=<<currentTiddler>> >\\n\\t\\t<$list filter=\\\"[<tv-config-toolbar-icons>prefix[yes]]\\\">\\n\\t\\t\\t{{$:/plugins/oeyoews/tiddlywiki-utteranc/utteranc-icon}}\\n\\t\\t</$list>\\n\\n\\t\\t<$list filter=\\\"[<tv-config-toolbar-text>prefix[yes]]\\\">\\n\\t\\t\\t<span class=\\\"tc-btn-text\\\">\\n\\t\\t\\t\\t<$text text=\\\"view GitHub comments\\\"/>\\n\\t\\t\\t</span>\\n\\t\\t</$list>\\n\\t</$button>\\n</$list>\\n\"}}}"}