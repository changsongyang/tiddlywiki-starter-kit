{"title":"$:/plugins/oeyoews/tiddlywiki-prettier","description":"tiddlywiki-prettier","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"tiddlywiki-prettier","meat#disabled":"yes","qrcode":"yes","created":"2024-02-03","dependents":"","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/tiddlywiki-prettier/readme\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-prettier/readme\",\"text\":\"<!-- plugin template readme -->\\n\\n## Motivation\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\",\"type\":\"text/markdown\",\"description\":\"tiddlywiki-prettier\"},\"$:/plugins/oeyoews/tiddlywiki-prettier/format.js\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-prettier/format.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/tiddlywiki-prettier/format.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/tiddlywiki-prettier/scripts\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-prettier/scripts\",\"tags\":\"$:/tags/RawMarkup\",\"type\":\"application/javascript\",\"text\":\"<script src=\\\"https://unpkg.com/prettier@3.2.4/standalone.js\\\"></script>\\n<script src=\\\"https://unpkg.com/prettier@3.2.4/plugins/markdown.js\\\"></script>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-prettier/widget.js\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-prettier/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/tiddlywiki-prettier/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\ntiddlywiki-prettier widget\\n\\n\\\\*/\\nconst{widget:t}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports[\\\"widget-xKmqEelY6V\\\"]=class extends t{constructor(t,e){super(t,e),this.prettier=null,this.plugins=null,this.formatedText=\\\"\\\"}render(t,e){if(!$tw.browser)return;if(this.document.isTiddlyWikiFakeDom)return;if(this.computeAttributes(),this.execute(),!window.prettier)return;if(!window.prettierPlugins)return;if(this.prettier=window.prettier,this.plugins=window.prettierPlugins,!this.plugins.markdown)return void console.warn(\\\"Miss prettier markdown plugin\\\");const i=$tw.utils.domMaker,r=i(\\\"button\\\",{text:\\\"format\\\"});r.addEventListener(\\\"click\\\",(async()=>{this.formatedText=await this.format(\\\"one 测试，\\\",\\\"markdown\\\"),console.log(this.formatedText)}));const s=i(\\\"div\\\",{children:[r]});t.insertBefore(s,e),this.domNodes.push(s)}async format(t,e){return await this.prettier.format(t,{parser:e,plugins:[this.plugins[e]]})}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}