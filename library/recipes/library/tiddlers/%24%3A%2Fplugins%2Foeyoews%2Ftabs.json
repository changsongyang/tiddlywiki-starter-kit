{"title":"$:/plugins/oeyoews/tabs","description":"tabs","author":"oeyoews","version":"0.0.1","core-version":">=5.3.1","type":"application/json","plugin-type":"plugin","name":"tabs","meat#disabled":"yes","qrcode":"yes","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/tabs/readme\":{\"title\":\"$:/plugins/oeyoews/tabs/readme\",\"text\":\"## Tabs\\n\\nhttps://github.com/Jermolene/TiddlyWiki5/blob/758089cbb35e40ac35b8205ab9be243d13725a40/core/wiki/macros/tabs.tid#L2\\n\",\"type\":\"text/markdown\",\"description\":\"tabs\"},\"$:/plugins/oeyoews/tabs/widget.js\":{\"title\":\"$:/plugins/oeyoews/tabs/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/tabs/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\ntabs widget\\n\\n\\\\*/\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n\\nclass TabsWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const { filter } = this.attributes;\\n    const createElement = $tw.utils.domMaker;\\n\\n    const tiddlers = $tw.wiki.filterTiddlers(filter);\\n    const buttonsContainer = this.document.createElement('div');\\n    buttonsContainer.className = 'rounded-lg flex justify-center items-center';\\n    const buttons = this.document.createElement('div');\\n    buttons.className = 'space-x-2 space-y-2 p-1 bg-neutral-200';\\n    buttonsContainer.append(buttons);\\n\\n    let children = [buttonsContainer];\\n\\n    tiddlers.forEach((tiddler, index) => {\\n      const btn = this.document.createElement('button');\\n      btn.textContent = tiddler;\\n      btn.className = 'p-2 rounded transiton-all duration-400';\\n      btn.id = `btn-${index}`;\\n      buttons.append(btn);\\n      const content = document.createElement('div');\\n      content.className = 'tab';\\n      content.id = `tab-${index}`;\\n      const tiddlerContent = $tw.wiki.renderTiddler('text/html', tiddler);\\n      content.innerHTML = tiddlerContent;\\n      if (index !== 0) {\\n        content.style.display = 'none';\\n      }\\n      children.push(content);\\n      btn.addEventListener('click', () =>\\n        openTab(`tab-${index}`, `btn-${index}`),\\n      );\\n    });\\n\\n    const openTab = (tab, btn) => {\\n      const buttons = buttonsContainer.querySelectorAll('button');\\n      const tabs = document.getElementsByClassName('tab');\\n      Array.from(buttons).forEach((btn) =>\\n        btn.classList.remove('bg-neutral-100'),\\n      );\\n      Array.from(tabs).forEach((tab) => (tab.style.display = 'none'));\\n      document.getElementById(tab).style.display = 'block';\\n      document.getElementById(btn).classList.add('bg-neutral-100');\\n    };\\n\\n    const domNode = createElement('div', {\\n      children,\\n    });\\n\\n    parent.insertBefore(domNode, nextSibling);\\n    this.domNodes.push(domNode);\\n  }\\n  refresh() {\\n    return false;\\n  }\\n}\\n\\n/**\\n * @description tabs widget\\n * @param\\n */\\nexports.tabs = TabsWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}