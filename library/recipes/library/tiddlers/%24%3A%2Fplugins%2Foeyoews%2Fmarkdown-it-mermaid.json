{"title":"$:/plugins/oeyoews/markdown-it-mermaid","description":"markdown-it-mermaid","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"markdown-it-mermaid","meat#disabled":"yes","qrcode":"yes","created":"2024-01-28","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/markdown-it-mermaid/readme\":{\"title\":\"$:/plugins/oeyoews/markdown-it-mermaid/readme\",\"text\":\"<!-- plugin template readme -->\\n\\n## Motivation\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\",\"type\":\"text/markdown\",\"description\":\"markdown-it-mermaid\"},\"$:/plugins/oeyoews/markdown-it-mermaid/markdown-it-mermaid.js\":{\"title\":\"$:/plugins/oeyoews/markdown-it-mermaid/markdown-it-mermaid.js\",\"text\":\"module.exports=e=>{const{mermaidAPI:r}=require(\\\"$:/plugins/orange/mermaid-tw5/mermaid.min.js\\\"),t=e=>{try{return r.parse(e),`<div class=\\\"mermaid\\\">${e}</div>`}catch({str:e,hash:r}){return`<pre>${e}</pre>`}};e.mermaid=r,r.loadPreferences=e=>{let t=e.get(\\\"mermaid-theme\\\");void 0===t&&(t=\\\"default\\\");let a=e.get(\\\"gantt-axis-format\\\");return void 0===a&&(a=\\\"%Y-%m-%d\\\"),r.initialize({theme:t,gantt:{axisFormatter:[[a,e=>1===e.getDay()]]}}),{\\\"mermaid-theme\\\":t,\\\"gantt-axis-format\\\":a}};const a=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(e,r,i,m,n)=>{const s=e[r],d=s.content.trim();if(\\\"mermaid\\\"===s.info)return t(d);const o=d.split(/\\\\n/)[0].trim();return\\\"gantt\\\"===o||\\\"sequenceDiagram\\\"===o||o.match(/^graph (?:TB|BT|RL|LR|TD);?$/)?t(d):a(e,r,i,m,n)}};\",\"type\":\"application/javascript\",\"module-type\":\"markdownit\"}}}"}