{"title":"$:/plugins/oeyoews/tw-dev","description":"Tw Dev","author":"oeyoews","version":"0.0.1","core-version":">=5.2.5","type":"application/json","plugin-type":"plugin","name":"Tw Dev","dependents":"","list":"readme explore","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/tw-dev/readme\":{\"title\":\"$:/plugins/oeyoews/tw-dev/readme\",\"text\":\"<a style=\\\"text-decoration:none;\\\" href=\\\"https://github.com/oeyoews/neotw\\\" target=\\\"_blank\\\">\\n  <img src=\\\"https://img.shields.io/badge/Powered by-Neotw-green?style=social&logo=data:image/svg%2bxml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM6c2VyaWY9Imh0dHA6Ly93d3cuc2VyaWYuY29tLyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDIxMTUgMjQ4MSIgdmVyc2lvbj0iMS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KICA8cGF0aCBpZD0iUG9seWdvbi0xIiBkPSJNMTA1Ny4yMywwbDEwNTcuMjMsNjIwLjA3OWwwLDEyNDAuMTZsLTEwNTcuMjMsNjIwLjA3OWwtMTA1Ny4yMywtNjIwLjA3OWwtMCwtMTI0MC4xNmwxMDU3LjIzLC02MjAuMDc5Wm00MDkuMzk1LDE4NDguNzdsMTUuODczLC0yLjExYzExLjY5OSwtNC4zNTQgMjIuNjQ1LC04LjM2OSAyOS44MDQsLTE5LjU5M2MyMy40MDEsLTMzLjk4OCAtMzYuOTA2LC00Ny43NjUgLTU4LjUwOCwtODUuNDIzYy0yMS42MDYsLTM3LjY1NSAtMTEwLjcxNiwtMjQ0LjMxOSAtNDMuMjA4LC0zMDIuMTg1YzY3LjUxMiwtNTcuODY1IDE0MC40MjQsLTgxLjc0NSAxNjguMzI2LC0xMzUuOTM3YzEyLjA4MiwtMjQuNDQxIDI0LjYxNSwtNDkuMSAyNy44MDQsLTc2LjczNmMxNi40MzksMTMuNjQ0IDI5LjI4OCwyNi40MjMgNTEuNDA3LDI3LjEzN2M1OC41MDgsMy42NzUgMTA4LjkxOCwtNjcuOTY4IDEzNS4wMjEsLTEzNS45MzZjMTMuOTQ5LC00MS43MTggMjUuMjMyLC04NS45NTUgMjIuNTcsLTEyNi43Yy03LjE1OSwtNzguNTIxIDEuMzQsLTE2My40MzIgNjMuOTk0LC0yMTUuNjI0Yy02MS44MywzMS4yMDkgLTEyMC41ODIsNzEuMzI5IC0xOTAuNTk1LDgxLjQ2N2MtMzguNjcyLC0xMS43NDQgLTc3LjU2NywtMjIuMzI1IC0xMTguNTIxLC0yMC42NjVjLTIwLjA2OSwtMjYuMTQxIC00Ny4xODIsLTc1LjA2OCAtODIuMzY4LC04MC43MzljLTU5Ljk1MiwyMS40NTQgLTYxLjc0LDExNC4xMjggLTg3LjAzLDIzOS44NjdjLTM5LjA2OSwtMTAuNjI0IC03OC44MzIsLTE4LjA4MyAtMTE5LjMyNSwtMTkuOTczYy01NS44MDgsLTMuNjc1IC0xNDYuNzIyLDEzLjc3NyAtMjEwLjYzMiwxMS45NGMtNjMuOTA4LC0xLjgzNyAtMTg5LjY4OSwtNTguMDkzIC0yOTQuMzQyLC00NS45MjRjLTQyLjA3Nyw1LjE3NCAtODQuNDc2LDEyLjM1NiAtMTIzLjUzOCwzMC4wNTZjLTIzLjg5NywxMC44MjkgLTU4LjM5NSw0My40OTUgLTc1Ljc0MSw0OC4zNDZjLTE3NC43NjgsNDguODYgLTQ1OS4wNzUsNDYuODM5IC00MDAuOTA0LC0yMTcuMjA2YzQuNTMsLTIwLjI4MSA1LjgyMywtMzguNTY5IC0zLjE4MSwtNDMuMTI4Yy0xMS4yMTksLTUuNjgyIC0xNy41MTQsNi4yMTUgLTI0LjEzMiwxOS4zMDFjLTEwMS43NjcsMjIwLjk4MyA3OC45NjQsMzYzLjE2OSAyODQuNDc1LDM2My44MTFjNjQuNTMxLC00Ljk4MSAzMy40MjMsLTAuNzE4IDkzLjQxMSwtMTIuMTc3bC0xLjUzLDguNDczYy00LjIzOSw3My4xOTggMjguNDEzLDEzNy44MTggODkuMzgsMTc3LjUxM2MtMjcuOTcsNzkuNzM1IC04My4yNTMsMTQzLjUyMiAtMTIxLjIwMiwyMTYuNzVjMTQuMjY1LDkxLjA0MSAxMDYuNTI1LDIxMi41OTggMTQ0LjcwNywyMjkuOTFjMzMuNjEsMTUuMjQyIDEwNy4wMDIsMTUuMzkyIDEyMy45NzEsLTkuMTM3YzYuMDYsLTExLjUzNSAyLjA3NSwtMzYuMzI0IC00LjYwNywtNDkuMDIyYzI4LjcwMSwzMS43OTggNjcuMzMsNzYuMDg5IDEwNC43MzIsOTcuMzkzYzIyLjM5NywxMC42OCA0NC44NjMsMTcuNjA1IDY5Ljk5NywxOC40NjhsMzEuOTQyLC0xLjUzMmMxNS45NjgsLTMuNDQxIDM0Ljc2MywtNi4wMTggNDUuNDU2LC0yMC4yMTljMTIuMDgyLC0yMC41NDggMC44MDYsLTc4LjA3OCAtNDkuMTMxLC04Mi4xODdjLTQ5LjkzOCwtNC4xMTQgLTgyLjE1NSwtMjMuMDEyIC0xMjguMDY1LC05MS4yMjhjLTM3LjgyMiwtNjUuOTQ4IDcuOTM2LC0xNTYuNzczIDIzLjMzLC0yMjEuNjYzYzc4Ljk5NiwxMi43MTMgMTU4LjU2OCwyMi43MjQgMjM4LjY4MywyMi45MjRjMzQuNzU3LC0xLjc2NyA2OS4yMDMsLTMuMDIyIDEwMy40NjMsLTkuNjA0YzEwLjkyOCwyNy45MTUgNDEuNTE5LDEwNS45OTYgNDEuNzgsMTI4LjA1NWMwLjczNyw2Mi4xNDIgLTIyLjYyNCwxMjQuNTkyIC0xMi41NjksMTg2LjcyMmM2LjI4NiwxOC4zMDMgMC41NjIsNTIuOTQ1IDM2LjI5Miw1NC4zNjRjMjEuMzcsMS4wODUgOC4wMjEsMC40MjcgNDAuMDUzLDEuODc5bDI3LjUyLC0wLjgwNWMzNS4zMSw1OS4yNDkgNjUuODA1LDU5LjA3NyAxMzUuMTM4LDYxLjA3N1ptLTc3Ni45NzksLTE3MS41bC02LjUxNywtNS44MDNjLTE5LjA0NCwtMjAuNTAzIC02OC4xNTcsLTU2LjI3NyAtNTkuMTM2LC04OS40MzRjNy43MDksLTI0LjU3NyAyMi4wNTEsLTQ3LjI3NCAzMy4zNTMsLTcwLjYyMmwtMC40MDcsMi40MTNjLTIuMDI0LDI5LjE2NiAtNi4wNCw1Ny45MTYgMy4zNzEsODYuNDg3YzI4LjY3MiwyMy42IDY4LjQ2OCw2MS4wMzQgOTQuODg0LDg2LjUyNmMtMTQuMzQ2LC0zLjk1OSAtNDEuMzg4LC0xMi4wNTcgLTU0Ljg0MiwtNi44MThsLTEwLjcwNiwtMi43NDlaIi8+Cjwvc3ZnPgo=\\\" />\\n</a>\\n<a style=\\\"text-decoration:none;\\\" href=\\\"https://github.com/oeyoews\\\" target=\\\"_blank\\\">\\n  <img src=\\\"https://img.shields.io/badge/Author-oeyoews-blueviolet?style=social&labelColor=white&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAACzNJREFUWEedl2mMXeV5x39nP+fuM/fembkzHs9mjw022B68sNlgbEMxmMSunAZISEUsqkpVvoCIaFXUpKoEEvQDUVXFhCiRUtKqbmkJoUUhRAlgwMZju/Yw9ti+ZhbPnfXu29mrc13chtKAej6dD+953995nvf5P/9H4As+B3cfjM/kJvdauHdF2kIjSwuFvprjJxwHSuVyUfDqkx2JxGgi2vZWXvdfz544UfoiWwuftyiqRYe7M73fjhnag7lCwZAEkVKzjuP4SJJCOBKlXM4jAookIggS/UPdjXgm8dNKzX322C9/OfG7zvgdAN2hnqH278Yl6VvpRJvS1p7gg5MnqVdrmL6Poup4LkSjEZpmDXwRBJ9mo0FE1xgcXoEWitilQvEFZUX30yd+9rP6Z4F8NoC2YrWC80p7MrpO8Gw8x8HzPfLlCr7nE48mEFWFRs2kszNNLjeLrkfwfAvHsfBd0FWBrkwazTBwPHGsYVX2Z8fHL3wa4n8BKKHUiOtLb4g+KREP2/kvcD9YKiDLBpqqEGtPUlouoigSbhAKH1QtSIFIpVJBlDxwfXp7M4iGQmcqvHTo4b33fP3RPxv9nxC/BXD/thWrT05aR5eqQkqTVRr1BrZdb20qigq6EW69ByyKpGKZJo7joGoKjUadRLod2fewTItytYTvCRi6SmZFB0ODKQ4+cNtSvly59cknX7gWiWsAN3V3h5Id7rGJBX9d2Q7RbNRo1K7+vSCK6EaIcDiGKArUGxam2QTfw8dBkiRcBzzPRTU0cD1UVaVWayIKJnfctYNGPc/G9b20RdWx+Xxx6+HDV+/ENYBdN699TmgWH88uwpWlBrbrtnIviiKyrCOpBuGwhmM7mJaDbdn4flAJPqqiIMsi1VoTAQlBFFop8XwfD5M9e+6kUJxn7VCKNQMZNN14/omnvvfENYCnnn9++PK7/372yvlTiqN1cfKjGZq2FVxqBHxESUZWQui6hiCL1Mo1HMdFkiAWNkglo6RiOqWlIqbjMbtcwfJcBFHGcW1GRjZgGA5f+9LNdHSECRlRe9Vg2/qhjY9NtCLw58/97UuXPnj10amzo5TdMJdzFSpB+AUQfR9BkAmF4+iaQqVaaf2ZJssMD6TZsGoFN1y3kogiILlWKypH3jrFW6OXsV0PkLhp83okscb2zavYdccII1u3YFZKP+y9/sA3hYOPPRPvWGHkymNvGpfPnGCqAPkqVGvlVl0bskBbJEJc19BlUBQZ23e4fnAlDx/YQ19PD8n2BFajjNuoYNlN/uVXJ3jhyNsslprEY1H6+3ux7TLtcYVUXKc9FcNz/UZ2ejEj7Dn0nQc9kZdXlD4ke+Z4C2Cq4CE4NuBw21An1/XGCesq8WiMiK4Ti4XZcON19PX1o2g6kizieRa2Wadh1Tl1doJnfvJrphfLqJrG6jUD9HS3EQ8LxKM6/3F6HF3XURX5IWHvI4+/aBrRQ6uao0ycfI/posSleRddCTa1ObC5n22re4kn4nSkYySiEVIdcWLxOJoeapWnJ/gIQfk5AYTJ7NwcP3rtOO+fnaFYq3Fg3y42rutnOr9Ef2+KsY8uU63WcW37B8LXDv7RCae3c6TbnGD82DtMLQucm26g6TICNg9s6ueezWtZ2d9JPBYmFgoRCRto4RCirCIKMoIk4joOtt3ENE0Wl/J8PJ3jyK/HGD1/he98fQ+L+TIMDNDZHeHU6YsYihbckVHh0Sf/ZCnRHk3mZiaZvXSF7LlpZmeu5j8Sktl5XScH7tzIqv4M7ZEoRsggZOioIaOlD4KkIApiS5CCNNQbdRaW8piWxZnsFY68cZrH7tpCpD3GclcXnR0xiuUysqwyfWVhWejafqvjNJuSZdawKw7WUgm/4SCIsGGwi86oyB/sHGF4qJtkNEooHG7lT9E0EAUEKah5EdPymbySYzm/DL5Fe1sY04K///kHbEy3MzS8ir84cwo5oqPLBkZEQ1YkV7jlttucRsOWaqbZUr7FhRKO7eL7Ltuv70MXbO6+/Xo2rO2nMxEmounomoam67iujy9KZGeXePv4OQTZp78rTiQs0dmRxDId3v/wAuv6+7AFme+9826rfRvB95qG5/musH3XHUuNqplsNmyqtTpz83ls021J8Ia+NP1JjYGeJKYnouoa6USUNV0J+oKDQiFOj2W5NFOgZ6AHI6xSzxdYPZgmk+liYXmZ8XPTZJKd/GIiy2SzSSgcQVdUZEVGEFgWdty984TdtEfMpk2tWmdmepFm02kB9KXDfGnzMCu7YkiKSHu8jbliDbfZJBNT2HHLJj48dY65fI3ZokksGmZkXTdrhrqRJJGZ3CIXL0zT2ZHix8fHcWQZwzCQFQVFFZBERoVd9+950Wlah0zToVJtMJXNUa8HGhCooM0Dt9zA7es70ESB7NQSNUdiTX836bjMrp23Uq1WWS6UCJySqohEIhqGptJwLLJT82Qn55hYrpKtmYRCBoqitsQskHQB/wfC3t/f96BrWi83Gha1SpMLE1PUaua1lh2NyDx+YAsbV2VQfaXVeHRDxvM8eoeHiEQiWKVCq3EJooQsyTi+TaFa4dLUAuenFjieqyKoBooW+AmhZeUkRQZJfEjYfXB3XLWUXLPpGOVSnYsTk1QqzWsAkgL3bl7Jw9tvoK+rg3BIRxS9VqllVg2QyXRTWZyjVqyRbEsgSiL1RoP5YpFLswXOXJ7j6JUG4UiEWExCEoMOKgZ3oOFbZqbVjO778n0vNZv2o+VKg4vnJimXr/qAoBWLsowsODyxfxt7Ng3SlUriezaXZmZZe+MNpJPtVCtl5mdyKIiEQxp1q8lCqcTElTxvn1ng38ZMYvEImu4x0JcmHJYxNPGHPzr80jdbAHv37x32Pc4WCw3l/PjHlIqVawCyLLckdtNgij++50ZW96RbopOdztHT3U0qkeBcdpbhNX20x0M063WWi0WWqhUm5yu8dmyB0ZxAyIjhiQKyqBGJRW1dkdeffufFq+04eO69/97nqjXz8Y/GshTyFQSu+jtZEbFdB0NTeGj7EBtWJlFVgW3bRkilk9SqNZLpDL7vYdebWE0TWZMoFIq8P3qeV0+XOPqxg6GGUVWNpmXhev7zuY/+4b8NSQCwb9++UKFSO3Zu/PK6ACBQtyAFQadr2RLPZkU6xd0b4uzfvZW1Qz1E2pLooTZcuxEYIARRwXcEJrMXKc0tsrKnn0U3xJf/6udIWhg5EB9BGGtOzm+dnf2UJQsgtm3bsfpCdvJoqVBLQXC4TFuyC1VVMC2P/NISTx/awkN7NhHWNdRwDEUP41gN5mfmqRTKOL6EpIX419ffZNNNmzh6ReGf350ObFgg3UuSZNw6/pvPMKWfpEJRUiOaYbyRSq9MxVM9NOsmc7kc9UaFb+wd5omHbyFmRFs9IAipEYliWRa+57W0AE/k/PlJTp45w+DO+/j+K2O8894EkXh8SVale8bfPvx/2/JPIHbs+MPVF3Nzr9SqpXWB97OtJl/d3c+fPnIbEc1oHSwEHkAQMcIJXNehWiphOzaNusOliRmqSGz8yjd46i9f5jfvjo0Jqrx/cfyfPn8w+QSiu/umUM3Tvuv47rd+b1u38syhm4mEohi60ZqSguFAknVkJQyuiWU1Wxcx0JD3jp4ks2kbmS2323/9N6+98Orf/erpT3L+uZPRpxcMrt06/PqzX/l2VBcfDEfThiQruIFR9WVwRFo9pJhn6vIUsqGxWCgxtVxu3PnVR34aTvc+OzQ09P8dTn8b5dIvvh/vTHbs9fDv8n1GfFfos+tWYnEhz+EfHyl2xWOTw6sHRk+dPfPWnOi/fvgf3/xC4/l/Aped+ww20f6bAAAAAElFTkSuQmCC\\\" alt=\\\"author\\\"/>\\n</a>\\n<$image source={{{ [[][https://img.shields.io/badge/Version-]] [<currentTiddler>get[version]] [[-red?style=social]] +[join[]]}}} />\\n\\n<$button setTitle=<<tabsState>> setField=\\\"text\\\" setTo=\\\"contents\\\">\\n  Contents\\n</$button>\\n<$button setTitle=<<tabsState>> setField=\\\"text\\\" setTo=\\\"explore\\\">\\n  Explore\\n</$button>\\n\\n!! Tw Dev\\n\\n* [[Source|https://github.com/oeyoews/neotw/tree/main/dev/plugins/tw-dev]]\\n* [[Demo|https://oeyoews.github.io/neotw]]\\n\"},\"Adding Babel Polyfill to TiddlyWiki\":{\"title\":\"Adding Babel Polyfill to TiddlyWiki\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Not all browsers support the latest features of ES2015. The Babel project offers a polyfill that can be included into your TiddlyWiki so those features can be available to your plugins. To do this you will need a copy of the polyfill source.\\n\\nYou can obtain the source either through <<.def \\\"npm\\\">> or downloaded/saved. See the [[Babel Polyfill documentation|https://babeljs.io/docs/usage/polyfill/]] for specific information on installing it.\\n\\nIn your TiddlyWiki editions folder make sure you have a `plugins/babel-polyfill` folder. Then create the `plugins/babel-polyfill/plugin.info` file with the following in it:\\n\\n```json\\n{\\n  \\\"title\\\": \\\"$:/plugins/babel/babel-polyfill\\\",\\n  \\\"description\\\": \\\"Babel Polyfills for ES2015 support\\\",\\n  \\\"author\\\": \\\"Your Name Here\\\",\\n  \\\"core-version\\\": \\\">=5.0.0\\\"\\n}\\n```\\n\\nCreate the folder `plugins/babel-polyfill/files` folder. Then create the `plugins/babel-polyfill/files/tiddlywiki.files` file with the following in it:\\n\\n```json\\n{\\n  \\\"tiddlers\\\": [\\n    {\\n      \\\"file\\\": \\\"polyfill.min.js\\\",\\n      \\\"fields\\\": {\\n        \\\"title\\\": \\\"$:/plugins/babel/babel-polyfill/polyfill.min.js\\\",\\n        \\\"type\\\": \\\"application/javascript\\\",\\n        \\\"module-type\\\": \\\"library\\\",\\n        \\\"global-module\\\": \\\"true\\\"\\n      }\\n    }\\n  ]\\n}\\n```\\n\\nNow copy the `polyfill.min.js` you downloaded/saved.\\n\\n<<.tip \\\"If you downloaded this via ''npm'' then it would be available in `./node_modules/babel-polyfill/dist/polyfill.min.js`.\\\">>\\n\\nLastly you need a initializer so create the `plugins/babel-polyfill/plugin.js` file with the following in it:\\n\\n```javascript\\n/*\\\\\\ntitle: $:/plugins/babel/babel-polyfill/plugin.js\\ntype: application/javascript\\nmodule-type: startup\\n\\nLoad the babel-polyfill library on startup\\n\\n\\\\*/\\n\\nexports.startup = function() {\\n  $tw.modules.execute('$:/plugins/babel/babel-polyfill/polyfill.min.js');\\n}\\n```\\n\\n<<.warning \\\"Because the polyfill is meant to be used in the browser we need to conditionally load the library which ES2016 doesn't allow. This is why it is written using TiddlyWiki's dependency resolver instead of using ES2015 `import` statements.\\\">>\\n\\nNow all the //runtime// ES2015 features are available like using `Promise` in your plugin code.\\n\\nSee [[Using ES2016 for Writing Plugins]] on how to use the ES2015 //syntax// for your plugin code.\\n\"},\"BootMechanism\":{\"title\":\"BootMechanism\",\"tags\":\"Mechanisms\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!Introduction\\n\\nAt its heart, TiddlyWiki5 is a relatively small boot kernel that runs either under Node.js or in the browser with all other functionality added via dynamically loaded [[modules|Modules]].\\n\\nThe kernel boots just enough of the TiddlyWiki environment to allow it to load and execute module tiddlers. The module system is compatible with CommonJS and [[Node.js]].\\n\\nThere are many [[different types of module|ModuleType]]: parsers, deserializers, widgets etc. It goes much further than you might expect. For example, individual tiddler fields are modules, too: there's a module that knows how to handle the `tags` field, and another that knows how to handle the special behaviour of the `modified` and `created` fields. Some plugin modules have further sub-plugins: the wikitext parser, for instance, accepts parsing rules as individual plugin modules.\\n\\n!Plugins\\n\\nIn TiddlyWiki5, [[Plugins]] are bundles of tiddlers that are distributed and managed as one; [[Modules]] are JavaScript tiddlers with a module type identifying when and how they should be executed.\\n\\nThe tiddler [[$:/boot/boot.js]] is a barebones TiddlyWiki kernel that is just sufficient to load the core plugin modules and trigger a startup module to load up the rest of the application.\\n\\nThe boot kernel includes:\\n\\n* Several short shared utility functions\\n* A handful of methods implementing the module mechanism\\n* The `$tw.Tiddler` class (and field definition plugins)\\n* The `$tw.Wiki` class (and tiddler deserialisation methods)\\n* Code for the browser to load tiddlers from the HTML DOM\\n* Code for the server to load tiddlers from the file system\\n\\nEach module is an ordinary CommonJS module, using the `require()` function to access other modules and the `exports` global to return JavaScript values. The boot kernel smooths over the differences between `Node.js` and the browser, allowing the same plugin modules to execute in both environments.\\n\\nIn the browser, `core/boot.js` is packed into a template HTML file that contains the following elements in order:\\n\\n* Ordinary and system tiddlers, packed as HTML `<DIV>` elements\\n* `core/bootprefix.js`, containing a few lines to set up the plugin environment\\n* Optional JavaScript modules, packed as HTML `<SCRIPT>` blocks\\n* `core/boot.js`, containing the boot kernel\\n\\nOn the server, `core/boot.js` is executed directly. It uses the `Node.js` local file API to load plugins directly from the file system in the `core/modules` directory. The code loading is performed synchronously for brevity (and because the system is in any case inherently blocked until plugins are loaded).\\n\\nThe boot process sets up the `$tw` global variable that is used to store all the state data of the system.\\n\\nAt the end of the boot process the StartupMechanism schedules the execution of startup modules to bring up the rest of TiddlyWiki.\\n\"},\"Caching\":{\"title\":\"Caching\",\"chapter.of\":\"Extending the Store\",\"sub.num\":\"2\",\"tags\":\"doc new\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The core plug-in adds two caches to the wiki store.\\nA global cache and a cache for each tiddler.\\nWhile the global cache is cleared whenever any tiddler changes, the tiddler cache is only cleared when the associated tiddler changes.\\nThe idea of the tiddler cache is, that sometimes we want to calculate information from a tiddler but don't want to recalculate every time we need this information.\\nImagine a tiddler which contains links to other tiddlers and at one point we want to have a list of the linked tiddlers (LinksFilter).\\nWith the tiddler cache we can parse the WikiText, extract the linked tiddlers and put this list in the cache.\\nUntil the tiddler is changed, the cache can be used to access this information in the next requests.\\n\\nThe same idea holds for the global cache. For example when a [[filter|Tags and Filter Mechanism]] string is parsed and a list of matching tiddlers is constructed.\\nThis list can be put in the global cache for later reuse until something changes in the store.\\n\\nLike the [[Event Mechanism]], the cache needs hook functions in the microkernel.\\nThe microkernel calls ``clearGlobalCache()`` and ``clearCache(tiddlertitle)`` when a tiddler changes.\\nThe core's cache mechanism overwrites this functions.\\nThe functions providing the cache system are added via the [[wikimethod module type]].\\n\"},\"Child widgets tutorial\":{\"title\":\"Child widgets tutorial\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define showTrees(wikitext)\\n<table>\\n<thead>\\n<tr><th>wiki text</th><th>html</th><th>renders as</th></tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>`$wikitext$`</td>\\n<td>\\n<$wikify name=html text=\\\"\\\"\\\"$wikitext$\\\"\\\"\\\" output=html mode=inline>\\n<$text text=<<html>>/>\\n</$wikify>\\n</td>\\n<td>$wikitext$</td>\\n</tr>\\n</tbody>\\n</table>\\n\\n<table>\\n<thead>\\n<tr><th>parse tree</th><th>widget tree</th></tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td style=\\\"vertical-align: text-top\\\">\\n<pre><code>\\n<$wikify name=parsetree text=\\\"\\\"\\\"$wikitext$\\\"\\\"\\\" output=parsetree mode=inline>\\n<<parsetree>>\\n</$wikify>\\n</code></pre>\\n</td>\\n<td style=\\\"vertical-align: text-top\\\">\\n<pre><code>\\n<$wikify name=widgettree text=\\\"\\\"\\\"$wikitext$\\\"\\\"\\\" output=widgettree mode=inline>\\n<<widgettree>>\\n</$wikify>\\n</code></pre>\\n</td>\\n</tr>\\n</tbody>\\n</table>\\n\\\\end\\n\\n! Introduction\\n\\nUntil now the examples have covered only simple, leaf widgets, but widgets can be arranged into a hierarchy. Compared to a leaf-only widget, widget classes which support having children must contain code to instantiate the children.\\n\\nNot all widgets need to support having children. Widgets whose only purpose is to integrate third party javascript libraries, for example may not need it.\\n\\n! wiki text ⇨ parse tree ⇨ widget tree ⇨ DOM tree\\n\\n# [[wiki text|https://tiddlywiki.com/#WikiText]] - Users write content in tiddlers using wiki text.\\n# [[parse tree|https://tiddlywiki.com/dev/#ParsingMechanism]] - A parse tree is a JSON data structure describing the wiki text. Wiki text can be converted into a parse tree using `this.wiki.parseText`.\\n# ''widget tree'' - Most items in the parse tree correspond to one or more items in the widget tree. The `this.makeChildWidgets` method is used to convert the parse tree into a widget tree.\\n# [[DOM tree|https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction]] - A DOM tree is a standard javascript datastructure used by browsers to display a web page. The `this.renderChildren` method is used to instantiate the widget class and then render each widget in the widget tree. If a given widget will be visible in the browser, then one or more DOM nodes will be created.\\n\\n!Examples\\n\\n!! Simple trees without nesting\\n\\n[[Widgets in wiki text|https://tiddlywiki.com/#Widgets%20in%20WikiText]] have a syntax similar to html (i.e. `<$list/>`). But all [[wiki markup|https://tiddlywiki.com/#WikiText]] is seen by the tiddlywiki code as widgets.\\n\\nEven a simple string with no special syntax will be treated as a widget. In this case a widget of type `text`:\\n\\n<<showTrees \\\"\\\"\\\"hello\\\"\\\"\\\">>\\n\\nThe above bare string of text is mostly just a synonym for this widget syntax:\\n\\n<<showTrees \\\"\\\"\\\"<$text text=hello/>\\\"\\\"\\\">>\\n\\nSome of the details of the parseTree and widgetTree are different in the two examples, but the general structure is the same and the rendered output is the same.\\n\\nIn these two simple examples, there is no nesting and so no child widgets are created.\\n\\n!! Trees with one level of nesting\\n\\nThis next example shows the structure for bold wiki syntax. It is still simple, but does introduce one level of nesting: `element`→`text`\\n\\nThe wiki syntax for bold converts to the standard html element `strong`. Any standard html element is represented in tiddlywiki as a widget of type `element`:\\n\\n<<showTrees \\\"\\\"\\\"''bold''\\\"\\\"\\\">>\\n\\nAnother example showing one level of nesting (`link`→`text`):\\n\\n<<showTrees \\\"\\\"\\\"<$link to=atiddler>link</$link>\\\"\\\"\\\">>\\n\\n!!Widgets with no DOM contribution\\nNot all widgets contribute items to the DOM. The purpose of some widgets is to affect the display of descendant widgets by changing some state. The `$set` widget for example sets a variable which will be accessible to the descendant widgets:\\n\\n<<showTrees \\\"\\\"\\\"<$set name=myvar value=hi/>\\\"\\\"\\\">>\\n\\nNothing is rendered and there is no html, but the parse tree and widget tree contain information about the variable.\\n\\n!! Dynamic widget children using this.wiki.parseText\\n\\nIn all the examples so far, there has been a close mapping between the nesting structure of the parse tree and the widget tree. If the item is in the parse tree, then it is in the widget tree. If the parse tree item has children, then the widget tree has the same number of children.\\n\\nHowever, there are several examples of widgets in which more levels of nesting are created dynamically during the widget rendering process\\n\\nThe `$macrocall` widget is one example:\\n\\n<<showTrees \\\"\\\"\\\"<$macrocall $name=now/>\\\"\\\"\\\" >>\\n\\nThe parse tree has just a single type=$macrocall element with no children. The widget tree has that same type=$macrocall element, but it also has a child widget which wasn't in the parse tree.\\n\\nIn all cases, the `$macrocall` widget calls the given macro and then calls `this.wiki.parseText` on the output. This results in a new parse tree which is used to make the child widgets.\\n\\nIn this particular case, the `now` macro is called. It returns a simple string of text, so when it is parsed the result causes the creation of a single child text widget containing the current date and time.\\n\\n!! Widgets which do not support nesting\\n\\nJust as some widgets can cause widget trees to have more nesting than the parse tree, some widgets can cause widget trees to have less nesting.\\n\\nThis happens when there is no use for the widget to have any children. The `$text` widget, for example, has no use for displaying any descendants.\\n\\nThis behavior is accomplished by not calling the `makeChildWidgets` method. Without that method call, the child widgets are not created from the child parse tree items. For example:\\n\\n<$macrocall $name=showTrees wikitext=\\\"\\\"\\\"<$text text=\\\"hi\\\">ignored child text</$text>\\\"\\\"\\\"/>\\n\\nSince the `$text` widget does not have a call to `makeChildWidgets`, 'ignored child text' above is present in the parse tree, but not in the widget tree.\\n\\n!Reference\\n\\n|!method|!when to call|!what it does|\\n|`makeChildWidgets`|directly or indirectly from `render` method|converts child parse tree items into widget tree items|\\n|`renderChildren`|directly or indirectly from `render` method, after the `makeChildWidgets` call|calls the `render` method of the child widget|\\n|`refreshChildren`|directly or indirectly from `refresh` method, only needed if `refreshSelf` is not called|calls the `refresh` method of of the child widgets so they can check if refresh is needed|\\n|`this.wiki.parseText`|pass the output parse tree to `makeChildWidgets`|converts the given text to a parse tree...only needed for dynamically constructed parsetree|\\n\\n|!example call|!purpose|!widgets using this approach|\\n|`this.makeChildWidgets()`|construct child widgets from the static parse tree|[[$link|$:/core/modules/widgets/link.js]], [[$button|$:/core/modules/widgets/button.js]], etc.|\\n|`this.makeChildWidgets(parseTreeNodes)`|construct child widgets from a dynamic parse tree|[[$list|$:/core/modules/widgets/list.js]], [[$transclude|$:/core/modules/widgets/transclude.js]], [[$macrocall|$:/core/modules/widgets/macrocall.js]], etc|\\n|`this.renderChildren(parent, nextSibling)`|when the widget adds nothing to the dom, just pass the `render` arguments through to the children|[[$set|$:/core/modules/widgets/set.js]], [[$importvariables|$:/core/modules/widgets/importvariables.js]], [[$tiddler|$:/core/modules/widgets/tiddler.js]], [[$wikify|$:/core/modules/widgets/wikify.js]], etc.|\\n|`this.renderChildren(domNode, null)`|passes the dom node generated by this widget into the children|[[$link|$:/core/modules/widgets/link.js]], [[$button|$:/core/modules/widgets/button.js]], etc|\\n\"},\"Conclusion\":{\"title\":\"Conclusion\",\"description\":\"A briefly summary about this documentation bringing out the advantages, disadvantages and experiences with TiddlyWiki.\",\"sectionnumber\":\"5\",\"tags\":\"section doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TiddlyWiki consists in its heart only of a basic microkernel providing bare tiddlerstore and module system.\\nIt is written in ~JavaScript and suited to run in a browser or as node.js application.\\nThe core plug-in extends the microkernel with powerful functions from a central event system to a sophisticated widget system transforming WikiText to dynamic HTML.\\nBecause of it's microkernel architecture the application is highly customizable. The plug-in system not only allows to add new modules but also to override existing modules. Most of the components don't refer directly to modules but load them by type, allowing developers to inject additional modules including new saver implementations, widgets or even rules for the WikiText parser.\\nThe user interface of TiddlyWiki is written in WikiText and can be customized with the same language, a user normally uses when just writing wiki entries.\\n\\nA drawback of the core plug-in is it's high complexity. While the microkernel provides just the bare some bare functions and structures, the core plug-in adds a whole bunch of components at once.\\nIt can be challenging to decompose the core architecture and understand the connections between the components. This documentation could only cover the most important parts.\\nThis gives a developer the choice of building a whole new application on the microkernel or building the application on the core plug-in, including all modules and UI tiddlers.\\n\\nIn conclusion, TiddlyWiki is a interesting piece of software.\\nThe focus on tiddlers, the functionality provided in the core and the fact that the core comes with a full blown wiki application puts TiddlyWiki into a personal information management domain, especially when using TiddlyWiki as a single file application storing code and data in a single HTML file.\\nBut the highly customizable nature makes TiddlyWiki perfect for this exact domain. A casual user can organize information with tags and metadata and customize the UI to a grade, that he is able to implement and test his own workflows just by using WikiText.\\n~JavaScript developers can add whole new features and create completely new single page applications by building on the microkernel or customizing the core plug-in.\\n\"},\"Continuous Deployment\":{\"title\":\"Continuous Deployment\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TiddlyWiki 5 uses [[GitHub Actions|https://docs.github.com/en/actions]] for continuous deployment. It is driven by the workflow file `.github/workflows/ci.yml` in the repo, along with the scripts in the `bin` folder that it invokes.\\n\\nThe build history can be seen at https://github.com/Jermolene/TiddlyWiki5/actions\\n\"},\"Contributing to the TiddlyWiki Core\":{\"title\":\"Contributing to the TiddlyWiki Core\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The TiddlyWiki core is the container for all the generic features of TiddlyWiki that are of universal utility. Concretely, it comprises the tiddlers in the `$:/core` plugin.\\n\\n! Core Contribution Requirements\\n\\nThere are requirements that must be met for any contribution that is to be accepted into the core:\\n\\n* If appropriate, the new functionality must support both standalone and Node.js configurations. For example, any new widgets must be capable of being rendered on the server\\n* The contribution must not compromise the backwards compatibility of the existing code\\n* Code contributions must comply with the [[TiddlyWiki Coding Style Guidelines]]\\n* Generic components are preferred over point solutions for specific problems (which belong in plugins)\\n\\n! The Core and Innovation\\n\\nIf you've created something new and innovative, don't try to rush to get it included into the core. Once new stuff is in the core it is subject to the core policies of strict backwards compatibility, making it frozen as far as radical innovation is concerned. It's usually better to release the new thing as a plugin so that it can be shared with the rest of the community for feedback.\\n\\nThe expected model of innovation is that the core development will move relatively slowly as more and more of the initial planned functionality is implemented. Innovation can take place in the much more unconstrained environment of plugins. Over time, as these third party plugins gain popularity and become more polished, some or all of their functionality will be migrated into the core.\\n\\n! Improving Hackability of the Core\\n\\nDon't be afraid to submit issues or pull requests that add hooks or other points of extensibility to help your plugin integrate with the core. An important goal for TiddlyWiki is for the core to be infinitely adaptable through plugins. It is expected that many more points of extension will need to be added to support a healthy ecosystem of plugins.\\n\"},\"Contributing to the TiddlyWiki Plugin Library\":{\"title\":\"Contributing to the TiddlyWiki Plugin Library\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The TiddlyWiki Plugin library is the set of plugins, themes and languages that are distributed via https://tiddlywiki.com.\\n\\nThe plugin library is intended to help end users of TiddlyWiki in the following ways:\\n\\n* By being a reliable, official source of community assets\\n* Permitting automatic upgrading of plugins during the upgrade process\\n* Providing a guarantee of backwards compatibility\\n\\nPlugins in the library need a maintainer who is prepared to make a commitment to keep them tested and fully operational with successive releases of the core code. Many plugins are maintained by the core team.\\n\"},\"Data Management during Runtime\":{\"title\":\"Data Management during Runtime\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"During the runtime the data of Tiddlywiki is stored in javascript objects. These objects are synchronized with the DOM-Representation of Tiddlywiki. This means every change of the original data of a Tiddler, fires an event which changes all DOM-Representations of the Tiddler and the javascript object. The bare-bones Wiki store is created during the boot process and is kept in a object called \\\\$tw.Wiki. This object contains amongst others a hashmap of the different Tiddlers of Tiddlywiki. The Hashmap is used to store the javascript object representation of the different Tiddlers. Furthermore this object is used to manage the tiddlers during runtime, it provides methods for adding tiddlers, search tiddlers by name and delete tiddlers.\\nAs shown in the picture below, every change at the DOM triggers an event which changes the corresponding widget which again changes the store of the tiddlers. The whole image shows how WikiText is parsed by a set of rules into the parse tree and this parse tree is rendered as a tree of widgets. This Rendertree is synchronised to the DOM. Every modification on the Rendertree provokes a start of the rendering-pipeline. As well as every change on the wikiText triggers an event at the RenderTree. This Process uses a selective updating so that only the changed parts are updated. This means only widgets which have to change the DOM in consequence of a changed tiddler are refreshed.\\n\\n{{TiddlyWikiArchitecture.svg}}\"},\"Data Persistence\":{\"title\":\"Data Persistence\",\"chapter.of\":\"TiddlyWiki - A quick Overview\",\"sub.num\":\"3\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The next important part of the application are deserializers. Deserializers are responsible to load tiddlers from various sources. One of the deserializers provided by the microkernel for example can load new tiddlers from the current DOM tree.\\nThe counterpart of deserializers are saver.\\nA saver is used to save the complete store or the complete TiddlyWiki for that matter at once. After a user made changes to some tiddlers, this method can be used to download the current state of the store as a completely new TiddlyWiki application.\\n\\nAnother way of persisting data are syncadaptors.\\nLike deserializer and saver, a syncadaptor can load tiddlers into the store and can persist changed tiddlers.\\nBut in contrast to deserializer and saver it can load and persist single tiddlers.\\nA syncadaptor can provide a list of loadable tiddlers registers at the store for changes.\\nNow when a tiddler is changed and these changes are written to the store, the syncadaptor is triggered and persists the new changes, for each tiddler individually.\\n\\n<<<\\n[img width=500 [overview.svg]]\\n<<< Tiddlers can be persisted from/to harddisk or synced with a remote server.\"},\"Data Storage in Single File TiddlyWiki\":{\"title\":\"Data Storage in Single File TiddlyWiki\",\"tags\":\"Data-Storage doc [[Data Storage]]\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The single file version of ~TiddlyWiki saves the tiddlers within the HTML file. \\n\\nVersion 5.2.0 of ~TiddlyWiki introduced a new format for how tiddlers are saved within the HTML file.\\n\\n\\n---\\n\\n!! Up to and including ~TiddlyWiki v5.1.23\\n\\nTiddlers are saved within the HTML file in one of two `<div>` tags depending on whether the TiddlyWiki is configured to encrypt its content or not. \\n\\n!!! Without encryption\\nIf the ~TiddlyWiki is not encrypted the data is stored in a `<div>` tag with an `id` attribute of \\\"storeArea\\\".\\n\\n```html\\n<div id=\\\"storeArea\\\" style=\\\"display:none;\\\">\\n```\\n\\nWithin the store area `<div>`, each tiddler is stored in its own div. \\n\\n//Tiddler DIV//\\n\\nEach tiddler `<div>` has an attribute corresponding to each of the tiddler's fields, except the text field which is saved within a `pre` tag within the `<div>`. Note that all attributes and therefore field names must be lowercase letters, digits or the characters `-` (dash), `_` (underscore) and `.` (period). The only attribute that is required is `title`, all other attributes are optional. All attribute values and the text field within the `pre` tag are HTML encoded.\\n\\nExample:\\n\\n```html\\n<div id=\\\"storeArea\\\" style=\\\"display:none;\\\">\\n<div created=\\\"20140611153703343\\\" modified=\\\"20140611153734589\\\" tags=\\\"testTag\\\" testfield=\\\"testvalue\\\" title=\\\"TestTiddler\\\" type=\\\"text/plain\\\">\\n<pre>testText</pre>\\n</div>\\n</div>\\n```\\n\\n!!! With encryption\\n\\nIf the ~TiddlyWiki is configured to encrypt its content, the tiddlers are stored as as an encrypted JSON string in a `<pre>` tag with the `id` attribute \\\"encryptedStoreArea\\\". \\n\\n```html\\n<pre id=\\\"encryptedStoreArea\\\" type=\\\"text/plain\\\" style=\\\"display:none;\\\">\\n```\\n\\n~TiddlyWiki uses the [[Stanford JavaScript Crypto Library|http://bitwiseshiftleft.github.io/sjcl/]]. \\n\\n---\\n\\n!! From ~TiddlyWiki v5.2.0\\n\\nFrom v5.2.0 onwards, ~TiddlyWiki introduces a new JSON based format for the tiddler store area for unencrypted content, while retaining support for the older store area formats described above for backwards compatibility. The store area format remains unchanged for encrypted content.\\n\\n\\n!!! Without encryption\\n\\nBy default, all tiddlers are now stored as an array of JSON objects inside a `<script>` tag with the `class` attribute \\\"tiddlywiki-tiddler-store\\\" and the `type` \\\"application/json\\\". For better readability, every tiddler object begins on a new line. There are no longer any restrictions on characters that are allowed in tiddler field names. However, `<script>` tag store areas must encode the `<` character to `\\\\u003c`.\\n\\n```html\\n<script class=\\\"tiddlywiki-tiddler-store\\\" type=\\\"application/json\\\">[\\n{\\\"title\\\":\\\"XLSX Utilities Edition\\\",\\\"created\\\":\\\"20161023202301847\\\",\\\"modified\\\":\\\"20161023202301847\\\",\\\"tags\\\":\\\"Editions\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"The ''XLSX Utilities'' edition of TiddlyWiki contains tools to work with `.XLSX` spreadsheets generated by applications like Microsoft Excel and Google Sheets. It can be used in the browser or under Node.js.\\\\n\\\\nhttps://tiddlywiki.com/editions/xlsx-utils/\\\\r\\\\n\\\"},\\n{\\\"text\\\":\\\"In accordance with the [[Philosophy of Tiddlers]], documentation tiddlers are typically short and interlinked.\\\\n\\\\nWhen a tiddler seems as if it needs to contain subheadings, this is often a sign that it should in fact be split into several tiddlers. But it is reasonable for a [[reference tiddler|Reference Tiddlers]] to consist of an untitled introductory section followed by a titled section of details.\\\\n\\\\nConsistency of terminology is essential if the reader is not to become confused. Consistent typography and punctuation lend a professional quality to the documentation. Macros can improve the consistency and maintainability of the text.\\\\n\\\\nUse numbered lists for step-by-step instructions, and bullet points for lists whose order is arbitrary. Use a definition list in preference to a bulleted list if each bulleted item would begin with a term and a colon. If at all possible, avoid burdening the reader with a nested list.\\\\n\\\\nUse a table when information naturally falls into three or more columns, and also for lists of parameters, attributes, etc in [[reference tiddlers|Reference Tiddlers]].\\\\n\\\\nAvoid periods at the end of list items, headings and table cell text.\\\\n\\\\nThe documentation describes the current reality of ~TiddlyWiki. Avoid discussing future aspirations.\\\\n\\\",\\\"title\\\":\\\"Tiddler Structure\\\",\\\"tags\\\":\\\"[[Improving TiddlyWiki Documentation]]\\\",\\\"modified\\\":\\\"20210207124737959\\\",\\\"created\\\":\\\"20150110183300000\\\"}\\n]</script>\\n```\\n\\nTo retain compatibility with external tools that might insert tiddlers by directly manipulating the ~TiddlyWiki HTML file, the older format `<div>` store area is still present in the HTML file immediately after the new `<script>` tag store area:\\n\\n\\n```html\\n<script class=\\\"tiddlywiki-tiddler-store\\\" type=\\\"application/json\\\">[\\n{\\\"title\\\":\\\"XLSX Utilities Edition\\\",\\\"created\\\":\\\"20161023202301847\\\",\\\"modified\\\":\\\"20161023202301847\\\",\\\"tags\\\":\\\"Editions\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"The ''XLSX Utilities'' edition of TiddlyWiki contains tools to work with `.XLSX` spreadsheets generated by applications like Microsoft Excel and Google Sheets. It can be used in the browser or under Node.js.\\\\n\\\\nhttps://tiddlywiki.com/editions/xlsx-utils/\\\\r\\\\n\\\"},\\n{\\\"text\\\":\\\"In accordance with the [[Philosophy of Tiddlers]], documentation tiddlers are typically short and interlinked.\\\\n\\\\nWhen a tiddler seems as if it needs to contain subheadings, this is often a sign that it should in fact be split into several tiddlers. But it is reasonable for a [[reference tiddler|Reference Tiddlers]] to consist of an untitled introductory section followed by a titled section of details.\\\\n\\\\nConsistency of terminology is essential if the reader is not to become confused. Consistent typography and punctuation lend a professional quality to the documentation. Macros can improve the consistency and maintainability of the text.\\\\n\\\\nUse numbered lists for step-by-step instructions, and bullet points for lists whose order is arbitrary. Use a definition list in preference to a bulleted list if each bulleted item would begin with a term and a colon. If at all possible, avoid burdening the reader with a nested list.\\\\n\\\\nUse a table when information naturally falls into three or more columns, and also for lists of parameters, attributes, etc in [[reference tiddlers|Reference Tiddlers]].\\\\n\\\\nAvoid periods at the end of list items, headings and table cell text.\\\\n\\\\nThe documentation describes the current reality of ~TiddlyWiki. Avoid discussing future aspirations.\\\\n\\\",\\\"title\\\":\\\"Tiddler Structure\\\",\\\"tags\\\":\\\"[[Improving TiddlyWiki Documentation]]\\\",\\\"modified\\\":\\\"20210207124737959\\\",\\\"created\\\":\\\"20150110183300000\\\"}\\n]</script><div id=\\\"storeArea\\\" style=\\\"display:none;\\\"></div>\\n```\\n\\nAny tiddlers in the older format `<div>` store area are also loaded before tiddlers from the new `<script>` store area. \\n\\n!!! Multiple store areas and precedence\\n\\nTiddlers from the new `<script>` tag store areas are loaded in the order of their store areas in the HTML file. Therefore if the same tiddler exists in two different `<script>` tag store areas, the tiddler from the later store area takes precedence. Note however that tiddlers from `<script>` tag store areas always take precedence over tiddlers from the older format  `<div>` store area. Therefore a tiddler from the older `<div>` store area can never overwrite a tiddler from  a `<script>` tag store area.\\n\\nNote that all `<script>` tags with the `class` attribute \\\"tiddlywiki-tiddler-store\\\" that precede the `$:/boot.js` module in the HTML file will have their content parsed as JSON and loaded as tiddlers.\\n\\nThis allows external tools to easily insert tiddlers into an HTML file by prepending an additional `<script>` tag(s) at the very start of the HTML file:\\n\\n```html\\n<script class=\\\"tiddlywiki-tiddler-store\\\" type=\\\"application/json\\\">[\\n{\\\"created\\\":\\\"20210525212411223\\\",\\\"text\\\":\\\"This is some test text\\\",\\\"tags\\\":\\\"[[test tag]] [[another tag]]\\\",\\\"title\\\":\\\"My new tiddler to insert\\\",\\\"modified\\\":\\\"20210525212430577\\\"}\\n]</script>\\n<!doctype html>\\n...\\n```\\n\\nAlthough invalid HTML, all known browsers will silently move the script tag to a valid position within the \\n\\nAdditional topics:\\n\\n* [[Extracting tiddlers from a single file TiddlyWiki]]\"},\"Data Storage\":{\"title\":\"Data Storage\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"~TiddlyWiki has two approaches to saving the user data (tiddlers) depending on whether you are using the single file version, or are using the node.js server.\\n\\n~TiddlyWiki on node.js saves each tiddler in a separate text file. For details on the file formats supported for tiddlers on node.js, see [[Tiddler Files|https://tiddlywiki.com/#TiddlerFiles]].\\n\\nThe single file version of ~TiddlyWiki saves the tiddlers within the HTML file. See [[Data Storage in Single File TiddlyWiki]]\\n\"},\"Data-Storage\":{\"title\":\"Data-Storage\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"{{Data Storage}}\\n\"},\"Datamodel\":{\"title\":\"Datamodel\",\"chapter.of\":\"Microkernel Architecture\",\"sub.num\":\"2\",\"tags\":\"doc new [[Microkernel Architecture]]\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The micro-kernel creates a TiddlyWiki specific data-structure called tiddler. Here you have to separate the different definition of tiddlers. In the architectural view a tiddler is a JavaScript object holding some data. In the overall concept a tiddler is similar to a wiki page in a normal wiki application like wikipedia. In this section we describe the architectural view of a tiddler. The listing below shows the JSON representation of a tiddler object. During the runtime of the TiddlyWiki everything is saved an object like this. Without any plug-in the architecture is not able to persist any kind of data. All the data is stored in a store. This store is a JavaScript object. This store is constructed like a Map with a bunch of key value pairs. Every tiddler has its name as the key in the map and the JavaScript-Object as the value. The tiddler concept is the main data-model within TiddlyWiki, everything from data up to plug-ins is stored as a tiddler.\\n\\n```javascript\\n{\\\"fields\\\":{\\n   \\\"text\\\":\\\"example Text\\\",\\n   \\\"title\\\":\\\"Infrastruktur\\\",\\n   \\\"tags\\\":[\\\"vs\\\"],\\n   \\\"modified\\\":\\\"2014-07-01T16:25:01.230Z\\\",\\n   \\\"myField\\\":\\\"myFieldValue\\\",\\n   \\\"created\\\":\\\"2014-07-01T16:22:10.673Z\\\"\\n   }\\n}\\n```\"},\"Deserializer\":{\"title\":\"Deserializer\",\"chapter.of\":\"Extended Persistence\",\"sub.num\":\"1\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Modules with ``module-type: tiddlerdeserializer`` can provide functions to create tiddlers out of any textual representation. Each function must be associated with a type like ``application/json`` or ``text/html``.\\nThey get the textual representation of the tiddlers, some default field values and the type of the text block as arguments. They return an array of JavaScript objects representing the resulting tiddlers.\\n\\nDeserializers are not managed by the syncer module. Instead the concept of deserializers is in fact part of the microkernel.\\nThis is necessary because the microkernel needs a way of loading tiddlers before it can load the core plug-in and execute it's startup modules.\\n(Due to the fact that the core plug-in and it's modules are represented as tiddlers.)\\n\\nThe ``load-modules`` startup module loads additional deserializers and pushes them into the store.\\nThe core plug-in for example contains a few deserializers which can read a whole TiddlyWiki 5 or classic HTML file and load the individual tiddlers into the store.\"},\"Developing plugins using Node.js and GitHub\":{\"title\":\"Developing plugins using Node.js and GitHub\",\"tags\":\"howto\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The most practical way to develop plugins is to use Node.js with the tiddlywiki5 repository to build your plugins, and to use ~GitHub to manage you files.\\n\\n! Step by step\\n\\n!! 1. Installation\\n\\nFirst read https://tiddlywiki.com/static/PluginMechanism.html.\\n\\nInstall Git from http://git-scm.com/downloads\\n\\nInstall Node.js from http://nodejs.org/\\n\\n!! 2. Create a new blank repository on ~GitHub\\n\\nHint: ~GitHub repositories cannot be grouped together into directories, so it is only possible to group by using a naming scheme, e.g. use 'TW5-' as a name prefix with tiddlywiki5 projects to group them together.\\n\\nGo to https://github.com/ and create new a repository 'pluginname' - choose to add a readme file.\\n\\n!! 3. Setup a working environment\\n\\nChoose a location in your file system (eg TW5) for your plugin project; issue commands to:\\n\\n!!! 1. Create the directory\\n\\n```bash\\nmkdir TW5\\n\\n```\\n\\n!!! 2. Make a local read-only copy of the ~TiddlyWiki5 repository\\n\\n```bash\\ngit clone https://github.com/Jermolene/TiddlyWiki5.git TW5\\n\\n```\\n\\n!!! 3. Make a directory for your plugin\\n\\n```bash\\ncd TW5\\ncd plugins\\nmkdir yourname\\ncd yourname\\nmkdir pluginname\\n\\n```\\n\\n!!! 4. Make a local copy of your plugin repository\\n\\n```bash\\ngit clone https://github.com/yourgithub/pluginname.git pluginname\\n\\n```\\n!!! 5. Go to your files\\n\\n```bash\\ncd pluginname\\n\\n```\\n\\nCreate the file plugin.info with content:\\n\\n```js\\n{\\n\\t\\\"title\\\": \\\"$:/plugins/yourgithub/pluginname\\\",\\n\\t\\\"description\\\": \\\"summary of the plugin's purpose\\\",\\n\\t\\\"author\\\": \\\"yourname\\\",\\n\\t\\\"version\\\": \\\"0.0.1\\\",\\n\\t\\\"core-version\\\": \\\">=5.0.8\\\",\\n\\t\\\"source\\\": \\\"https://github.com/yourgithub/pluginname\\\",\\n\\t\\\"plugin-type\\\": \\\"plugin\\\"\\n}\\n```\\n\\n\\n!! 4. Create the files for your plugin\\n\\nFor example files see the plugins in the ~TiddlyWiki5 repository i.e. those located at plugins/tiddlywiki/. See [[TiddlerFiles|https://tiddlywiki.com/#TiddlerFiles]] for details of the supported tiddler file formats.\\n\\n!!5. Build your files into a ~TiddlyWiki\\n\\nModify `editions/tw5.com/tiddlywiki.info` to include a reference to your plugin directory, i.e. find `\\\"plugins\\\": [ ` and add `\\\"yourname/pluginname\\\"`.\\n\\nFrom the TW5 directory issue the command\\n\\n```bash\\nnode ./tiddlywiki.js editions/tw5.com --build index\\n```\\n\\nThe resultant file (index.html) will be placed in the `editions/tw5.com/output` directory of the TW5 repo.\\n\\n!! 6. Save your work on ~GitHub\\n\\nFrom `plugins/yourname/pluginname/` issue commands to:\\n\\n!!! 1. Add all files\\n\\n```bash\\ngit add -A\\n```\\n\\n!!! 2. Commit to your local repository\\n\\n```bash\\ngit commit -am \\\"something meaningful about this check in\\\"\\n```\\n\\n!!! 3. Copy local changes to github\\n\\n```bash\\ngit push\\n```\\n\"},\"Do nothing widget demo\":{\"title\":\"Do nothing widget demo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- The innerwiki doesn't refresh on its own when tiddlers on the outside change, so use the list widget to force a dependency -->\\n<$list name=refresh filter=[[donothing.js]get[text]]>\\n<$innerwiki width=\\\"600\\\" height=\\\"400\\\" style=\\\"width:100%;\\\">\\n\\t<$data title=\\\"$:/DefaultTiddlers\\\" text=\\\"[[do nothing widget]]\\\"/>\\n\\t<$data $tiddler=donothing.js/>\\n\\t<$data title=\\\"do nothing widget\\\" text=\\\"\\\"\\\"\\n```\\n<$donothing/>\\n```\\n\\nRenders as:\\n\\n<$donothing/>\\n\\\"\\\"\\\"/>\\n</$innerwiki>\\n</$list>\\n\"},\"Do nothing widget tutorial\":{\"title\":\"Do nothing widget tutorial\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"In order to define a widget in a tiddler, the tiddler must satisfy these requirements:\\n\\n* type field is application/javascript\\n* module-type field is widget\\n* the text field contains the javascript code\\n\\nThe [[donothing.js]] tiddler fulfills the requirements and its code looks like this:\\n{{donothing.js}}\\nThat code does 2 key things:\\n\\n* Imports the core Widget class ([[$:/core/modules/widgets/widget.js]])\\n* exports the class in an attribute with the name we want our widget to have (`donothing`)\\n\\nHere's what it looks like:\\n{{Do nothing widget demo}}\\nAnd it worked. No error message this time.\\n\\n''Exercise'': Modify [[donothing.js]] and [[Do nothing widget demo]] so the widget is named `noop` instead of `donothing`\\n\\n\"},\"EncryptionMechanism\":{\"title\":\"EncryptionMechanism\",\"tags\":\"Mechanisms\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TiddlyWiki5 allows the entire content of a TiddlyWiki HTML file to be encrypted with the Stanford JavaScript Crypto Library. Opening an encrypted TiddlyWiki in the browser prompts for a password before decrypting and displaying the content.\\n\\nFor instructions on how to use TiddlyWiki5's encryption features, see [[Encryption]].\\n\\nThe EncryptionMechanism is implemented with the following elements:\\n\\n* A PasswordVault within the BootMechanism that holds the current encryption password\\n* The ability of the BootMechanism to read a block of encrypted tiddlers from the TiddlyWiki file, to prompt the user for a password, and to decrypt the tiddlers\\n* Handlers for the messages [[WidgetMessage: tm-set-password]] and [[WidgetMessage: tm-clear-password]] that handle the user interface for password changes\\n* The EncryptWidget within the main file template that encrypts a filtered list of tiddlers with the currently held password\\n* The [[$:/isEncrypted]] tiddler that contains \\\"yes\\\" or \\\"no\\\" according to whether there is a password in the password vault\\n** The availability of this tiddler allows the RevealWidget to be used to selectively display user interface elements according to whether encryption is in force\\n\"},\"Event Mechanism\":{\"title\":\"Event Mechanism\",\"chapter.of\":\"Extending the Store\",\"sub.num\":\"1\",\"tags\":\"doc new\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Most of the following mechanisms need a way to get notified, when anything in the wiki store changes.\\nThe core -plug-in adds an event system to the bare wiki store.\\nThe event system provides the ability to listen to events. The most important is the \\\"change\\\" event which notifies the listeners when tiddlers have changed, with a list of the changed tiddlers.\\nThe event mechanism is one of the few mechanisms which needs a hook at the microkernel:\\nThe microkernel contains an empty function \\\"enqueueTiddlerEvent(event)\\\" and calls this function when a tiddler is added or deleted.\\nThe event mechanism from the core plug-in overwrites this function with it's own implementation.\\nThe functions providing the event system are added via the [[wikimethod module type]].\"},\"Extended Persistence\":{\"title\":\"Extended Persistence\",\"chapter.of\":\"TiddlyWiki Core Application\",\"sub.num\":\"3\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The microkernel only contains a bare store and some deserializers to load tiddlers from JSON files or from the DOM of the current HTML file.\\nThe core plug-in adds some more deserializers and a new mechanism for persisting and synchronising tiddlers.\\n\\nThis mechanism is provided as a global module in [[$:/core/modules/syncer.js]].\\nThe saver module has three responsibilities:\\n\\n# Save the whole wiki.\\n# Provide the ability to download single tiddlers as files.\\n# Synchronise the local wiki store with a remote wiki store, i.e. running in Node.js\\n\\nThe syncer module is connected mainly to two other modules.\\nFor one it registers to changes at the wiki store ([[Event Mechanism]]) and if any changes occur they are synced to the remote store.\\nThen it provides a function ``saveWiki(options)``. This function can be used by other modules. For example the [[RootWidget|RootWidget and Rendering Startup]] uses this function to save the whole wiki or start downloading single tiddlers.\\n\\nThe syncer itself does not provide a concrete implementation of saving, downloading or syncing the tiddlers.\\nInstead it loads modules of type ``saver`` and ``syncadaptor`` and manages the saving/syncing process.\\n\\n<$list filter=\\\"[!has[draft.of]has[chapter.of]chapter.of[Extended Persistence]tag[doc]sort[sub.num]]\\\">\\n\\n\\n!! <$view field=\\\"title\\\"/>\\n{{!!text}}\\n</$list>\"},\"Extending the Store\":{\"title\":\"Extending the Store\",\"chapter.of\":\"TiddlyWiki Core Application\",\"sub.num\":\"2\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$list filter=\\\"[!has[draft.of]has[chapter.of]chapter.of[Extending the Store]tag[doc]sort[sub.num]]\\\">\\n\\n\\n!! <$view field=\\\"title\\\"/>\\n{{!!text}}\\n</$list>\"},\"FakeDomMechanism\":{\"title\":\"FakeDomMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The \\\"fake DOM\\\" is a simplified JavaScript implementation of the DOM that can be run on the server. Its use allows modules that need to run under Node.js to generate and manipulate HTML through the DOM API, rather than having to stitch HTML strings together.\\n\\nThe fake DOM only implements a small subset of the full DOM APIs but it is sufficient for the core widgets to be able to be run under Node.js.\\n\\nBecause the fake DOM is faster than the real DOM, it is also used in the browser when interactive rendering to the DOM isn't needed. The best example is stylesheet processing, where WikiText stylesheet content is parsed and rendered, and the plain text extracted from the fake DOM for use as the stylesheet content.\\n\"},\"Filter Operators\":{\"title\":\"Filter Operators\",\"tags\":\"dev\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! Overview\\n\\nFilter operators are modules (tiddlers of type `application/javascript`) with their `module-type` field set to `filteroperator`, exporting one or more functions implementing a filter.\\n\\nEach function will be called with three arguments:\\n\\n* A [[tiddler iterator|Tiddler Iterators]] representing the results of the previous filter step (or all tiddlers, if this filter appears first in an expression), conventionally named `source`.\\n* An object, conventionally called `operator`, representing the arguments for this filter step, with the following keys:\\n** //operator//: the name of the filter operator specified in the WikiText;\\n** //operand//: the operand for the filter step (as a string; if the filter specified it in angle brackets or braces, the text reference or variable name will have already been resolved);\\n** //prefix//: (optional) a string containing a single exclamation mark if the filter operator is to be negated;\\n** //suffix//: (optional) a string containing an additional filter argument (typically a tiddler field name) following the filter name (separated by a colon in the filter syntax);\\n** //regexp//: (optional, deprecated) used instead of //operand// if the filter operand is a regexp.\\n* An object, conventionally called `options`, with the following keys:\\n** //wiki//: The `$tw.Wiki` object;\\n** //widget//: (optional) a widget node.\\n\\nThe function should return either a new [[tiddler iterator|Tiddler Iterators]], or else an array of tiddler titles (as strings). The underlying filter mechanism will convert back and forth between iterators and arrays as needed.\\n\\n! References\\n\\nThere are several filter operators built into the core which can serve as a jumping off point for your own filter operators:\\n\\nhttps://github.com/Jermolene/TiddlyWiki5/tree/master/core/modules/filters\\n\\n! Example\\n\\nSuppose we want to make a filter operator that returns every other tiddler from the input list. A typical invocation might look like `[tags[interesting]everyother[]]`.\\n\\nWe make a new tiddler, set its `type` and `module-type` appropriately, and begin writing the code:\\n\\n```\\n(function(){\\n\\\"use strict\\\";\\n    \\nexports.everyother = function(source, operator, options) {\\n    // TODO\\n}\\n})();\\n```\\n\\nFor the example filter syntax, our function will be called with\\n\\n* source: an iterator over all the tiddlers tagged as `interesting`\\n* operator: an object `{operator: \\\"everyother\\\", operand: \\\"\\\"}`\\n* options: an object with the current Wiki object and a widget object, neither of which we need\\n\\nAs is usually the case, we don't care about `operator.operator` here (since that information has already been used to look up our function); we also don't care about `operator.operand`, since there is no meaningful operand for this operation.\\n\\nWe could implement the operator by iterating over the input tiddlers and explicitly building a result array of titles:\\n\\n```\\n(function(){\\n\\\"use strict\\\";\\n    \\nexports.everyother = function(source, operator, options) {\\n    var result = [];\\n    var include = true;\\n    source(function(tiddler, title) {\\n        if (include) { result.push(title); }\\n        include = !include;\\n    });\\n    return result;\\n}\\n})();\\n```\\n\\nThat is, we supply a callback to `source` that negates `include` each time through (in order to grab every other result) and pushes the `title` of every other tiddler onto the result.\\n\\nAlternatively, we can return our own iterator, by returning a function that accepts a similar callback and only calls it on every other tiddler:\\n\\n```\\n(function(){\\n\\\"use strict\\\";\\n    \\nexports.everyother = function(source, operator, options) {\\n    return function(callback) {\\n        var include = true;\\n        source(function(tiddler, title) {\\n            if (include) { callback(tiddler, title); }\\n            include = !include;\\n        });\\n    };\\n}\\n})();\\n```\\n\\nEither way, we could interpret the `!` flag on the filter, if present, to mean that we want the //other// half of the tiddlers, by using it to set the initial value of `include`: `var include = operator.prefix !== \\\"!\\\";`\\n\\n! Filter Behaviour\\n\\nAs with [[JavaScript Macros]], filter operators should not make modifications to tiddlers, but only return a list of tiddlers or a tiddler iterator.\\n\"},\"GitHub Branches\":{\"title\":\"GitHub Branches\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Development of TiddlyWiki 5 in the GitHub repo at https://github.com/Jermolene/TiddlyWiki5  uses two branches:\\n\\n* `master` contains the latest version of the code, and is deployed to https://tiddlywiki.com/prerelease\\n* `tiddlywiki-com` contains the latest version of the documentation, and is deployed to https://tiddlywiki.com/, built by the latest released version of TiddlyWiki\\n\\nWhen preparing pull requests it is important to target the correct branch.\\n\"},\"Hello World demo\":{\"title\":\"Hello World demo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- The innerwiki doesn't refresh on its own when tiddlers on the outside change, so use the list widget to force a dependency -->\\n<$list name=refresh filter=[[hello.js]get[text]]>\\n<$innerwiki width=\\\"600\\\" height=\\\"400\\\" style=\\\"width:100%;\\\">\\n\\t<$data title=\\\"$:/DefaultTiddlers\\\" text=\\\"[[hello world widget]]\\\"/>\\n\\t<$data $tiddler=hello.js/>\\n\\t<$data title=\\\"hello world widget\\\" text=\\\"\\\"\\\"\\n```\\n<$hello/>\\n```\\n\\nRenders as:\\n\\n<$hello/>\\n\\\"\\\"\\\"/>\\n\\n</$innerwiki>\\n</$list>\\n\"},\"Hello World widget tutorial\":{\"title\":\"Hello World widget tutorial\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Now let's create a widget which actually has output.\\n\\nWhen tiddlywiki encounters a widget definition like `<$hello>` it will create an object which is an instance of the class which is exported by the widget code. \\n\\nIn addition to creating an instance of the class, tiddlywiki will call the render method of the resulting object. The render method is expected to create a dom node which will be display in place of the widget.\\n\\nIn the `donothing` example the core widget was exported. The core widget class doesn't have a render method which creates a dom node and that's why there is no output. Getting output requires writing a widget class which inherits from the core `Widget` class. Code in the render method of this class will display the hello world message.\\n\\nThe [[hello.js]] tiddler has code which accomplishes that:\\n{{hello.js}}\\nThe code for importing the core widget class remains, but now we also have code to create our own class which inherits from it. In addition an implementation of the `render` method is included. Here is the result:\\n{{Hello World demo}}\\n\"},\"HelloThere\":{\"title\":\"HelloThere\",\"tags\":\"TableOfContents\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Welcome to the developer documentation for TiddlyWiki (https://tiddlywiki.com/). It is currently a work in progress as material from two different sources is adapted and merged in addition to original content being added:\\n\\n* An assignment by Christian Jurke and Christian Heigele, two students working on their Master's degree in Information Technology at the Gießen University of Applied Sciences (Technische Hochschule Mittelhessen). Their work can be seen in the [[Introduction]] and the tiddlers that link from it.\\n* New developer documentation\\n** [[Data Storage in Single File TiddlyWiki]]\\n** [[Continuous Deployment]]\\n** [[GitHub Branches]]\\n** HookMechanism\\n** [[Using ES2016 for Writing Plugins]]\\n** [[Adding Babel Polyfill to TiddlyWiki]]\\n** [[TiddlyWiki Drag and Drop Interoperability]]\\n** [[Javascript Widget Tutorial]]\\n* The original developer documentation from https://tiddlywiki.com:\\n** [[TiddlyWiki for Developers]]\\n** [[TiddlyWiki Coding Style Guidelines]]\\n** [[TiddlyWiki Architecture]]\\n** [[TiddlyWiki5 Development Environment]]\\n** [[Developing plugins using Node.js and GitHub]]\\n** [[How to create a translation for TiddlyWiki]]\\n** [[JavaScript Macros]]\\n** [[TiddlyWiki on NW.js]]\\n** [[package.json for NW.js]]\\n** [[How to create plugins in the browser]]\\n** [[Contributing to the TiddlyWiki Core]]\\n** [[Contributing to the TiddlyWiki Plugin Library]]\\n** [[Scripts for building tiddlywiki.com]]\\n** SyncAdaptorModules\\n** WidgetModules\\n** WikiRuleModules\\n\"},\"HookMechanism\":{\"title\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The hook mechanism provides a way for plugins to intercept and modify default functionality. Hooks are added as follows:\\n\\n```js\\n/*\\nname: name of hook function (by convention prefixed with `th-`)\\nhandler: function to be called when hook is invoked\\n*/\\n$tw.hooks.addHook(name,handler);\\n```\\n\\nThe handler function will be called with parameters that depend on the specific hook in question, but they always follow the pattern `handler(value,params...)`\\n\\n* ''value'': an optional value that is to be transformed by the hook function\\n* ''params'': one or more optional parameters that are passed to the hook function\\n\\nIf required by the hook in question, the handler function must return the modified ''value''.\\n\\nMultiple handlers can be assigned to the same name using repeated calls. When a hook is invoked by name all registered functions will be called sequentially in their order of addition.\\n\\nNote that the ''value'' passed to the subsequent hook function will be the return value of the previous hook function.\\n\\nThough not essential care should be taken to ensure that hooks are added before they are invoked. For example: [[Hook: th-opening-default-tiddlers-list]] should ideally be added before the story startup module is invoked otherwise any hook specified additions to the default tiddlers will not be seen on the initial loading of the page, though will be visible if the user clicks the home button.\\n\\n!! Example\\n\\nA working example of a hook that adds \\\"test\\\" to the default tiddlers.\\n\\n```js\\n$tw.hooks.addHook(\\\"th-opening-default-tiddlers-list\\\",function(list) { \\n    list.push(\\\"test\\\");\\n    return list; \\n});\\n```\\n\\n\"},\"Hook: th-before-importing\":{\"title\":\"Hook: th-before-importing\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to inspect or modify the `importTiddler` object ''before'' any tiddlers are imported. It is invoked after the final \\\"Import\\\" button is clicked, but ''before'' the selected tiddlers are being imported into the store.\\n\\n''Intended Usecases'':\\n\\n* Manipulate the import \\\"selection state\\\"\\n* Eg: create a customized \\\"log-tiddler\\\" that contains a heading, that should only be written once\\n\\n''Important'': \\n\\n* This hook ''should not'' be used to manpulate the `importTiddler.fields.text` element!\\n* If you want to give the users a possibility to verify the imported data, use ùpgraders like: `$:/core/modules/upgraders/` instead\\n* If you need to manipulate the imported tiddler content, without default user interaction, consider: [[Hook: th-importing-tiddler]] instead\\n\\nThe hook is part of the `NavigatorWidget.prototype.handlePerformImportEvent` function.\\n\\nHook function parameters:\\n\\n* ''importTiddler'': an object, that contains information about \\\"selected / unselected\\\" tiddlers and more\\n\\nReturn value:\\n\\n* ''importTiddler'': object\\n\\nThe hook must return the `importTiddler` object. For many usecases the object will be returned unmodified.\\n\\n''Example code how to implement a hook in your project''\\n\\n```\\n/*\\\\\\ntitle: $:/plugins/<author>/<plugin>/th-before-importing.js\\ntype: application/javascript\\nmodule-type: startup\\n\\nYOUR DISCRCRIPTION COMES HERE!\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false, exports: true */\\n\\\"use strict\\\";\\n\\n// Export name and synchronous status\\nexports.name = \\\"<yournamecomesherewithoutspaces>\\\";\\nexports.platforms = [\\\"browser\\\"];\\nexports.after = [\\\"startup\\\"];\\nexports.synchronous = true;\\n\\n// Define your variables here!\\n\\nexports.startup = function() {\\n\\t$tw.hooks.addHook(\\\"th-before-importing\\\",function(importTiddler) {\\n\\n// YOUR CODE !\\n\\n\\t\\treturn importTiddler;\\n\\t});\\n};\\n\\n})();\\n\\n```\"},\"Hook: th-closing-tiddler\":{\"title\":\"Hook: th-closing-tiddler\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to monitor the closing of a tiddler from the story.\\n\\nHook function parameters:\\n\\n* ''event'': Widget message object with the following properties:\\n** ''event'': DOM event object that triggered the widget message\\n** ''tiddlerTitle'': the title of the tiddler being closed\\n** ''widget'': reference to the widget that sent the message.\\n\\nReturn value:\\n\\n* ''event'': Widget message object\\n\\nThe original event widget message object can be returned unmodified by the hook. \"},\"Hook: th-deleting-tiddler\":{\"title\":\"Hook: th-deleting-tiddler\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to inspect tiddlers before they are deleted via the ''delete'' toolbar button. When the delete button is used from the edit toolbar there are actually two invocations of the `th-deleting-tiddler` hook function: one for the original tiddler and one for the draft.\\n\\nNote that this hook is not invoked for tiddlers deleted by other means such as the ActionDeleteTiddlerWidget.\\n\\nHook function parameters:\\n\\n* ''tiddler'': tiddler object about to be deleted\\n\\nReturn value:\\n\\n* unmodified tiddler to be deleted\\n\"},\"Hook: th-editing-tiddler\":{\"title\":\"Hook: th-editing-tiddler\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to inspect tiddlers before they are edited via the ''edit'' toolbar button.\\n\\nHook function parameters:\\n\\n* ''event'': DOM event object that triggered the edit\\n\\nReturn value:\\n\\n* ''editTiddler'': ''true'' to continue with editing the tiddler as usual, ''false'' to silently suppress editing\\n\"},\"Hook: th-importing-file\":{\"title\":\"Hook: th-importing-file\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to inspect or modify the details of files imported via drag and drop or the \\\"import\\\" button. It is invoked as each [[File object|https://developer.mozilla.org/en-US/docs/Web/API/File]] provided by the browser in response to an import or drag and drop is being read. The hook function can choose to ignore the file, in which case TiddlyWiki's default processing proceeds to read and import the content of the file. Alternatively, the hook function can process the file to extract the tiddlers itself, and then pass them back to TiddlyWiki to be handled by the rest of the import process.\\n\\nUse this hook if you want to control how tiddlers are extracted from files during an import. See [[Hook: th-importing-tiddler]] if you want to process each imported tiddler after they have been extracted from the files.\\n\\nHook function parameters:\\n\\n* ''info'': an object with properties containing information relating to the current file:\\n** ''file'': reference to the browser's [[File object|https://developer.mozilla.org/en-US/docs/Web/API/File]]\\n** ''type'': the MIME type of the file. If not provided by the browser then TiddlyWiki attempts to infer the type from the file extension\\n** ''isBinary'': flag for whether the file contains binary data (which requires that the file type be recognised by TiddlyWiki)\\n** ''callback'': callback function to be called with an array of tiddler field objects extracted from the file object\\n\\nReturn value:\\n\\n* ''true'' indicates that the hook handled the file, and passed any extracted tiddlers to the callback\\n* ''false'' indicates that the hook didn't process the file\\n\"},\"Hook: th-importing-tiddler\":{\"title\":\"Hook: th-importing-tiddler\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to inspect or modify tiddlers as they are imported via the import mechanism. It is invoked when the final \\\"Import\\\" button is clicked, and the selected tiddlers are being imported into the store.\\n\\nThe hook is part of the `NavigatorWidget.prototype.handlePerformImportEvent` function.\\n\\nUse this hook if you want to process each imported tiddler after they have been extracted from the files.  See [[Hook: th-importing-file]] if you want to control how tiddlers are extracted from files during an import.\\n\\nHook function parameters:\\n\\n* ''tiddler'': tiddler object about to be imported\\n\\nReturn value:\\n\\n* tiddler object to be imported\\n\\nThe original tiddler object can be returned unmodified by the hook. If the hook needs to modify the tiddler then it should return a new tiddler object, for example:\\n\\n```\\n\\treturn new $tw.Tiddler(tiddler,{\\\"my-field\\\": value});\\n```\\n\\nHooks must not change the ''title'' field but can freely modify any other field of the tiddler.\\n\"},\"Hook: th-make-tiddler-path\":{\"title\":\"Hook: th-make-tiddler-path\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook lets a plugin inspect or modify the tiddler file path during the saving process.\\n\\nHook function parameters:\\n\\n* ``currentPath``: The path the tiddler file will be saved to.\\n* ``originalPath``: The original tiddler file path unmodified by any hooks.\\n\\nReturn value:\\n\\nThe path to use for saving the tiddler file.\\n\"},\"Hook: th-navigating\":{\"title\":\"Hook: th-navigating\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to monitor and modify navigation events.\\n\\nHook function parameters:\\n\\n* ''event'': object describing the navigation event:\\n** ''event.navigateTo'': title of target tiddler\\n** ''event.navigateFromTitle'': title of tiddler containing the\\n** ''event.navigateSuppressNavigation'': boolean; when true the target tiddler opens without the usual scrolling\\n** ''event.navigateFromClientRect'': rectange in client coordinates of the DOM node triggering the navigation\\n\\nReturn value:\\n\\n* possibly modified event object\\n\"},\"Hook: th-opening-default-tiddlers-list\":{\"title\":\"Hook: th-opening-default-tiddlers-list\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to add to or remove from the list of tiddlers that are opened when the wiki is first loaded or the home button is clicked.\\n\\nHook function parameters:\\n\\n* ''list'': array of tiddler titles to be opened\\n\\nReturn value:\\n\\n* modified array of tiddler titles to be opened\\n\\nNote that this hook is invoked with the tiddler titles that are generated from the filter in [[$:/DefaultTiddlers]]. Any added entries must be tiddler titles, not filter expressions.\\n\"},\"Hook: th-page-refreshed\":{\"title\":\"Hook: th-page-refreshed\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook notifies plugins that a page refresh has just occurred. It is typically used to apply post-rendering effects.\\n\\nHook function parameters:\\n\\n* (none)\\n\\nReturn value:\\n\\n* (none)\\n\"},\"Hook: th-page-refreshing\":{\"title\":\"Hook: th-page-refreshing\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook notifies plugins that a page refresh is just about to occur. It is typically used to apply pre-rendering effects.\\n\\nHook function parameters:\\n\\n* (none)\\n\\nReturn value:\\n\\n* (none)\\n\"},\"Hook: th-relinking-tiddler\":{\"title\":\"Hook: th-relinking-tiddler\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to inspect tiddlers before they are relinked (\\\"relinking\\\" is the optional operation of relinking references to a tiddler when it is renamed).\\n\\nHook function parameters:\\n\\n* ''newTiddler'': tiddler object incorporating the relinking\\n* ''oldTiddler'': optional existing tiddler object that will be overwritten\\n\\nReturn value:\\n\\n* ''newTiddler'': tiddler object to be used for the relinking operation.\\n\\nThe original tiddler object can be returned unmodified by the hook. If the hook needs to modify the tiddler then it should return a new tiddler object, for example:\\n\\n```\\n\\treturn new $tw.Tiddler(tiddler,{\\\"my-field\\\": value});\\n```\\n\\nHooks must not change the ''title'' field but can freely modify any other field of the tiddler.\\n\"},\"Hook: th-renaming-tiddler\":{\"title\":\"Hook: th-renaming-tiddler\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to inspect tiddlers before they are modified by the `tm-rename-tiddler` message.\\n\\nHook function parameters:\\n\\n* ''newTiddler'': tiddler object incorporating the rename\\n* ''oldTiddler'': optional existing tiddler object that will be overwritten\\n\\nReturn value:\\n\\n* newTiddler: tiddler object to be used for the renaming operation.\\n\\nThe original tiddler object can be returned unmodified by the hook. If the hook needs to modify the tiddler then it should return a new tiddler object, for example:\\n\\n```\\n\\treturn new $tw.Tiddler(tiddler,{\\\"my-field\\\": value});\\n```\\n\\nHooks must not change the ''title'' field but can freely modify any other field of the tiddler.\\n\"},\"Hook: th-rendering-element\":{\"title\":\"Hook: th-rendering-element\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook provides a notification that a DOM element is about to be rendered by the \\\"element\\\" widget. The hook can optionally provide an alternate parse tree that will be rendered in place of the intended element.\\n\\nNote the element widget only renders those HTML elements that were parsed as plain HTML elements within wikitext (i.e. using the `<tagname>` syntax). This means that this hook is not invoked for elements created by other widgets.\\n\\nHook function parameters:\\n\\n* ''newParseTreeNodes'': optional parse tree nodes provided by a previously called hook\\n* ''widget'': instance of the element widget invoking the hook\\n\\nReturn value:\\n\\n* ''newParseTreeNodes'': optionally new parse tree nodes to replace the intended element, or a falsey value to leave the element untouched\\n\\nHere is an example of a handler for this hook:\\n\\n```js\\n$tw.hooks.addHook(\\\"th-rendering-element\\\",function(parseTreeNodes,widget) {\\n\\t// Return the previous mapping if there is one\\n\\tif(parseTreeNodes) {\\n\\t\\treturn parseTreeNodes;\\n\\t}\\n\\t// Detect the elements we're interested in\\n\\tif(someCondition()) {\\n\\t\\t// Replace them with a parse tree\\n\\t\\treturn generateParseTreeNodes();\\n\\t}\\n\\t// Otherwise do nothing\\n\\treturn null;\\n});\\n```\\n\"},\"Hook: th-saving-tiddler\":{\"title\":\"Hook: th-saving-tiddler\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to inspect or modify tiddlers before they are saved via the ''confirm'' toolbar button; the hook is not invoked for tiddlers that are saved through other means, such as state tiddlers created by the ActionSetFieldWidget.\\n\\nHook function parameters:\\n\\n* ''newTiddler'': tiddler object about to be saved\\n* ''oldTiddler'': tiddler object of draft tiddler that is being saved (from v5.1.23)\\n\\nReturn value:\\n\\n* tiddler object to be saved\\n\\nThe original tiddler object can be returned unmodified by the hook. If the hook needs to modify the tiddler then it should return a new tiddler object, for example:\\n\\n```\\n\\treturn new $tw.Tiddler(tiddler,{\\\"my-field\\\": value});\\n```\\n\\nHooks must not change the ''title'' field but can freely modify any other field of the tiddler.\\n\"},\"Hook: th-server-command-post-start\":{\"title\":\"Hook: th-server-command-post-start\",\"tags\":\"HookMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This hook allows plugins to extend the TiddlyWiki server command after it initializes. The two \\nmost obvious use cases are adding routes (such as an attachments folder for external files) \\nto the SimpleServer instance and adding a websockets handler to the HTTP server. \\n\\nHook function parameters: \\n\\n* SimpleServer instance\\n** Defined in core/modules/commands/server.js\\n* NodeJS HTTP Server instance\\n** See the NodeJS docs at [ext[https://nodejs.org/docs/latest-v8.x/api/http.html#http_class_http_server]]\\n* Name of server invoking this hook (for special handling of the NodeJS HTTP server instance argument). \\n** Current known values: `tiddlywiki`, `tiddlyserver`. \\n\\nReturn value is ignored.\\n\"},\"How to create a translation for TiddlyWiki\":{\"title\":\"How to create a translation for TiddlyWiki\",\"tags\":\"howto\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! Prerequisites\\n\\n* [[TiddlyWiki on Node.js|https://tiddlywiki.com/#TiddlyWiki%20on%20Node.js]]\\n* A GitHub account to submit the translation to tiddlywiki.com\\n\\n! Setting Up\\n\\n# Fork the TiddlyWiki GitHub repository (https://github.com/Jermolene/TiddlyWiki5)\\n#* If your GitHub username is JoeBloggs, your fork will be https://github.com/JoeBloggs/TiddlyWiki5\\n# Create a branch with the name of the translation you intend to create (eg \\\"cy-GB\\\" for \\\"Welsh (United Kingdom)\\\")\\n#* IETF language codes: http://www.lingoes.net/en/translator/langcode.htm\\n# Clone your forked repository to your computer (eg, `/MyTranslation/TiddlyWiki5`)\\n# Create a sibling directory `/MyTranslation/jermolene.github.io`\\n# Create a new folder in `<repo>/languages` for your translation\\n# Copy the contents of `<repo>/core/language/en-GB` into your translation folder\\n# Create a `plugin.info` file (see below) in your translation folder\\n# Edit `<repo>/editions/tw5.com/tiddlywiki.info` to add your language to the list\\n# Run `../build.jermolene.github.io/quick-bld.sh` to build TiddlyWiki\\n# Open the TiddlyWiki file at `/MyTranslation/jermolene.github.io/index.html`\\n# You should see your translation listed in the control panel, but the text of the translation will still be in British English\\n# Edit the `.tid` and `.multids` files in your language folder to translate the English text\\n\\nContent of `plugin.info` for Joe Bloggs' Welsh translation:\\n\\n```js\\n{\\n\\t\\\"title\\\": \\\"$:/languages/cy-GB\\\",\\n\\t\\\"name\\\": \\\"cy-GB\\\",\\n\\t\\\"plugin-type\\\": \\\"language\\\",\\n\\t\\\"description\\\": \\\"Welsh (British)\\\",\\n\\t\\\"author\\\": \\\"JoeBloggs\\\",\\n\\t\\\"core-version\\\": \\\">=5.0.0\\\"\\n}\\n```\\n\\n[[MultiTiddlerFiles|https://tiddlywiki.com/#MultiTiddlerFiles]] make it possible to pack the text of several tiddlers in a single text file, simplifying some editing tasks.\\n\\n! Handling Updates\\n\\nSometimes the master en-GB language tiddlers are updated with revised content or new items. The best way to keep track of language-related commits to ~TiddlyWiki5:master is to monitor this RSS/Atom feed:\\n\\nhttps://github.com/Jermolene/TiddlyWiki5/commits/master/core/language.atom\\n\"},\"How to create plugins in the browser\":{\"title\":\"How to create plugins in the browser\",\"tags\":\"howto\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The recommended technique for building TiddlyWiki plugins involves running [[TiddlyWiki on Node.js|https://tiddlywiki.com/#TiddlyWiki%20on%20Node.js]], but there is now an experimental technique for creating plugins directly in the browser.\\n\\n! Overview\\n\\nLoading a plugin in the browser has several consequences:\\n\\n* The original plugin tiddler itself is unchanged\\n* The payload tiddlers are set up as individual [[ShadowTiddlers|https://tiddlywiki.com/#ShadowTiddlers]]\\n\\nTo make a modified copy of a plugin, one edits the constituent shadow tiddlers (doing this actually overrides the shadow tiddler with a new non-shadow tiddler containing the modified content). The repacking process retrieves the current value of all the shadow tiddlers included in the plugin, and then bundles the new values back into the original plugin tiddler.\\n\\n! Step by step\\n\\n!! 1. Setup your development environment\\n\\nStart with a blank TiddlyWiki. It is useful to create a ''HelloThere'' tiddler that contains links to various tiddlers that you'll be opening frequently during plugin development:\\n\\n* The plugin itself (eg `$:/plugins/yourname/pluginname`)\\n* The payload tiddlers that are to be packed into the plugin (eg `$:/plugins/yourname/pluginname/mywidget.js`)\\n\\n!! 2. Create the plugin tiddler\\n\\nClick the link to the plugin tiddler to open it. Assuming it doesn't currently exist, it will open with an italicised title, indicating that it is a missing tiddler. Then switch to edit mode and set the following fields on the tiddler:\\n\\n|!Field |!Value |\\n|''dependents'' |Space separated list of dependent plugins (use square brackets for titles containing spaces) |\\n|''description'' |Plugin description |\\n|''name'' |Plugin name |\\n|''plugin-type'' |Either \\\"plugin\\\" for a regular plugin, \\\"theme\\\" for a theme, or \\\"language\\\" for a language pack |\\n|''type'' |Set to \\\"application/json\\\" |\\n|''version'' |Set to the version number of the plugin (eg \\\"0.0.1\\\") |\\n\\nThen in the body of the tiddler, insert:\\n\\n```js\\n{\\\"tiddlers\\\": {}}\\n```\\n\\nSave the plugin tiddler\\n\\n!! 3. Modify the payload tiddlers\\n\\nCreate the payload tiddlers by clicking on the links in the ''HelloThere'' tiddler from step 1.\\n\\n!! 4. Pack the plugin\\n\\nOpen the browser developer console, and type the following JavaScript statement, but first change the first parameter to the name of your plugin. The second parameter is an optional array of tiddler titles to be added to the plugin:\\n\\n```js\\n$tw.utils.repackPlugin(\\\"$:/plugins/yourname/pluginname\\\",[\\\"$:/plugins/yourname/pluginname/mywidget.js\\\"])\\n```\\n\\nYou should see a confirmation message, and then if you inspect the plugin tiddler you should see that it has been filled with the payload tiddlers.\\n\\nEach time you save the plugin the last portion of the version number is automatically incremented. This will ensure that users with an older version of your plugin will be able to install the new version.\\n\\n!! 5. Testing the plugin\\n\\nTo test the plugin, first make sure that it has been packed. Then save changes and refresh the page in order to load the new plugin.\\n\\n!! 6. Repacking the plugin\\n\\nOnce you've built the plugin for the first time you can omit the second parameter to `repackPlugin()` unless you are adding a new tiddler:\\n\\n```js\\n$tw.utils.repackPlugin(\\\"$:/plugins/yourname/pluginname\\\")\\n```\\n\\n!! 7. Removing tiddlers from the plugin\\n\\nTo remove tiddlers from the plugin specify their titles in the optional third parameter:\\n\\n```jss\\n$tw.utils.repackPlugin(\\\"$:/plugins/yourname/pluginname\\\",null,[\\\"$:/plugins/yourname/pluginname/mywidget.js\\\"])\\n```\\n\\n! Notes\\n\\n!! Creating theme and language plugins\\n\\nBefore attempting to repack your plugin you should ensure that the plugin is selected as the current theme or language. Otherwise the shadow tiddlers will not be present.\\n\\n\"},\"How to customise the password prompt\":{\"title\":\"How to customise the password prompt\",\"tags\":\"howto\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"You can customise the text and appearance of the password prompt that is displayed when encrypted TiddlyWiki files are first opened.\\n\\nTo do so, create a tiddler tagged {{$:/core/wiki/rawmarkup||$:/core/ui/TagTemplate}} containing:\\n\\n# A JavaScript `<script>` tag containing code to override the configuration variable `$tw.boot.encryptionPrompts.decrypt`\\n# CSS `<style>` definitions targeting the `tc-password-wrapper` class to apply styles to the form\\n\\nRaw markup tiddlers are spliced into the top of the standalone HTML file, and are executed before the boot prefix and boot kernel.\\n\\nSee $:/PatchEncryptionPrompt for an example.\\n\"},\"How to run a local plugin library for testing\":{\"title\":\"How to run a local plugin library for testing\",\"tags\":\"howto\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!! Start the Library Server\\n\\nThe \\\"pluginlibrary\\\" edition contains the components needed to set up a local server for ~TiddlyWiki plugin library testing or development.\\n\\nThe following commands will create the library files and start a test server at http://localhost:8888\\n\\n```\\ncd /your/path/to/TiddlyWiki5/editions/pluginlibrary\\ntiddlywiki --build test-server\\n```\\n\\n!! Important\\n\\n''This server is read-only. Nothing is saved back to the filesystem''\\n\\n!! Test the Library with a Single File Wiki\\n\\n* Open a single file wiki and import the configuration tiddler form http://localhost:8888/#%24%3A%2Fconfig%2FLocalPluginLibrary\\n* Open the ''$:/ControlPanel : Plugins : \\\"Get More Plugins\\\"'' modal\\n\\n!! Test the Library with a Node.js Wiki\\n\\n* Create a new wiki with eg:\\n\\n<<<\\n```\\ncd /temp/\\ntiddlywiki my-wiki --init server\\ntiddlywiki my-wiki --listen\\n```\\n<<<\\n\\n* Open \\\"my-wiki\\\" from http://localhost:8080\\n* Import the http://localhost:8888/#%24%3A%2Fconfig%2FLocalPluginLibrary tiddler into \\\"my-wiki\\\"\\n* Open the ''$:/ControlPanel : Plugins : \\\"Get More Plugins\\\"'' modal\\n\\n\"},\"ImportLogging\":{\"title\":\"ImportLogging\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Browsers still have significant variations in their handling of drag and drop and clipboard operations.\\n\\nYou can switch on special logging to help debug issues:\\n\\n# Open your browser JavaScript console\\n# Type:\\n#> ``$tw.log.IMPORT = true``\\n# Drag or paste a file to import it\\n# Look for debug information in the console. For example:\\n#> ``Importing file 'my-image.png', type: 'image/png', isBinary: true``\\n\"},\"Introduction\":{\"title\":\"Introduction\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TiddlyWiki is a personal notebook application based on a wiki application. In addition to a static Web-Site, TiddlyWiki is implemented as a single page application. This is a approach to build rich internet applications, it includes the possibility to put application logic into web-pages to make them dynamically. Furthermore this means the whole application is delivered in one HTML file, consisting of source code to dynamically change the view and behaviour of the application as well as the data of the application. During the runtime nothing must be loaded from a server to the TiddlyWiki application. The HTML file contains everything needed to start the application. TiddlyWiki is highly customisable because of a very sophisticated module concept. Except of a micro-kernel written in JavaScript the whole application consist of a own data-structure called tiddlers and a own markup language called wikiText. Even the modules are realised as tiddlers.\\n\\nThe aim of this documentation is to overview the idea behind the TiddlyWiki application as well as give a overview of the architecture to the reader. This means after reading the documentation the reader is has the knowledge how the overall application works and where the points are where the reader can extend the functionality of the application.\\n\\n\\n''__Section Overview:__''\\n\\n{{Section Overview}}\"},\"JavaScript Macros\":{\"title\":\"JavaScript Macros\",\"tags\":\"dev\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Macros can be implemented as JavaScript modules as well as via the [[wikitext syntax|https://tiddlywiki.com/#Macros%20in%20WikiText]].\\n\\n! Overview\\n\\nJavaScript macros are modules with their ''module-type'' field set to ''macro''. They must export these three properties:\\n\\n* ''name'': A string giving the name used to invoke the macro\\n* ''params'': An array of objects with the following properties:\\n** //name//: name of the parameter\\n** //default//: (optional) default value for the parameter\\n* ''run'': Function called when the macro requires evaluation. The parameters are pulled from the macro call and arranged according to the ''params'' array. The ''run'' function should return the string value of the macro. When invoked, `this` points to the widget node invoking the macro.\\n\\nNote that if the ''params'' array is missing or blank, then all the supplied parameters are passed to the `run()` method.\\n\\n! Writing JavaScript macros\\n\\nThere are several JavaScript macros built into the core which can serve as a jumping off point for your own macros:\\n\\nhttps://github.com/Jermolene/TiddlyWiki5/tree/master/core/modules/macros\\n\\nNote that JavaScript macros work on both the client and the server, and so do not have access to the browser DOM.\\n\\n!! Macro Behaviour\\n\\nMacros are just used to return a chunk of wikitext for further processing. They should not make modifications to tiddlers in the wiki store. The reason is that you cannott control when the macro is called; it may be called repeatedly as part of refresh processing. So it is important that macros do not have any other side effects beyond generating their text.\\n\\n\"},\"Javascript Widget Tutorial\":{\"title\":\"Javascript Widget Tutorial\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! Introduction\\nThis tutorial provides step-by-step, interactive examples of how to write code for tiddlywiki widgets. The demo javascript code can be modified without having to reload the entire wiki.\\n\\nIntended audience:\\n\\n# Those who know tiddlywiki well and know programming and javascript and want to write their own widget. I don't make any effort to explain javascript here. For that you will need other resources.\\n# Those who know tiddlywiki well and don't know javascript, but want to understand more about how tiddlywiki works. You should be able to skim through and interact with the demos and learn something.\\n\\n!The tutorial\\n*[[Undefined widget tutorial]]\\n*[[Do nothing widget tutorial]]\\n*[[Hello World widget tutorial]]\\n*[[Widget refresh tutorial part I]]\\n*[[Widget refresh tutorial part II]]\\n*[[Widget refresh tutorial part III]]\\n*[[Widget attributes tutorial part I]]\\n*[[Widget attributes tutorial part II]]\\n*[[Child widgets tutorial]]\\n\\n! Notes\\n\\ntiddlywiki doesn't support dynamically reloading javascript. If you change a javascript tiddler, then you need to save and reload  the wiki before the changes will take affect.\\n\\nTo avoid the need for such reloads, the excellent [[innerwiki plugin|https://tiddlywiki.com/prerelease/plugins/tiddlywiki/innerwiki/]] is used. This allows an inner wiki to be created from a subset of tiddlers in the outer wiki. Each time the inner wiki is refreshed, its entire wiki is reloaded and the javascript changes in the inner wiki will take affect.\\n\\nWithout the need for reloads, a tiddlywiki instance with the [[innerwiki plugin|https://tiddlywiki.com/prerelease/plugins/tiddlywiki/innerwiki/]] installed works great as a playground for interacting with tiddlywiki javascript.\\n\\n! Other documentation on writing TW widgets\\n\\n*WidgetModules\\n*[[Widgets]]\"},\"LazyLoadingMechanism\":{\"title\":\"LazyLoadingMechanism\",\"tags\":\"Mechanisms\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TiddlyWiki currently only implements LazyLoading when it is running in the browser talking to a TiddlyWeb-compatible server.\\n\\nIn the [[configuration for TiddlyWeb|TiddlyWiki in the Sky for TiddlyWeb]], the browser first requests a \\\"skinny\\\" version of each tiddler (consisting of all the fields apart from the text field). Subsequently, an attempt to read those skinny tiddlers with `wiki.getTiddler()` returns just the skinny fields, but an attempt to read one using `wiki.getTiddlerText()` will trigger an asynchronous load of the full tiddler text, which in turn triggers a refresh cycle, updating the display to reflect the newly loaded tiddler. Widgets that loop through all tiddlers are fine; it's only if they trigger `wiki.getTiddlerText()` for a tiddler that it will get loaded.\\n\\nLazy loading can also be used with TiddlyWiki's own server. The core provides a template that enables images to be lazily loaded while other tiddlers are packaged into the initial HTML file in the usual way.\\n\\nThe browser-based search built into TiddlyWiki5 will only search the text of tiddlers that have been fully loaded. The expectation is that when lazy loading is used in a client-server configuration, then it is the server that really needs to handle search operations, because it is only the server that can \\\"see\\\" the text of all tiddlers. So, the plan is to integrate the built in search with TiddlyWeb's search API. The simplest approach is that any local search triggers an asynchronous server side search. The results of the search would be asynchronously loaded such that they would dynamically appear in the local search results.\\n\"},\"Messages\":{\"title\":\"Messages\",\"chapter.of\":\"Widgets\",\"sub.num\":\"1\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Messages are events that are triggered by the user. They are generated by widgets for example when the user clicks on a ~ButtonWidget.\\nEach message has a type property like \\\"tm-delete-tiddler\\\" and a parameter.\\n\\n```js\\n{type: \\\"tm-delete-tiddler\\\", param: \\\"MyOldTiddler\\\"}\\n```\\n\\nWhen such a message is created by a widget it sends the message to it's parent widget which sends it to it's own parent widget and so on.\\nOn this way each widget can try to dispatch the message.\\nThis concept is realised in the base widget object.\\nIt provides a function ``dispatchEvent(message)`` which is called by the children to bubble the message up the widget tree.\\nAnother function ``addEventListener(type,listener)`` can be used to bind a function to a specific message type.\\nIf the listener returns false, the message is send to the parent widget.\\n\\nThe TiddlyWiki core plug-in handles a lot of messages in the [[NavigatorWidget|RootWidget and Rendering Startup]].\\n\"},\"Microkernel Architecture\":{\"title\":\"Microkernel Architecture\",\"description\":\"The heart of TiddlyWiki is it's microkernel. This section will describe what bare mechanisms are included in the microkernel and how additional modules are loaded.\",\"sectionnumber\":\"2\",\"tags\":\"section doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This section describes the architecture of the ~TiddlyWiki-kernel. ~TiddlyWiki is based on a micro-kernel which provides only a small stack of functions. This design decision was made to introduce a cleaner mechanism for customisation of ~TiddlyWiki. This section also describes the data-model of ~TiddlyWiki called tiddler. And it gives a overview to the module system which developers can use to extend the functionality of the ~TiddlyWiki application.\\n\\n<$list filter=\\\"[!has[draft.of]has[chapter.of]chapter.of[Microkernel Architecture]tag[doc]sort[sub.num]]\\\">\\n\\n\\n! <$view field=\\\"title\\\"/>\\n{{!!text}}\\n</$list>\\n\"},\"Microkernel Description\":{\"title\":\"Microkernel Description\",\"chapter.of\":\"Microkernel Architecture\",\"sub.num\":\"1\",\"tags\":\"doc new\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The TiddlyWiki application is based on a microkernel architecture, that means it separate minimal functional core from the extended functionality. The microkernel provides the functionality to load external extensions to extend its core features. The TiddlyWiki microkernel provides a few helper methods but the main task of the TiddlyWiki kernel is to provide a basic functionality for storing data and loading the extension plug-ins. Within the TiddlyWiki architecture everything is stored as a tiddler. How the architecture of TiddlyWiki stores his data during the runtime of the application is shown in [[Datamodel]], but the kernel provides this datamodel. It also prepares the functionality to store and create these tiddlers. In favour it creates a store to manage the tiddlers during the runtime. Without any extensions the microkernel is not able to persist the tiddlers, this means the data is only holded in the RAM. Here are some example interfaces for working with tiddlers in memory which are provided by the kernel:\\n\\n*$tw.Tiddler = function(/* [fields,] fields */)\\n*$tw.Wiki.addTiddler = function(tiddler)\\n*$tw.Wiki.deleteTiddler = function(title)\\n*$tw.Wiki.getTiddler = function(title)\\n\\nAn additional  feature of the microkernel is the ability to encrypt and decrypt a block of text. To provide this functionality the microkernel has a built in password-vault to store the current used password. The library used to encrypt and decrypt data is the [[StandfordJavaScript Crypto Libary|http://bitwiseshiftleft.github.io/sjcl/]]. This feature allows the micro-kernel to load encrypted tiddlers from the TiddlyWiki file, but it also allows extension plug-ins to use the encrypt functionality e.g. to persist an encrypted TiddlyWiki.  \\n\\nIn order to load extension plug-ins the kernel prepares a interface to load and execute these plug-ins. Therefore the micro-kernel provides some deserializers to extract different type of tiddlers e.g. from the TiddlyWiki-File. Within the microkernel a bunch of different deserializer are installed. These deserializer are needed because every tiddler can include a different type of data for example tiddlers can contain javaScript-code, text, html-text or ~JSON-data. Even after packaging a TiddlyWiki application every plug-in is stored as a tiddler within the TiddlyWiki-Document. This feature is specified in the [[Module System]] section. Therefore the micro-kernel need the functionality to parse all the different type of tiddlers. To differ between the different type of tiddlers every tiddler has a file type which are generated by the microkernel\\n\\nThe image below shows the startup process of the TiddlyWiki-kernel. The bootprefix is responsible for preparing the kernel to boot on different engines e.g. browsers and node.js. Afterwards the main boot process which includes the microkernel, with the startup-method, is started. After successfully running these steps the main architecture is loaded. The last step is to run the startup modules. These modules are described later. But in brief this is the point where the TiddlyWiki microkernel can be extended by own functionality. Every module marked as \\\"startup\\\" is started after finishing the boot process of the kernel.\\n\\n<<<\\n{{StartupTimeline.png}}\\n<<< The microkernel builds up the essential functions and structures and initiates a startup sequence.\\n\"},\"Microkernel and Datamodel\":{\"title\":\"Microkernel and Datamodel\",\"tags\":\"redo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The microkernel is responsible for creating a bare-bones TW environment.\\nIt is running under Node.js or in a HTML5 Browser. The Bootkernel just loads enough functionality to load the modules containing the main logic of the application. This boot-kernel contains a few helper methods, the module mechanism as well as the function to create a tiddler and manage them. The boot-kernel also creates the bare-bones wiki store, which holds all the information of the wiki during the runtime. After creating the store, the boot-kernel is in charge of decrypting the encrypted tiddlers and extracting all the tiddlers e.g. the core module tiddlers embedded in the DOM structure of the HTML file. Furthermore the boot kernel offers the functionality to load tiddlers from a file, when you run TW with Node.js.\\n\\n{{StartupTimeline.png}}\"},\"Microkernel\":{\"title\":\"Microkernel\",\"chapter.of\":\"TiddlyWiki - A quick Overview\",\"sub.num\":\"2\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"In the universe of TiddlyWiki everything is a tiddler.\\nEven the application logic is stored in tiddlers that are marked as \\\"application/javascript\\\".\\nThese tiddlers, which contain application logic, are called modules and a ~CommonJS compatible module system is responsible for assembling the individual modules into the TiddlyWiki application.\\nThe result is a tree representing the whole TiddlyWiki application containing module tiddlers, data tiddlers and some ~JavaScript functions and objects.\\n\\nOnly a small part of the TiddlyWiki is not managed as tiddlers, the microkernel.\\nThe microkernel is the first thing to run, when the application is started and it puts some initial objects and functions into the application tree, which are needed to load and manage tiddlers.\\nAfter the microkernel built this initial application tree, the remaining parts of the application can be loaded as module tiddlers.\\nBeside some utility functions the most important object that is contributed by the boot kernel is \\\"$tw.wiki\\\", consisting of ~JavaScript structures and functions that are used to store and manage the loaded tiddlers.\\nAmong other things this store can be used to add new tiddlers, remove tiddlers and retrieve tiddlers by name.\\n\\n<<<\\n{{apptree.svg}}\\n<<< The microkernel constructs a initial $tw object containing the needed structures and functions.\\n\"},\"Modularization\":{\"title\":\"Modularization\",\"chapter.of\":\"TiddlyWiki - A quick Overview\",\"sub.num\":\"5\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The whole application is basically built from three parts. At first, the microkernel provides the basic functionality to handle tiddlers. The second part are tiddlers representing core functionality. These are for example modules which extend the store by more sophisticated functions, UI tiddlers and widget modules, a WikiText parser, sophisticated deserializers, savers, syncadapters, etc.\\nThese core modules are provided as plug-in to the microkernel. Consequently, a plug-in is a single tiddler which itself contains multiple tiddlers, forming the plug-in. Each of this tiddler might be a module providing new functionality (i.e. a module tiddler marked with \\\"module-type: saver\\\" can extend the application with new methods of saving the current wiki state.).\\nTiddlers provided in plug-ins are called shadow tiddlers. They are immutable and can not be edited or deleted  but we can create a new tiddler with the same name to override a shadow tiddler.\\n\"},\"Module System\":{\"title\":\"Module System\",\"chapter.of\":\"Microkernel Architecture\",\"sub.num\":\"3\",\"tags\":\"doc [[Microkernel Architecture]]\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"After the boot kernel provides the functions used to load tiddlers, the rest of the TiddlyWiki application is loaded as modules.\\nA module is a tiddler which has the type ``application/javascript`` and contains CommonJS compatible JavaScript code. This means a single module provides its public structures and functions in a variable called ``export``. Other modules can obtain these structures and functions by using a global ``require`` function.\\n\\n```js\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n// ...\\nButtonWidget.prototype = new Widget();\\n```\\n\\nIn most cases these module tiddlers are packed into a plug-in.\\nFollowing the \\\"everything is a tiddler\\\" concept, a plug-in is a tiddler, which contains a bunch of other tiddlers. These tiddlers are first converted into a JSON structure which then becomes the body of the plug-in tiddler.\\nThis is not restricted to module tiddlers. A plug-in can contain any tiddlers. This way a developer can put for example simple modules, widgets, UI parts written with WikiText, even new filter operators or extensions to the WikiText parser into a plug-in tiddler. In fact the whole TW core is provided as a single plug-in. Tiddlers provided in a plug-in are called shadow tiddlers and can not be edited. Instead, when trying to edit a shadow tiddler, a new tiddler with the same name is created which then \\\"overrides\\\" the shadow tiddler.\\n\\nInstead of requiring a specific module directly, a module developer can specify the type of the module he is developing by setting the field \\\"module-type\\\" of the containing tiddler.\\nFor example, by providing a module-type of \\\"saver\\\", TiddlyWiki knows that this module implements a way of saving the whole wiki and when the user clicks on the save button, TiddlyWiki automaticly considers the provided module to save the current state.\"},\"NEW NEW TOC\":{\"title\":\"NEW NEW TOC\",\"caption\":\"Table of Contents\",\"list-before\":\"\",\"tags\":\"$:/tags/SideBar\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define toc-heading(caption,body)\\n<$reveal type=\\\"nomatch\\\" state=<<qualify \\\"$:/state/toc/$caption$\\\">> text=\\\"show\\\">\\n<$button set=<<qualify \\\"$:/state/toc/$caption$\\\">> setTo=\\\"show\\\" class=\\\"tc-btn-invisible\\\">{{$:/core/images/right-arrow}} $caption$\\n</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" state=<<qualify \\\"$:/state/toc/$caption$\\\">> text=\\\"show\\\">\\n<$button set=<<qualify \\\"$:/state/toc/$caption$\\\">> setTo=\\\"hide\\\" class=\\\"tc-btn-invisible\\\">{{$:/core/images/down-arrow}} $caption$\\n</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" state=<<qualify \\\"$:/state/toc/$caption$\\\">> text=\\\"show\\\" retain=\\\"yes\\\" animate=\\\"yes\\\">\\n\\n$body$\\n\\n</$reveal>\\n\\\\end\\n<div class=\\\"tc-table-of-contents\\\">\\n\\n# [[Introduction]]\\n\\n# [[TiddlyWiki - A quick Overview]]\\n## <<toc-heading \\\"~TiddlyWiki - A quick Overview ~TiddlyWiki\\\" \\\"\\n##[[TiddlyWiki as Single Page Application]]\\n## [[Microkernel]]\\n##[[Data Persistence]]\\n##[[The User Interface]]\\n##[[Modularization]]\\n##[[Tiddler as Basic Element]]\\n##[[WikiText Markup]]\\n\\\">>\\n# [[Microkernel Architecture]]\\n## <<toc-heading \\\"Microkernel Architecture\\\" \\\"\\n##[[Microkernel|Microkernel Description]]\\n##[[Datamodel]]\\n##[[Module System]]\\n\\\">>\\n# [[TiddlyWiki Core Application]]\\n## <<toc-heading \\\"~TiddlyWiki Core Application\\\" \\\"\\n##[[Startup Process]]\\n##[[Extending the Store]]\\n###[[Event Mechanism]]\\n###[[Caching]]\\n###[[System Tiddlers]]\\n###[[Tags and Filter Mechanism]]\\n##[[Extended Persistence]]\\n###[[Deserializer]]\\n###[[Saver]]\\n###[[Syncadaptor]]\\n##[[UI and Rendering Pipeline]]\\n###[[Wikitext]]\\n###[[Parser]]\\n###[[Widgets]]\\n####[[Messages]]\\n####[[Selective Update]]\\n###[[Transclusion and TextReference]]\\n###[[RootWidget and Rendering Startup]]\\n\\\">>\\n#[[Conclusion]]\\n</div>\\n\"},\"Parser\":{\"title\":\"Parser\",\"chapter.of\":\"UI and Rendering Pipeline\",\"sub.num\":\"2\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The first stage of WikiText processing is the parser.\\nA Parser is provided by a module with ``module-type: parser`` and is responsible to transform block of text to a parse-tree.\\nThe parse-tree consists of nested nodes like\\n\\n```js\\n{type: \\\"element\\\", tag: <string>, attributes: {}, children: []} - an HTML element\\n{type: \\\"text\\\", text: <string>} - a text node\\n{type: \\\"entity\\\", entity: <string>} - an HTML entity like &copy; for a copyright symbol\\n{type: \\\"raw\\\", html: <string>} - raw HTML\\n```\\n\\nThe core plug-in provides a recursive descent WikiText parser which loads it's individual rules from individual modules.\\nThus a developer can provide additional rules by using ``module-type: wikirule``. Each rule can produce a list of parse-tree nodes.\\nA simple example for a wikirule producing a ``<hr>`` from ``---`` can be found in [[horizrule.js|$:/core/modules/parsers/wikiparser/rules/horizrule.js]]\\n\\nHTML tags can be embedded into WikiText because of the [[html rule|$:/core/modules/parsers/wikiparser/rules/html.js]].\\nThis rule matches HTML tag syntax and creates ``type: \\\"element\\\"`` nodes.\\nBut the html-rule has another special purpose. By parsing the HTML tag syntax it implicitly parses WikiText widgets.\\nIt the recognises them by the $ character at the beginning of the tag name and instead of producing \\\"element\\\" nodes \\nit uses the tag name for the type:\\n\\n```js\\n{type: \\\"list\\\", tag: \\\"$list\\\", attributes: {}, children: []} - a list element\\n```\\n\\nThe [[Widgets]] part will reveal why this makes sense and how each node is transformed into a widget.\\nAnother special characteristic of the html-rule or the parse nodes in general is the attributes property.\\nAttributes in the parse-tree are not stored as simple strings but they are nodes of its own to make indirect text references available as attributes as described in [[Widgets]]:\\n\\n```js\\n{type: \\\"string\\\", value: <string>} - literal string\\n{type: \\\"indirect\\\", textReference: <textReference>} - indirect through a text reference\\n```\\n\"},\"ParserSubclassingMechanism\":{\"title\":\"ParserSubclassingMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!! Introduction\\n\\nThe wikitext parser subclassing mechanism makes it possible for custom parsers to use the wiki text parsing engine, but to customise the rules that are used.\\n\\n!! Example\\n\\nHere is an example of a subclass of the checkbox widget that adds logging to the event handler:\\n\\n```js\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar WikiParser = require(\\\"$:/core/modules/parsers/wikiparser/wikiparser.js\\\")[\\\"text/vnd.tiddlywiki\\\"],\\n\\tHtmlParser = $tw.modules.createClassFromModule(require(\\\"$:/core/modules/parsers/wikiparser/rules/html.js\\\"),$tw.WikiRuleBase),\\n\\tEntityParser = $tw.modules.createClassFromModule(require(\\\"$:/core/modules/parsers/wikiparser/rules/entity.js\\\"),$tw.WikiRuleBase);\\n\\nvar MyCustomWikiParser = function(type,text,options) {\\n\\tvar parser = new WikiParser(type,text,$tw.utils.extend({},options,{\\n\\t\\t// Force the parser to parse in inline mode\\n\\t\\tparseAsInline: true,\\n\\t\\t// Specify which rules will be used\\n\\t\\trules: {\\n\\t\\t\\tpragma: [],\\n\\t\\t\\tblock: [],\\n\\t\\t\\tinline: [HtmlParser,EntityParser]\\n\\t\\t}\\n\\t}));\\n\\tthis.tree = parser.tree;\\n\\tthis.prototype = parser.prototype;\\n};\\n\\nexports[\\\"text/vnd.my-custom-type\\\"] = MyCustomWikiParser;\\n\\n})();\\n```\\n\"},\"ParsingMechanism\":{\"title\":\"ParsingMechanism\",\"tags\":\"Mechanisms\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! Introduction\\n\\nThe parsing mechanism analyses the text of a tiddler against a set of parsing rules, producing a tree representing the structure of the text. The RenderingMechanism is used to transform parse trees into render trees of widget nodes.\\n\\nTiddlyWiki5 includes ParserModules for several types of tiddler:\\n\\n* WikiText\\n* Raw HTML\\n* Plain text\\n* Images (bitmap, SVG and PDF)\\n\\nThe WikiText parser is the most complex, comprising separate individual WikiRuleModules encapsulating each parsing rule.\\n\\n! Parse Trees\\n\\nThe output of parsing a tiddler is an object containing a tree of parse nodes corresponding to the original text. For example:\\n\\n```\\n> JSON.stringify($tw.wiki.parseText(\\\"text/vnd.tiddlywiki\\\",\\\"Some //italics// and a {{Transclusion}}.\\\").tree)\\n\\n[\\n\\t{type: \\\"element\\\", tag: \\\"p\\\", children: [\\n\\t\\t{type: \\\"text\\\", text: \\\"Some \\\"},\\n\\t\\t{type: \\\"element\\\", tag: \\\"em\\\", children: [\\n\\t\\t\\t{type: \\\"text\\\", text: \\\"italics\\\"}\\n\\t\\t]},\\n\\t\\t{type: \\\"text\\\", text: \\\" and a \\\"},\\n\\t\\t{type: \\\"tiddler\\\", attributes:{\\n\\t\\t\\ttiddler: {type: \\\"string\\\", value: \\\"Transclusion\\\"}\\n\\t\\t}, children:[\\n\\t\\t\\t{type: \\\"transclude\\\", attributes:{\\n\\t\\t\\t\\ttiddler: {type: \\\"string\\\", value: \\\"Transclusion\\\"}\\n\\t\\t\\t}}\\n\\t\\t]},\\n\\t\\t{type: \\\"text\\\", text: \\\".\\\"}\\n\\t]}\\n]\\n```\\n\\nParse tree nodes are plain JavaScript objects, and do not have a prototype.\\n\"},\"Persist data\":{\"title\":\"Persist data\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TiddlyWiki supports a wide range of methods to persist your data. One of this methods is the HTML5 fallback saver. This methods works on almost every browser. With this method a copy of the entire wiki will be downloaded by the browser. This means you get a new file everytime you hit the save button.  To avoid this and because every Browser has a different API to allow writing direct to the file system there a some plugins for the different browsers. These plug-ins allow the user to save direct to the current open TiddlyWiki-File. The Listing below shows the HTML5-compliant to save the changes via the HTML5 fallback saver by downloading the TW as a complete HTML-file.\\n\\n```js\\nDownloadSaver.prototype.save = function(text,method,callback) {\\n\\t...\\n\\tvar link = document.createElement(\\\"a\\\");\\n\\tlink.setAttribute(\\\"target\\\",\\\"_blank\\\");\\n\\t...\\n\\tlink.setAttribute(\\\"href\\\",\\\"data:text/html,\\\" + encodeURIComponent(text));\\n\\t...\\n\\tlink.setAttribute(\\\"download\\\",filename);\\n\\tdocument.body.appendChild(link);\\n\\tlink.click();\\n\\tdocument.body.removeChild(link);\\n\\treturn true;\\n};\\n```\"},\"ReadMe for build.jermolene.github.io\":{\"title\":\"ReadMe for build.jermolene.github.io\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"{{Scripts for building tiddlywiki.com}}\\n\"},\"Releasing a new version of TiddlyWiki\":{\"title\":\"Releasing a new version of TiddlyWiki\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!! Preparation on master\\n\\n# Ensure the new release banner image is up to date\\n# Update ''master'' with changes from ''tiddlywiki-com''\\n# Verify the version numbers in [[$:/config/OfficialPluginLibrary]] in `core/wiki/config/OfficialPluginLibrary.tid`\\n# Move the latest release note from the prerelease edition into the tw5.com edition\\n# Adjust the release date and the ''released'' field of the latest release tiddler (eg, [[Release 5.1.3]])\\n# Also adjust the github.com comparison link to point to the tag for the new release\\n# Ensure [[TiddlyWiki Releases]] has the new version as the default tab\\n# Adjust the modified time of HelloThere\\n# Make sure ''master'' is fully committed\\n\\n!! Update Readmes\\n\\n# Edit `package.json` to the new version number\\n# Run `./bin/readme-bld.sh` to build the readme files\\n# Commit the new readme files to ''master''\\n# Restore `package.json` to the previous version number\\n\\n!! Make New Release\\n\\n# Run `./bin/verbump \\\"5.1.3\\\"` (substituting the correct version number) to update the version number, assign it a tag \\n# Run `./bin/npm-publish.sh` to publish the release to npm\\n# Verify that the new release of TiddlyWiki is available at https://www.npmjs.org/package/tiddlywiki\\n\\n!! Update tiddlywiki.com release\\n\\n# Update ''tiddlywiki-com'' from ''master'' and push to ~GitHub\\n\\n!! Cleaning Up\\n\\n# Tweet the release with the text \\\"TiddlyWiki v5.x.x released to https://tiddlywiki.com #newtiddlywikirelease\\\"\\n\\n!! Preparation for the next release in ''master''\\n\\n# Adjust version number in `package.json`\\n# Adjust version number in `bin/build-site.sh`\\n# Adjust version number in [[$:/config/OfficialPluginLibrary]] (both in `editions/tw5.com` and `editions/prerelease/tiddlers/system`) and [[$:/config/LocalPluginLibrary]]\\n# Adjust new release banner\\n# Create the release note for the new release\\n# Commit changes to ''master'' and push to ~GitHub\\n\"},\"Releasing new content for TiddlyWiki\":{\"title\":\"Releasing new content for TiddlyWiki\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"To update https://tiddlywiki.com with new content, make a Pull Request with the updated tiddlers to the `tiddlywiki-com` branch. As soon as the PR is merged, the [[Continuous Deployment]] system will automatically rebuild the site.\\n\\nNote that the PR should only include updates within the `editions` folder of the repo.\"},\"RenderingMechanism\":{\"title\":\"RenderingMechanism\",\"tags\":\"Mechanisms\",\"type\":\"text/vnd.tiddlywiki\"},\"RootWidget and Rendering Startup\":{\"title\":\"RootWidget and Rendering Startup\",\"chapter.of\":\"UI and Rendering Pipeline\",\"sub.num\":\"5\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The previous parts of this chapter showed how WikiText is transformed to DOM nodes which dynamically react to tiddler changes and a way to compose tiddlers from other tiddlers.\\nThis last part describes how the TiddlyWiki core plug-in starts up a UI build from tiddlers and WikiText.\\n\\nAfter the microkernel has loaded it starts executing [[Startup Modules|Startup Process]].\\nThe core plug-in contains two startup modules which are responsible to kick off the UI:\\n\\n[[rootwidget.js|$:/core/modules/startup/rootwidget.js]] is a startup module and creates an instance of the base widget.\\nThis widget is globally accessible ``$tw.rootWidget``.\\nThe DOM node associated to this widget is the current browser window's DOM (``document``).\\n\\nAt first, the root widget has no children but provides some basic event handlers ([[Messages]]) like:\\n\\n* ''tm-notify:'' Displays the message given in param as a notification.\\n* ''tm-save-wiki'': Triggered by a save button, the user can click. This handler uses the syncer module described in [[Extended Persistence]] to save the current wiki.\\n* ''tm-auto-save-wiki'': Similar to tm-save-wiki but not triggered directly by the user but automatically triggered when a wiki page is edited and saved. A [[Saver]] implementation which starts a download of the updated wiki file would not support the auto-save method and would only be used when the tm-save-wiki message is used.\\n* ''tm-download-file'': This message also uses the syncer module described in [[Extended Persistence]] but explicitly demands to choose a saver with the download-method to start downloading a single tiddler.\\n\\nAfter the root widget is loaded another startup module [[$:/core/modules/startup/render.js]] creates a transclude widget which contains the contents of [[$:/core/ui/PageTemplate]] which is now bound to the browsers DOM document.\\nThe render function of the transclude widget is initially executed\\nand a listener is registered at the store which executes the refresh function of the transclude widget to trigger the [[Selective Update]] process.\\n\\n[[Techniques for including other tiddlers and Templates|Transclusion and TextReference]] are finally used in [[$:/core/ui/PageTemplate]] to build the TiddlyWiki UI only from tiddlers written in WikiText (with widgets implemented in javascript):\\n\\nFor example to implement the list of open wiki pages the [[$:/core/ui/PageTemplate]] contains a [[navigator widget|$:/core/modules/widgets/navigator.js]] which maintains a list of open tiddlers in a field of [[$:/StoryList]] and handles events like ``tm-navigate`` by adding a tiddler specified as parameter to the top of the list in [[$:/StoryList]].\\nThe [[story tiddler|$:/core/ui/PageTemplate/story]] transcluded in [[$:/core/ui/PageTemplate]] then uses a ~ListWidget to transclude all tiddlers in [[$:/StoryList]] through a special template [[$:/core/ui/ViewTemplate]].\\nA event of the type ``tm-close-tiddler`` would remove a specified tiddler from [[$:/StoryList]].\\nThe [[Event Mechanism]] would trigger a changed event which triggers a call of the ~ListWidget's refresh function which would remove the tiddler from the list, closing the tiddler.\\n\"},\"Saver\":{\"title\":\"Saver\",\"chapter.of\":\"Extended Persistence\",\"sub.num\":\"2\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Modules with ``module-type: saver`` provide functionality to save the whole wiki. There are three methods a saver can support:\\n\\n<dl>\\n<dt>save</dt> <dd>This method is used, when the user requests a save, for example by clicking the save button in the sidebar.</dd>\\n<dt>autosave</dt> <dd>This method is used automatically by TW when tiddlers are changed, created or deleted by the user.</dd>\\n<dt>download</dt> <dd>This message is used when the wiki or a single tiddler should explicitly be downloaded. The control panel for example uses this method to provide a button which saves the wiki as a static HTML file.</dd>\\n</dl>\\n\\nA saver module has to export two functions. ``canSave(wiki)`` returning true if this module is capable of working and ``create(wiki)`` returning an instance of a saver object.\\nThis saver object has to provide an ``info`` property containing a name, a priority, an array of methods it supports and a method ``save(text,method,callback)``. This method is called from TW with the actual text which should be saved, the method which is used and a callback function to report errors: ``callback(\\\"Error while saving\\\")`` or to notify that saving went well: ``callback(null, \\\"Saving went well :)\\\")``. If the saver method successfully saved the file it has to return true, or false otherwise.\\nSaves are triggered by messages from the UI. The syncer module uses the saver with the highest priority capable of the requested method to save the file.\\n\\nThe core plug-in contains a saver capable of saving the current state of the wiki to the local hard drive by using a special Firefox extension called Tiddlyfox. If this extension is not available, the savers ``canSave`` method would return false. A saver with a lower priority would then ask the user to save the current state as a new HTML file.\\n\"},\"Scripts for building tiddlywiki.com\":{\"title\":\"Scripts for building tiddlywiki.com\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"These scripts are used to build and release the content for tiddlywiki.com. They are not designed for general purpose use -- they resolve problems that are specific to the task of building tiddlywiki.com: pushing to GitHub Pages, handling the prerelease builds and bumping version numbers.\\n\\nNonetheless, you may find techniques that are useful for your own scripts.\\n\\n! Hosting\\n\\nhttps://tiddlywiki.com is served by [[GitHub Pages|https://pages.github.com]] from the repository https://github.com/Jermolene/jermolene.github.io\\n\\nThe scripts live in the repository https://github.com/Jermolene/build.jermolene.github.io\\n\\n! Directory structure\\n\\nThese scripts require the following directories to be siblings:\\n\\n* `build.jermolene.github.io` - a local copy of https://github.com/Jermolene/build.jermolene.github.io\\n* `jermolene.github.io` - a local copy of the repo https://github.com/Jermolene/jermolene.github.io\\n* `TiddlyWiki5` - a local copy of the repo https://github.com/Jermolene/TiddlyWiki5\\n\\nThe scripts are designed to be executed with the current directory being the `TiddlyWiki5` directory.\\n\\n! Configuration\\n\\n!! package.json\\n\\nThe `package.json` in the root of the `build.jermolene.github.io` repository contains a dependency declaration that specifies the latest official released version of TiddlyWiki to be used when building the release targets:\\n\\n```js\\n  \\\"dependencies\\\": {\\n    \\\"tiddlywiki\\\": \\\"5.1.2\\\"\\n  }\\n```\\n\\n!! Environment variables\\n\\nSome of the scripts use the following environment variables:\\n\\n* ''TW5_BUILD_MAIN_EDITION'' - the path to the wiki folder to be used as the main edition, generating `index.html` and `encrypted.html`\\n* ''TW5_BUILD_OUTPUT'' - the path to the output folder (defaults to `../jermolene.github.io`)\\n* ''TW5_BUILD_TIDDLYWIKI'' - the pathname of the `tiddlywiki.js` to be used (defaults to `../build.jermolene.github.io/node_modules/tiddlywiki/tiddlywiki.js`)\\n\\n! Scripts\\n\\n!! `bld.sh`\\n\\nBuilds the `tiddlywiki.com` target files. By default, it uses the version of tiddlywiki specified in the `package.json` file. This can be overridden with the ''TW5_BUILD_TIDDLYWIKI'' environment variable. The following command would select the latest prerelease version of tiddlywiki from the `TiddlyWiki5` directory:\\n\\n```bash\\n    TW5_BUILD_TIDDLYWIKI=./tiddlywiki.js\\n```\\n\\n!! `readme-bld.sh`\\n\\nBuilds the readme files for the `TiddlyWiki5` and `build.jermolene.github.io` repos using the released version of TiddlyWiki specified in `package.json`.\\n\\n!! `prerelease-bld.sh`\\n\\nBuilds the `tiddlywiki.com/prerelease` target files using the latest TiddlyWiki prerelease code and special ''prerelease'' edition for the content.\\n\\n!! `github-push.sh`\\n\\nPushes the latest changes to the `jermolene.github.io` directory to GitHub.\\n\\n!! `dev-bld.sh`\\n\\nBuilds the ''dev'' prerelease edition.\\n\\n!! `quick-bld.sh`\\n\\nBuilds the ''prerelease'' prerelease edition.\\n\\n!! `tiddlyspace-upload.sh`\\n\\nBuilds the ''tw5tiddlyweb'' edition and uploads it to TiddlySpace.\\n\\n!! `verbump.sh`\\n\\nBumps the version number of the `package.json` in the `TiddlyWiki5` repo and applies the correct version tag to the repo.\\n\\n!! `npm-publish.sh`\\n\\nPublishes the `TiddlyWiki5` repo to npm.\\n\\n! Procedures\\n\\n!! Releasing a new version of TiddlyWiki\\n\\n{{Releasing a new version of TiddlyWiki}}\\n\\n!! Releasing new content for TiddlyWiki\\n\\n{{Releasing new content for TiddlyWiki}}\\n\"},\"Section Overview\":{\"title\":\"Section Overview\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<dl>\\n<$list filter=\\\"[!has[draft.of]tag[doc]tag[section]sort[sectionnumber]]\\\">\\n\\n<dt> <$link to={{!!title}}><$view field=\\\"title\\\"/></$link></dt><dd><$view field=\\\"description\\\"/></dd>\\n\\n</$list>\\n</dl>\"},\"Selective Update\":{\"title\":\"Selective Update\",\"chapter.of\":\"Widgets\",\"sub.num\":\"2\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"With [[Messages]] a widget is able to put some kind of events into the TiddlyWiki application which is one part of the dynamic behaviour of widgets.\\nThe other part is selective updating.\\nWidgets are often dependant on tiddler states.\\nThe [[ListWidget|https://tiddlywiki.com/#ListWidget]] for example can be configured to list all tiddlers which are tagged with \\\"important\\\".\\nNow, when such a tiddler is changed and it's \\\"important\\\" tag is removed, this change should reflect in the ~ListWidget.\\nTo allow widgets to react on such changes, each widget can provide a function ``refresh(changedTiddlers)``.\\nThe [[RootWidget|RootWidget and Rendering Startup]] is registered to the wiki store, using the [[Event Mechanism]]. When an change event occurs it starts to call the refresh function of its children with a list of the changed tiddlers.\\nEach widget can then decide if it has to change or re-render its DOM representation and call the refresh function of its own children.\\nThis way every time a tiddler or the wiki store itself changes, each widget can instantly react on these changes or ignore them.\\n\\nAnother way of updating are text reference attributes (text references explained in [[Transclusion and TextReference]]):\\n\\n```js\\n{type: \\\"indirect\\\", textReference: <textReference>}\\n```\\n\\nWhen a widget got a attribute which is a text reference and the refresh function is called, it can check if the text reference references a changed tiddler and update accordingly.\\n\\nNearly every state of the UI is stored in tiddlers. A search mechanism for example would use a ~EditTextWidget which shows an text input field for the search string and a ListWidget to show the results.\\nThe ~EditTextWidget is bound to a tiddler [[$:/temp/search]]. Meaning when editing the text in the input field the tiddlers content is changed to this text. On the other hand when the tiddler changes the [[RootWidget|RootWidget and Rendering Startup]] is notified. It then starts calling its childrens refresh methods. Eventually the refresh method of the ~EditTextWidget is called and it can re-render itself if necessary.\\nThis way TiddlyWiki can re-use an already existing data structure which is not only convenient because we don't need to introduce an additional structure but tiddlers managed in the wiki store are already a pretty powerful data structure, supporting an [[Event Mechanism]] (so we don't need an additional observer pattern), [[Caching]], Metadata by additional tiddler fields and a [[way to obtain specific tiddlers|Tags and Filter Mechanism]].\\n\"},\"Startup Process\":{\"title\":\"Startup Process\",\"chapter.of\":\"TiddlyWiki Core Application\",\"sub.num\":\"1\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Modules with ``module-type: startup`` have to export a  function named ``startup`` and may export a name property to identify this module. The startup function will be executed by the boot kernel at the end of the boot process.\\n\\n```js\\n// From boot.js:\\n// Gather up any startup modules\\n$tw.boot.remainingStartupModules = []; // Array of startup modules\\n$tw.modules.forEachModuleOfType(\\\"startup\\\",function(title,module) {\\n\\tif(module.startup) {\\n\\t\\t$tw.boot.remainingStartupModules.push(module);\\n\\t}\\n});\\n// Keep track of the startup tasks that have been executed\\n$tw.boot.executedStartupModules = Object.create(null);\\n$tw.boot.disabledStartupModules = $tw.boot.disabledStartupModules || [];\\n// Repeatedly execute the next eligible task\\n$tw.boot.executeNextStartupTask();\\n```\\n\\n``executeNextStartupTask()`` will execute the remaining startup modules in ``remainingStartupModules``. A startup module can export the variables ``before`` and/or ``after``, each containing an array of names of other startup modules. ``executeNextStartupTask()`` will use this information to execute the modules in the correct order.\\n\\nStartup modules can be marked as synchronous by exporting ``synchronous = true``. If synchronous is set to false, the startup function is executed with an callback function as the first argument. The startup function has to call this function to allow subsequent startup modules to get executed. This is necessary when the startup function itself uses asynchronous calls.\"},\"StartupMechanism\":{\"title\":\"StartupMechanism\",\"tags\":\"Mechanisms\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The startup mechanism runs the installed startup modules at the end of the [[boot process|BootMechanism]].\\n\\n! Startup Modules\\n\\nModules with their ''module-type'' field set to `startup`:\\n\\n* Must export a `startup` function\\n** For synchronous startup modules the startup function is called as `startup()`, asynchronous modules are passed a callback they must invoke on completion: `startup(callback)`\\n* May export a `name` property that is used to identify the task\\n* May export a `after` property containing an array of names of dependent tasks that must be run before this one\\n* May export a `before` property containing an array of names of tasks that must be run after this one\\n* May export a `platforms` property containing an array of names of platforms that are required in order for the startup module to be executed. The defined platforms are ''node'' and ''browser''. If the `platforms` property is not provided it defaults to `[\\\"node\\\",\\\"browser\\\"]`\\n\\n! Startup Processing\\n\\nStartup modules are executed in sequence according to their declared dependencies.\\n\\nThere is no guarantee of the execution order of tasks that share the same dependencies.\\n\\n! Startup Modules\\n\\nThe core defines the following startup modules:\\n\\n{{Startup Modules.svg}}\\n\"},\"SyncAdaptorModules\":{\"title\":\"SyncAdaptorModules\",\"tags\":\"dev moduletypes\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! Introduction\\n\\nSyncAdaptorModules encapsulate storage mechanisms that can be used by the SyncMechanism. Two examples are:\\n\\n* The TiddlyWebAdaptor interfaces with servers compatible with TiddlyWeb's HTTP API, such as TiddlyWeb itself and TiddlyWiki5's built-in ServerMechanism.\\n\\n* The LocalFileAdaptor interfaces with file systems with an API compatible with Node.js's `fs` module\\n\\nSyncAdaptorModules are represented as JavaScript tiddlers with the field `module-type` set to `syncadaptor`.\\n\\nSee [[this pull request|https://github.com/Jermolene/TiddlyWiki5/pull/4373]] for background on the evolution of this API.\\n\\n! Exports\\n\\nThe following properties should be exposed via the `exports` object:\\n\\n|!Property |!Description |\\n|adaptorClass |The JavaScript class for the adaptor |\\n\\nNothing should be exported if the adaptor detects that it isn't capable of operating successfully (eg, because it only runs on either the browser or the server, or because a dependency is missing).\\n\\n! Adaptor Module Methods\\n\\nAdaptor modules must handle the methods described below.\\n\\n!!! Error Handling\\n\\nThe syncadaptor must invoke the provided callback with the ''err'' parameter containing a string describing the error.\\n\\nThe syncer has special handling for connection errors. For backwards compatibilty reasons, the syncer identifies connection errors as the string comprised of the content of the tiddler $:/language/Error/XMLHttpRequest with the string \\\": 0\\\" appended to the end. For example, in English, the string is \\\"XMLHttpRequest error code: 0\\\" and in Brazilian Portuguese it is \\\"Código de erro XMLHttpRequest: 0\\\".\\n\\n!! `Constructor(options)`\\n\\nInitialises a new adaptor instance.\\n\\n|!Parameter |!Description |\\n|options |See below |\\n\\nOptions include:\\n\\n* ''options.wiki'': reference to wiki to use with this syncadaptor\\n\\n!! `getTiddlerInfo(tiddler)`\\n\\nGets the supplemental information that the adaptor needs to keep track of for a particular tiddler. For example, the TiddlyWeb adaptor includes a `bag` field indicating the original bag of the tiddler.\\n\\n|!Parameter |!Description |\\n|tiddler |Target tiddler |\\n\\nReturns an object storing any additional information required by the adaptor.\\n\\n!! `getTiddlerRevision(title)`\\n\\nGets the revision ID associated with the specified tiddler title.\\n\\n|!Parameter |!Description |\\n|title |Tiddler title |\\n\\nReturns a revision ID.\\n\\n!! `getStatus(callback)`\\n\\nRetrieves status information from the server. This method is optional.\\n\\n|!Parameter |!Description |\\n|callback |Callback function invoked with parameters `err,isLoggedIn,username,isReadOnly` |\\n\\n!! `login(username,password,callback)`\\n\\nAttempts to login to the server with specified credentials. This method is optional.\\n\\n|!Parameter |!Description |\\n|username |Username |\\n|password |Password |\\n|callback |Callback function invoked with parameter `err` |\\n\\n!! `displayLoginPrompt(syncer)`\\n\\nInvoked by the syncer to display a custom login prompt. This method is optional.\\n\\n|!Parameter |!Description |\\n|syncer |Reference to the syncer object making the call |\\n\\nThe custom login prompt should send the widget message `tm-login` with the username and password in parameters ''username'' and ''password''.\\n\\n!! `logout(callback)`\\n\\nAttempts to logout of the server. This method is optional.\\n\\n|!Parameter |!Description |\\n|callback |Callback function invoked with parameter `err` |\\n\\n!! `getUpdatedTiddlers(syncer,callback)`\\n\\nRetrieves the titles of tiddlers that need to be updated from the server.\\n\\nThis method is optional. If an adaptor doesn't implement it then synchronisation will be unidirectional from the TiddlyWiki store to the adaptor, but not the other way.\\n\\nThe syncer will use the `getUpdatedTiddlers()` method in preference to the `getSkinnyTiddlers()` method.\\n\\n|!Parameter |!Description |\\n|syncer |Reference to the syncer object making the call |\\n|callback |Callback function invoked with parameter `err,data` -- see below |\\n\\nThe data provided by the callback is as follows:\\n\\n```\\n{\\nmodifications: [<array of title>],\\ndeletions: [<array of title>],\\n}\\n```\\n\\n!! `getSkinnyTiddlers(callback)`\\n\\nRetrieves a list of skinny tiddlers from the server.\\n\\nThis method is optional. If an adaptor doesn't implement it then synchronisation will be unidirectional from the TiddlyWiki store to the adaptor, but not the other way.\\n\\nThe syncer will use the `getUpdatedTiddlers()` method in preference to the `getSkinnyTiddlers()` method.\\n\\n|!Parameter |!Description |\\n|callback |Callback function invoked with parameter `err,tiddlers`, where `tiddlers` is an array of tiddler field objects |\\n\\n!! `saveTiddler(tiddler,callback)`\\n\\nSaves a tiddler to the server.\\n\\n|!Parameter |!Description |\\n|tiddler |Tiddler to be saved |\\n|callback |Callback function invoked with parameter `err,adaptorInfo,revision` |\\n|tiddlerInfo |The tiddlerInfo maintained by the syncer for this tiddler |\\n\\n!! `loadTiddler(title,callback)`\\n\\nLoads a tiddler from the server.\\n\\n|!Parameter |!Description |\\n|title |Title of tiddler to be retrieved |\\n|callback |Callback function invoked with parameter `err,tiddlerFields` |\\n\\n!! `deleteTiddler(title,callback,options)`\\n\\nDelete a tiddler from the server.\\n\\n|!Parameter |!Description |\\n|title |Title of tiddler to be deleted |\\n|callback |Callback function invoked with parameter `err` |\\n|options |See below |\\n\\nThe options parameter contains the following properties:\\n\\n|!Property |!Description |\\n|tiddlerInfo |The tiddlerInfo maintained by the syncer for this tiddler |\\n\"},\"Syncadaptor\":{\"title\":\"Syncadaptor\",\"chapter.of\":\"Extended Persistence\",\"sub.num\":\"3\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"A module with ``module-type: syncadaptor`` provides functionality to get a list of tiddlers (this list is provided as ~SkinnyTiddlers, which are normal tiddlers without the text field) and to load, save and delete single tiddlers. A syncadaptor can also provide functions to login and logout so that syncadaptor modules can be used to synchronise tiddlers with a remote server.\\n\\nThe syncer module only uses one syncadaptor and honours a special [[system tiddler|System Tiddlers]] [[$:/config/SyncFilter]] containing a [[filter string|Tags and Filter Mechanism]]. Tiddlers matching this filter string are saved to the server with a syncadapter. It uses the [[WebServer API|https://tiddlywiki.com/#WebServer%20API%3A%20Get%20All%20Tiddlers]] to load modified tiddlers from the server, which returns only non-system tiddlers.\\n\"},\"System Tiddlers\":{\"title\":\"System Tiddlers\",\"chapter.of\":\"Extending the Store\",\"sub.num\":\"3\",\"tags\":\"doc new\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The core plug-in introduces a segregation of tiddlers.\\nThe tiddler model is central in the whole TiddlyWiki application and can be used in various roles.\\nBecause of the fact that a TiddlyWiki user works with tiddlers (taking the role of a wiki page) and tiddlers are the building blocks of the whole application (including modules, UI elements, etc.) we need to identify the internal tiddlers.\\n\\nThe core plug-in introduces the concept of system tiddlers. It builds on the convention that application internal tiddler names start with ``$:/``.\\nThen the core plug-in introduces a set of new functions to the wiki store which are used to retrieve tiddlers like ``getTiddlers(options)`` and ``forEachTiddler(callback, options)``.\\nThese functions work with all tiddlers in the store but the options parameter provides the ability to sort tiddlers by a field-name and exclude tiddlers with a specific tag.\\nBy default it doesn't return system tiddlers. To get a list of all tiddlers including system tiddlers, this must be requested explicitly via the options.\\nIf a function wants to present a list of tiddlers to the user it can use this new functions so that internal application tiddlers wouldn't clutter the resulting list.\\nThese functions are added via the [[wikimethod module type]].\"},\"Table of Contents\":{\"title\":\"Table of Contents\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define toc-heading(caption,body)\\n<$reveal type=\\\"nomatch\\\" state=<<qualify \\\"$:/state/toc/$caption$\\\">> text=\\\"show\\\">\\n<$button set=<<qualify \\\"$:/state/toc/$caption$\\\">> setTo=\\\"show\\\" class=\\\"tc-btn-invisible\\\">{{$:/core/images/right-arrow}} $caption$\\n</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" state=<<qualify \\\"$:/state/toc/$caption$\\\">> text=\\\"show\\\">\\n<$button set=<<qualify \\\"$:/state/toc/$caption$\\\">> setTo=\\\"hide\\\" class=\\\"tc-btn-invisible\\\">{{$:/core/images/down-arrow}} $caption$\\n</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" state=<<qualify \\\"$:/state/toc/$caption$\\\">> text=\\\"show\\\" retain=\\\"yes\\\" animate=\\\"yes\\\">\\n\\n$body$\\n\\n</$reveal>\\n\\\\end\\n<div class=\\\"tc-table-of-contents\\\">\\n\\n# [[Introduction]]\\n\\n# [[Decomposition of the TiddlyWiki-Architecture]]\\n## <<toc-heading \\\"Architecture of the single page application ~TiddlyWiki\\\" \\\"\\n##[[Architecture of the single page application TiddlyWiki]]\\n### [[Boot Kernel|Boot Kernel]]\\n###[[Data Persistence|Data Persistence]]\\n###[[UI - WikiText and Widgets|UI - WikiText and Widgets]]\\n###[[Modularization|Modularization]]\\n\\\">>\\n## <<toc-heading \\\"Tiddler as the key element\\\" \\\"\\n##[[Tiddler as the key element]]\\n\\\">>\\n## <<toc-heading \\\"The ~WikiText concept\\\" \\\"\\n##[[The WikiText concept]]\\n\\\">>\\n# [[Bootstrap-Process]]\\n## <<toc-heading \\\"The Heart of ~TiddlyWiki (~Boot-Kernel)\\\" \\\"\\n##[[The Heart of TiddlyWiki (Boot-Kernel)]]\\n\\\">>\\n## <<toc-heading \\\"Timeline of the startup Process\\\" \\\"\\n##[[Timeline of the startup Process]]\\n\\\">>\\n# [[The Plugin and Module concept]]\\n## <<toc-heading \\\"Introduction to the Module- and ~Plugin-Concept\\\" \\\"\\n##[[Introduction to the Module- and Plugin-Concept]]\\n\\\">>\\n## <<toc-heading \\\"Using Modules to build a Single File Application\\\" \\\"\\n##[[Using Modules to build a Single File Application]]\\n###[[Startup Modules]]\\n###[[Deserializer Modules]]\\n###[[Saver Modules]]\\n###[[Syncadaptor Modules]]\\n\\\">>\\n## <<toc-heading \\\"Using Modules to extend the UI\\\" \\\"\\n##[[Using Modules to extend the UI]]\\n\\\">>\\n#[[Developing a own Plugin]]\\n#[[The TiddlyWiki data management concept]]\\n## <<toc-heading \\\"Data Management during Runtime\\\" \\\"\\n##[[Data Management during Runtime]]\\n\\\">>\\n## <<toc-heading \\\"Data Persistence\\\" \\\"\\n##[[Persist data|Persist data]]\\n##[[Data-Storage|Data-Storage]]\\n\\\">>\\n#[[Conclusion]]\\n</div>\\n\"},\"Tags and Filter Mechanism\":{\"title\":\"Tags and Filter Mechanism\",\"chapter.of\":\"Extending the Store\",\"sub.num\":\"4\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!!! Tags\\nThe core plug-in extends the store by a simple mechanism to tag a tiddler.\\nThis provides the functionality to\\n\\n* retrieve tiddlers with a specific tag\\n* retreive a hashmap of ``{ tag: [tiddler1, tiddler3, tiddler3] }``\\n* list or iterate tiddlers not tagged with a specific tag\\n\\nThe tags are stored directly in the tiddler. Each tiddler can have a field named \\\"tag\\\", which contains an array of its tags.\\nThe above functions use this field to calculate their results and cache them in a global cache.\\n\\nOrganising information with tags is easy, intuitive and is common throughout the web.\\nIn most cases the functions mentioned above are not enough and a more sophisticated way of querying is needed.\\nBut instead of focusing only on tags TiddlyWiki introduces a querying system that isn't bound to tags or single tiddlers.\\n\\n!!! Filter mechanism\\nThis filter mechanism is build on the idea of a pipeline of single filter operators.\\nFilters are noted as strings and can look like\\n\\n```\\n[tag[task]!tag[done]interesting[very]]\\n```\\n\\nThis example would (implicitly) put all available tiddlers into the pipe.\\nThe first operator ``tag[task]`` would only pass tiddlers which are tagged with \\\"task\\\".\\nThe ``!tag[done]`` operator is negated and only passes tiddlers which are not tagged with \\\"done\\\".\\nThe last filter operator passes only tiddlers with a field \\\"interesting\\\" set to \\\"very\\\".\\nSo as a result this filter would be used to obtain all tiddlers which are marked as task, aren't already done and are very interesting.\\n\\nThere are many filter operators already build into the core plug-in including the mentioned tag- and field operators, filter operators to sort the tiddlerlist by a specified field, etc.\\nBut more sophisticated operators are possible, too.\\nAn example would be the search-operator. This filter operator looks for the searched string in the text and in the tags of the tiddlers.\\nIf the provided filter operators are not enough, a developer can add new filters by adding a module with the ``filteroperator`` type.\\n\\n!!! System Tags\\n\\nTags and the filter mechanism are used throughout the core plug-in for internal puproses.\\nTags which start with ``$:/`` are normally hidden from the casual user, similar to [[System Tiddlers]]\\n\\nThe filter mechanism is added to the wiki store with the [[wikimethod module type]].\\n\"},\"TestingMechanism\":{\"title\":\"TestingMechanism\",\"tags\":\"Mechanisms\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TiddlyWiki5 incorporates the Jasmine JavaScript testing framework (see http://pivotal.github.io/jasmine/). It allows the same tests to be run both in the browser and under Node.js.\\n\\n! TiddlyWiki5 Testing Components\\n\\nThere are two main elements to the TiddlyWiki5 testing mechanism:\\n\\n* The plugin `tiddlywiki/jasmine` that wraps Jasmine up into a plugin along with some glue code\\n* The TiddlyWiki5 edition `test` that contains the core test specifications and includes the Jasmine plugin\\n\\n! Running the Tests in Node.js\\n\\nTo run the tests under Node.js just load up the `test` wiki:\\n\\n```\\nnode ./tiddlywiki.js \\\\\\n\\t./editions/test \\\\\\n```\\n\\n! Running the Tests in the Browser\\n\\nTo generate a wiki containing the browser tests load up the `test` wiki and save it as an HTML file:\\n\\n```\\nnode ./tiddlywiki.js \\\\\\n\\t./editions/test \\\\\\n\\t--verbose \\\\\\n\\t--rendertiddler $:/core/save/all test.html text/plain \\\\\\n```\\n\\nThe `test.html` file will be placed in the `output` folder within the wiki folder. Open it in the browser to see the test results. There is a prebuilt version of `test.html` at:\\n\\nhttps://tiddlywiki.com/test.html\\n\"},\"The Heart of TiddlyWiki (Boot-Kernel)\":{\"title\":\"The Heart of TiddlyWiki (Boot-Kernel)\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The boot-kernel is responsible for creating a bare-bones TW environment. It is running under Node.js or in a HTML5 Browser. The Bootkernel just loads enough functionality to load the modules containing the main logic of the application. This boot-kernel contains a few helper methods, the module mechanism as well as the function to create a tiddler and manage them. The boot-kernel also creates the bare-bones wiki store, which holds all the information of the wiki during the runtime. After creating the store, the boot-kernel is in charge of decrypting the encrypted tiddlers and extracting all the tiddlers e.g. the core module tiddlers embedded in the DOM structure of the HTML file. Furthermore the boot kernel offers the functionality to load tiddlers from a file, when you run TW with Node.js. All other functionality which is not a part of the boot kernel is added dynamically by modules and plugins. The boot kernel is able to load the core plugins and perform the startup plugins. The core contains the startup modules shown in the picture below.\\n\\n{{index.svg}}\"},\"The Plugin and Module concept\":{\"title\":\"The Plugin and Module concept\",\"tags\":\"doc unused\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Beside the boot kernel, TW is completely build from modules.\\nAfter a short introduction on modules and plug-ins in the context of TW and explaining how they are organized and managed,\\nthe following sections will show what type of modules a developer can build and how they hook into the TW architecture.\\nThe last section shows the procedure of building an plug-in.\\nThis can be used as a tutorial for building your own plug-ins and will show how an advanced user can create solutions for his own use cases only by using the tiddler model and the WikiText markup language.\"},\"The TiddlyWiki data management concept\":{\"title\":\"The TiddlyWiki data management concept\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This section descripes how the data of the wiki is stored within Tiddlywiki during the runtime. And how the complete wiki is persisted.\"},\"The User Interface\":{\"title\":\"The User Interface\",\"chapter.of\":\"TiddlyWiki - A quick Overview\",\"sub.num\":\"4\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Following the \\\"anything is a tiddler\\\" concept, even the UI consists of tiddlers.\\nThis is possible because tiddlers can not only contain plain text or JavaScript (modules) but they also can contain a special markup text called WikiText.\\nBy using WikiText the user can put markup elements like tables or images in a tiddler.\\nTo provide some more sophisticated UI elements, WikiText can also contain special widgets like text input fields,\\ncheckboxes, dynamic lists etc.\\nIn most cases, these widgets are used to directly modify or represent the information contained in other tiddlers.\\nIf a tiddler is changed and this change should reflect in an UI element e.g. a widget, a process called selective update takes place. Selective updating means when a tiddler or a set of tiddlers changes, each widget is asked, if changes to this tiddlers would affect its appearance. If so, the respective widget is re-rendered otherwise it remains unchanged.\"},\"Tiddler as Basic Element\":{\"title\":\"Tiddler as Basic Element\",\"chapter.of\":\"TiddlyWiki - A quick Overview\",\"sub.num\":\"6\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"By managing nearly every part of the application as tiddlers, the application is only needed to provide some basic functionality to manage the individual tiddlers, load and persist them, render them to HTML output and provide a way to register for the changes made to tiddlers.\\nThis way the whole wiki application can be build from these simple concepts.\\nPlug-ins can be used to add new functionality to the existing modules or even to replace individual tiddlers/modules,\\nenabling developers to build whole new applications on the TiddlyWiki base system.\\n\\nA tiddler is the smallest unit of the TiddlyWiki system. It can contain any data like plain text, WikiText markup, JavaScript code (module tiddler), JSON structures (JSON structures might even contain additional tiddlers. Plug-ins are implemented this way to pack multiple tiddlers in a single plug-in tiddler), images in SVG format or even binary images encoded with base64.\\nInternally Tiddlers are immutable objects containing a bunch of key:value pairs called fields. The only required field of a tiddler is the title field. The Standard fields of a tiddler are listed below. Nearly everything in TiddlyWiki is loaded as tiddlers. Plug-ins for example are a bunch of tiddlers that are distributed as a single JSON tiddler. The only exception is the microkernel which isn't a tiddler.\\n\\n<dl>\\n<dt>created</dt> <dd>Timestamp number of milliseconds since 01.01.1970.</dd>\\n<dt>modified</dt> <dd>Timestamp number of milliseconds since 01.01.1970.</dd>\\n<dt>tags</dt> <dd>list of tags seperated by whitespace. Tags which contain whitespaces are wrapped by [[ ]], e.g. [[example Tag]].</dd>\\n<dt>type</dt> <dd>Type of the Tiddler, e.g. text/plain or text/vnd.tiddlywiki .</dd>\\n<dt>title</dt> <dd>Title of the Tiddler</dd>\\n<dt>list</dt> <dd>An ordered list of tiddler titles associated with a tiddler</dd>\\n</dl>\\n\\nTiddlers are used in multiple roles and on different levels. A developer uses tiddlers as the basic element containing application code, configuration values and even as a form of variable to save the current UI state.\\nOn a different level, a tiddler is also the basic unit of work for the wiki user, e.g. the individual wiki pages are implemented as tiddlers.\\nThis makes sense for multiple reasons:\\nBecause the UI of TiddlyWiki is build from tiddlers, the wiki user is able to edit the interface of his own TiddlyWiki just by editing a wiki page.\\nFor example to add a list of tiddler links to the sidebar, the user just needs to create a new tiddler, put the links into this tiddler and tag this tiddler with ``$:/tags/SideBar``.\\nThis way the user can customise his work environment just by using mechanisms he already uses to manage his wiki pages.\\nTiddlers consist of fields. When using a tiddler as wiki page, the user can use these fields to store meta information, like tags.\\n\\nBecause fields for metadata and especially tags are an easy way for the user to organise his wiki pages, TiddlyWiki provides a special filter mechanism to choose tiddlers using their metadata.\\nA filter string like ``[tag[learncard]topic[math]!tag[successful]]`` would filter all tiddlers tagged with \\\"learncard\\\", with the value \\\"math\\\" in the topic-field and are not tagged with \\\"successful\\\".\\nA user could use this filter together with the ``<$list>`` widget to display a list of all math learncards which are not yet answered successfully in a wiki page.\\n\\nAnother example which shows how the \\\"anything is a tiddler\\\" concept leads to an environment where a single feature brings great benefit is the drag and drop feature.\\nHTML5 standard comes with a native drag and drop feature. TiddlyWiki uses this feature and makes it possible to drag and drop a tiddler from one instance to another.\\nAnd because anything is a tiddler, this brings the ability to drag and drop individual wiki pages, JavaScript modules, UI components and whole plug-ins between TiddlyWiki instances.\"},\"TiddlyWiki - A quick Overview\":{\"title\":\"TiddlyWiki - A quick Overview\",\"description\":\"This section describes the idea of the TiddlyWiki application. This should give the reader a overview over what TiddlyWiki consists of give a brief introduction to the topics of the main documentation.\",\"sectionnumber\":\"1\",\"tags\":\"doc section\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Traditional web applications are bound to ~HTTP-Concepts, including stateless requests to transfer data. In these applications a state is often emulated by the use of sessions, which need to be handled on the client and especially on the server side.\\nThese restrictions often lead to a fragmented user experience because the user interface is rebuilt on every data transfer.\\nTiddlyWiki tries to overcome these restrictions and the resulting disadvantages by building on few but basic concepts which loosen the coupling of HTTP and the actual application, eliminating the need of state emulation and resulting in a wiki style single page application with the ability to run in an offline environment.\\n\\n<$list filter=\\\"[!has[draft.of]has[chapter.of]chapter.of[TiddlyWiki - A quick Overview]tag[doc]sort[sub.num]]\\\">\\n\\n\\n! <$view field=\\\"title\\\"/>\\n{{!!text}}\\n</$list>\"},\"TiddlyWiki Architecture\":{\"title\":\"TiddlyWiki Architecture\",\"tags\":\"dev\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The heart of TiddlyWiki is an extensible representation transformation engine for text and images. Given the text of a tiddler and its associated [[ContentType|https://tiddlywiki.com/#ContentType]], the engine can produce a rendering of the tiddler in a new [[ContentType|https://tiddlywiki.com/#ContentType]]. Furthermore, it can efficiently selectively update the rendering to track any changes in the tiddler or its dependents.\\n\\n! Overview\\n\\n{{TiddlyWiki Architecture.svg}}\\n\\nThe processing pipeline shows how WikiText is parsed by a stack of parse rules into a parse tree. The parse tree is rendered as a tree of widgets, which is synchronised into the DOM via the RefreshMechanism.\\n\\nDOM events trigger actions on widgets which update the tiddler store. The updates trigger a change event which in turn triggers the refresh mechanism to update the DOM.\\n\\n! Client/Server Architecture\\n\\n{{Server Architecture.svg}}\\n\\nWhen programming TiddlyWiki 5 plugins which make changes outside the scope of the included examples, you will need a more in-depth understanding of TiddlyWiki's internal architecture.\\n\\n! Model\\n\\nTiddlyWiki's data model is a fairly simple key-value store.\\n\\n* Each tiddler is simply an object with a `fields` member containing members such as `title`, `text`, `tags` and so on.\\n* The core `Wiki` class defined in `boot/boot.js` implements simple associative array behaviours like insertion, deletion, iteration, listing keys, and get-by-key.\\n* The code in `core/modules/wiki.js` then extends the `Wiki` class with functionality such as event dispatch and various cache-backed methods such as `getTiddlersWithTag`.\\n\\nThe active tiddler store can be accessed via `$tw.wiki` as in this example:\\n\\n```js\\n$tw.wiki.makeTiddlerIterator($tw.wiki.getTiddlersWithTag('timeline')\\n    )(function(tiddler, title) {\\n        // Skip templates\\n        if (tiddler.fields.tags.indexOf('templates') >= 0) { return; }\\n\\n        do_something(tiddler);\\n});\\n```\\n\\nData which should not be visible to end users under normal operation (eg. internal components, plugins, persisted state for GUI widgets) is stored in [[system tiddlers|https://tiddlywiki.com/#SystemTiddlers]] organised via a set of [[namespaces|https://tiddlywiki.com/#Naming%20of%20System%20Tiddlers]].\\n\\nThe similarity between filesystem paths and system tiddler names is intentional and will be used to provide a hierarchical browsing interface in a future TiddlyWiki release.\\n\\n! View\\n\\nTiddlyWiki's view layer has a //lot// in common with desktop widget toolkits and this is the part which is most likely to trip up newcomers. There are two facets to it:\\n\\n!! Role of the DOM\\nBecause TiddlyWiki may re-render content, plugins should treat the DOM as write-only.\\n\\nIn other words, any state you store in the DOM could vanish at any instant and you need to use TiddlyWiki's internal [[StateMechanism|https://tiddlywiki.com/#StateMechanism]] instead.\\n\\nIn a desktop application, the base widget class defines a method such as `paint(canvas)` which is called in response to `expose` events or \\\"data has changed\\\" messages.\\n\\nIn TiddlyWiki, the `Widget` class in `core/modules/widgets/widgets.js` defines a `render(parent, nextSibling)` method which TiddlyWiki calls in response to various events such as changes in the model.\\n\\n(The potential inefficiency of this approach is mitigated via a `refresh(changedTiddlers)` method which TiddlyWiki calls to ask your widget whether its current rendering is stale.)\\n\\n!! Locus of Control\\n\\nWhile TiddlyWiki's extended [[WikiText]] is similar in design to HTML templating languages with logic constructs, you can't just ignore it and assemble all of your content in raw Javascript because it is used to define most of TiddlyWiki's UI.\\n\\nIn this respect, it's closer to a glue language like Qt Quick or Python with Javascript filling the \\\"create new components\\\" role of C/C++ in widget toolkits like Qt and GTK+.\\n\\nTo familiarise yourself with this, read [[Widgets in WikiText|https://tiddlywiki.com/#Widgets%20in%20WikiText]] and [[Introduction to Filters|https://tiddlywiki.com/#Introduction%20to%20Filters]]. then examine the internals for a tiddler like [[TaskManagementExample|https://tiddlywiki.com/#TaskManagementExample]].\\n\"},\"TiddlyWiki Coding Style Guidelines\":{\"title\":\"TiddlyWiki Coding Style Guidelines\",\"tags\":\"dev\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! Motivation\\n\\nTiddlyWiki is a large project with many interested parties. It benefits everyone if the code is as easy to read as possible. A key part of that it must be written and laid out consistently -- the code should read as though it were written by a single author.\\n\\n! Guidelines\\n\\nThis list of guidelines isn't exhaustive but captures some of the common problems. The ultimate guide is the existing TiddlyWiki code-base. There are still some places where the coding guidelines aren't used consistently within the core; pull requests are welcome to help resolve those issues.\\n\\n!! Tabs and whitespace\\n\\nTiddlyWiki uses 4-character tabs for indenting.\\n\\nOne blank line is used to separate blocks of code. Occasional blank lines are permitted within blocks for clarity, but should be avoided unless they solve a specific readability problem.\\n\\n!! Layout of basic constructs\\n\\nSee the following example for layout of basic JavaScript constructs:\\n\\n```js\\n/*\\nMultiline comments are used to introduce a block of code such as a function definition\\n*/\\nfunction demoFunction(param,more) {\\n\\t// Proper sentence capitalisation for comments; prefer strict equality checks\\n\\tif(condition === \\\"something\\\") {\\n\\t\\t// Always use braces, even when optional; no space between \\\"if\\\" and the brackets; always spaces around binary operators\\n\\t\\tsomething = somethingElse;\\n\\t\\tmyOtherFunction(one,two); // No whitespace within function parameters\\n\\t\\tdo {\\n\\t\\t\\tmyCondition.explore(); // Always use semicolons\\n\\t\\t} while(myCondition < worsens);\\n\\t}\\t\\n}\\n\\n```\\n\\n!! Strings\\n\\nDouble quotes are preferred over single quotes for string literals.\\n\"},\"TiddlyWiki Core Application\":{\"title\":\"TiddlyWiki Core Application\",\"description\":\"After the microkernel has been explained this section focuses on the core plug-in. It describes the central modules of the core and explains how they work together to build a single file application.\",\"sectionnumber\":\"3\",\"tags\":\"doc new section\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The microkernel builds up the base functionality to manage tiddlers by providing a basic wiki store and a barebone tiddler model.\\nThe microkernel can also load a set of (decrypted) tiddlers and provides a module system, enabling a developer to extend the kernel and add functionality with module tiddlers and plug-ins.\\n\\nFor instance, the TiddlyWiki Core Application is provided as a single plug-in.\\nIn this part we want to focus on the TiddlyWiki core plug-in.\\nAfter describing how new functionality is added directly to the wiki store,\\nwe show how the core plug-in realises persistence of tiddlers.\\nThe last part describes how TiddlyWiki builds an UI out of tiddlers and WikiText.\\n\\n<<<\\n{{arch.svg}}\\n<<< The TiddlyWiki Application consists of a microkernel and several modules building up the full application.\\n\\n<$list filter=\\\"[!has[draft.of]has[chapter.of]chapter.of[TiddlyWiki Core Application]tag[doc]sort[sub.num]]\\\">\\n\\n\\n! <$view field=\\\"title\\\"/>\\n{{!!text}}\\n</$list>\"},\"TiddlyWiki Drag and Drop Interoperability\":{\"title\":\"TiddlyWiki Drag and Drop Interoperability\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"It is straightforward to allow any HTML file to interoperate with TiddlyWiki's drag and drop implementation.\\n\\nThis example shows how to attach draggable data to a DOM element. The data is provided in two different forms:\\n\\n* the string data is used if the element is dragged onto a text editing area\\n* the tiddler data is used if the element is dragged into TiddlyWiki's import area\\n\\n<$button>\\n<$action-sendmessage $message=\\\"tm-download-file\\\" $param=\\\"$:/dev/save/dragndropinterop\\\" filename=\\\"index.html\\\"/>\\nDownload this sample code\\n</$button>\\n\\n<$codeblock code={{DragAndDropInterop}} language=\\\"text/html\\\"/>\\n\"},\"TiddlyWiki as Single Page Application\":{\"title\":\"TiddlyWiki as Single Page Application\",\"chapter.of\":\"TiddlyWiki - A quick Overview\",\"sub.num\":\"1\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TiddlyWiki builds on some basic concepts. First, TiddlyWiki should not be perceived as a dynamic web page like traditional server-side generated web pages. Instead TiddlyWiki can be perceived as an application which is written entirely in ~JavaScript and uses HTML5 and CSS3 to render a GUI. This way TiddlyWiki can be executed in any ~JavaScript environment like a browser or a node.js instance, while keeping the advantages of a simple application.\\nOne of these advantages is, that TiddlyWiki has no need to emulate an application state, as a traditional web application would need to do.\\n\\nA second idea concerns the storage of the application data. In contrast to a traditional web application, TiddlyWiki doesn't store the data in an external database but simply uses native data structures already existing in ~JavaScript to store tiddlers, the basic (atomic) element of the TiddlyWiki application, in the memory. Additional core modules provide a way to persist this storage in simple HTML div elements.\\n\\nJust by building on these simple and basic concepts,\\n\\n* TiddlyWiki is able to store application data in a single HTML page by using div elements as data container.\\n*TW is able to store application code (~JavaScript) in the same single HTML page.\\n*TiddlyWiki can be executed in any ~JavaScript environment like a browser.\\n\\nThese points already enable TW to be used as an offline-enabled single file web application.\\nAlso, by using a server side node.js environment running the same TiddlyWiki application, TiddlyWiki can be used as an online web application. This is realized on server-side by providing an additional module to persist tiddlers into plain text files and on client-side by a module syncing the local data store with the node.js server.\"},\"TiddlyWiki for Developers\":{\"title\":\"TiddlyWiki for Developers\",\"tags\":\"introduction dev\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TiddlyWiki is published as OpenSource which means that anyone can read the code and contribute to its development.\\n\\n! Resources\\n\\nIf you're interested in understanding more about the internal operation of TiddlyWiki, [[TiddlyWiki Architecture]] gives an overview of how TiddlyWiki is structured. Then read the code -- start with the boot kernel [[$:/boot/boot.js]].\\n\\n! The one thing you need to know\\n\\nTiddlyWiki's architecture is very different from an HTML page written using jQuery. This section concisely explains what TiddlyWiki does differently. It may not make much sense on the first reading.\\n\\nThe key to understanding how it works internally is to see that the RefreshMechanism requires that any region of the DOM can be regenerated at any time. This means that the entire state of the user interface must reside in the tiddler store, from where it is synchronised into the DOM. This is done to improve performance by minimising the DOM interactions during the refresh cycles.\\n\\nIt also determines the standard UI flow:\\n\\n# An event handler on a widget is triggered\\n# The event handler can manipulate the DOM nodes directly created by the widget, and/or modify the state of the tiddler store\\n# The core then issues a store change event which triggers the refresh cycle\\n# Each widget in the tree then gets a chance to refresh itself to reflect the changes in the store if they need to\\n\\nFrom a technical perspective, TiddlyWiki is a fairly classic MVC architecture, with strict separation of concerns. The model is the tiddler store, the view is a rendering tree (such as the one created from [[$:/core/ui/PageTemplate]] in startup.js), and the controller is the core code itself.\\n\"},\"TiddlyWiki on NW.js\":{\"title\":\"TiddlyWiki on NW.js\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[[NW.js|https://tiddlywiki.com/#NW.js]] (previously known as \\\"node-webkit\\\") allows TiddlyWiki to be set up as a native application for Windows, Mac OS X or Linux.\\n\\n! Setting up\\n\\n# Create a folder with the following contents:\\n## The appropriate copy of [[NW.js]] for your platform, downloaded from https://github.com/nwjs/nw.js\\n## Your TiddlyWiki HTML file as `index.html`\\n## A file called `package.json` with the following content:\\n##> {{package.json for NW.js}}\\n# Run the [[NW.js]] application\\n#* If it doesn't work, you may need to unblock the application before your operating system will run it\\n#** OS X: see http://support.apple.com/kb/PH14369\\n# Try saving changes in the usual way\\n\\n! Limitations\\n\\nMP3 audio and H264 video are not supported without special steps [[described on the NW.js wiki|https://github.com/nwjs/nw.js/wiki/Using-MP3-%26-MP4-%28H.264%29-using-the--video--%26--audio--tags.]].\\n\\n\"},\"TiddlyWiki\":{\"title\":\"TiddlyWiki\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"{{TiddlyWiki - A quick Overview}}\"},\"TiddlyWiki5 Development Environment\":{\"title\":\"TiddlyWiki5 Development Environment\",\"tags\":\"dev\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"//This information is for people who are working on the development of TiddlyWiki5 itself, and isn't relevant for end users//\\n\\n! Setting up npm\\n\\n[[Installing TiddlyWiki5|https://tiddlywiki.com/#Installing%20TiddlyWiki%20on%20Node.js]] with NPM downloads a snapshot release of TiddlyWiki5. To use a development copy of the TiddlyWiki5 repository instead of the copy installed by [[NPM]], use this command within the root of the TiddlyWiki5 repo:\\n\\n```bash\\nnpm link\\n```\\n\\n! Bumping version numbers\\n\\nAs releases are made during development it is necessary to adjust the version number of the TiddlyWiki5 core. This is done with the [[npm version|https://npmjs.org/doc/version.html]] command. For example:\\n\\n```bash\\nnpm version 5.0.0-alpha.10\\n```\\n\\nAs described in #10 in [[this article by npm's author|http://blog.izs.me/post/1675072029/10-cool-things-you-probably-didnt-realize-npm-could-do]], when run from within a git repo this command will also commit the change and tag it\\n\"},\"Timeline of the startup Process\":{\"title\":\"Timeline of the startup Process\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This section shows a quick and short overview over the startup process of TW, from the first step of the boot mechanism until the loading of the different startup modules. The image shown below  shall point out the main parts of this startup-process.\\n\\n{{StartupTimeline.png}}\"},\"Toc\":{\"title\":\"Toc\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"* [[Introduction]]\\n* [[TiddlyWiki - A quick Overview]]\\n** [[TiddlyWiki as Single Page Application]]\\n** [[Microkernel]]\\n** [[Data Persistence]]\\n** [[The User Interface]]\\n** [[Modularization]]\\n** [[Tiddler as Basic Element]]\\n** [[WikiText Markup]]\\n\\n* [[Microkernel Architecture]]\\n** [[Microkernel|Microkernel Description]]\\n** [[ Datamodel |Datamodel]]\\n** [[Module System]]\\n\\n* [[TiddlyWiki Core Application]]\\n** [[Startup Process]]\\n** [[Extending the Store]]\\n*** [[Event Mechanism]]\\n*** [[Caching]]\\n*** [[System Tiddlers]]\\n*** [[Tags and Filter Mechanism]]\\n** [[Extended Persistence]]\\n*** [[Deserializer]]\\n*** [[Saver]]\\n*** [[Syncadaptor]]\\n** [[UI and Rendering Pipeline]]\\n*** [[WikiText]]\\n*** [[Parser]]\\n*** [[Widgets]]\\n**** [[Messages]]\\n**** [[Selective Update]]\\n*** [[Transclusion and TextReference]]\\n*** [[RootWidget and Rendering Startup]]\\n*** [[Navigator Widget]]\\n*** [[Draft Mechanism]]\\n\\n* [[Conclusion]]\\n\"},\"Transclusion and TextReference\":{\"title\":\"Transclusion and TextReference\",\"chapter.of\":\"UI and Rendering Pipeline\",\"sub.num\":\"4\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The previous parts about [[Widgets]] and the [[Parser]] explained how a block of WikiText is transformed into a DOM representation and how this presentation can react on changes to the wiki store.\\nThe previous chapters also describe that WikiText is saved in individual tiddlers, including the WikiText describing the UI components.\\nThis raises the question, how these multiple tiddlers are build up to a single UI.\\nBut before answering this question we need to introduce text references and transclusion.\\n\\n!!! ~TextReference\\nA text reference describes a special notation to indirectly refer to the contents of a specified tiddler field.\\nThe syntax of a text reference is:\\n\\n```\\n<tiddlertitle>\\n<tiddlertitle>!!<fieldname>\\n!!<fieldname> - specifies a field of the current tiddlers\\n```\\n\\nTo obtain the actual text, the core plug-in adds a function to the wiki store ``getTextReference(textRef,defaultText,currTiddlerTitle)``. The \\\"currentTiddlerTitle\\\" is the title of a tiddler which is used when no tiddlerTitle is specified in the text reference.\\nWhat the currentTiddler should be, depends on where the text reference is used.\\nIf it is for example used as a widget attribute, the current tiddler is the tiddler which contains this widget.\\nText references are used by widgets (attributes), filteroperators (parameter) and in transclusions.\\nThese elements use the ``getTextReference(textRef,defaultText,currTiddlerTitle)`` function.\\n\\n!!! Transclusion\\n\\nTransclusion means including the contents of a different tiddler.\\nThis is realized with a transclude widget which parses the tiddler to be included and adds the resulting nodes as children of its own parse node.\\nThe trick with transclusion is, that it shows the content of a different tiddler but by default it does not change the current tiddler.\\nThis enables us to create tiddlers with text references and use them as a templates.\\n\\nFor example:\\nTiddler ``MyTask`` having the fields and the content of:\\n\\n```\\nimportant: \\\"very\\\"\\nassoc.person: \\\"Hans Dampf\\\"\\n\\n<$transclude tiddler=\\\"TaskHeaderTemplate\\\" />\\n\\nHans needs some more Dampf.\\n```\\n\\nAnd Tiddler ``TaskHeaderTemplate`` with a content of:\\n\\n```\\n<$view field=\\\"assoc.person\\\"/> has a <$view field=\\\"important\\\"/> important task for us:\\n```\\n\\nWhen showing tiddler ``MyTask`` it would result in:\\n\\n```\\nHans Dampf has a very important task for us:\\n\\nHans needs some more Dampf.\\n```\\n\\nTransclusion and templates is one of the most important concepts in TiddlyWiki.\\nIt allows us to include other tiddlers using the metadata for our current tiddler.\\nIt also allows us to transclude a template tiddler with a third tiddler set as the currentTiddler with the ~TiddlerWidget:\\n\\n```\\n<$tiddler tiddler=\\\"MyTiddler\\\">\\n<$transclude tiddler=\\\"EditTemplate\\\" />\\n</$tiddler>\\n```\\n\\nThis way we can create a different view on a tiddler which does not only show it's title and it's content\\nbut shows it's content and metadata in editable text fields and allows us to edit this tiddler.\\nAlso the template concept is used by the ~ListWidget to show the tiddlers through a specified template.\\nFinally, when wanting to download the wiki as a new html file, this html file is created by binding a list of all tiddlers to a template and sending the resulting text to the syncer module described in [[Extended Persistence]] to save the current wiki.\\n\"},\"UI and Rendering Pipeline\":{\"title\":\"UI and Rendering Pipeline\",\"chapter.of\":\"TiddlyWiki Core Application\",\"sub.num\":\"4\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The microkernel provides basic functionality to store tiddlers and manage modules and plugins.\\nThe [[Startup Process]] then loads the core plug-in including extensions to the store providing\\na [[Event Mechanism]], [[Caching]], [[Tags|Tags and Filter Mechanism]] and a [[Filter Mechanism|Tags and Filter Mechanism]] giving the ability to query for specific tiddlers.\\n\\nUsing some of this techniques the core plug-in also adds some functionalities to load and save single tiddlers or the whole wiki, described in [[Extended Persistence]].\\n\\nThis next chapter will focus on the parts of the core plug-in that provide the UI of TiddlyWiki.\\n\\n<<<\\n{{rendering.svg}}\\n<<< The rendering pipeline [https://tiddlywiki.com/talkytalky, 17.07.2014]\\n\\n<$list filter=\\\"[!has[draft.of]has[chapter.of]chapter.of[UI and Rendering Pipeline]tag[doc]sort[sub.num]]\\\">\\n\\n\\n!! <$view field=\\\"title\\\"/>\\n{{!!text}}\\n</$list>\"},\"Undefined widget demo\":{\"title\":\"Undefined widget demo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$innerwiki width=\\\"600\\\" height=\\\"400\\\" style=\\\"width:100%;\\\">\\n\\t<$data title=\\\"$:/DefaultTiddlers\\\" text=\\\"[[Undefined widget]]\\\"/>\\n\\t<$data title=\\\"Undefined widget\\\" text=\\\"\\\"\\\"\\n```\\n<$donothing/>\\n```\\n\\nRenders as:\\n\\n<$donothing/>\\n\\\"\\\"\\\"/>\\n</$innerwiki>\\n\"},\"Undefined widget tutorial\":{\"title\":\"Undefined widget tutorial\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Let's start be defining a minimal widget which does nothing. It doesn't support any attributes, no child elements, and it doesn't output anything. The name of the widget will be `donothing`. If it does nothing, then how can we verify after writing the code that we accomplished anything? Well, let's see what happens when an undefined widget is referenced.\\n\\n{{Undefined widget demo}}\\n\\nSince we haven't written the code, the attempt to render the widget gives an undefined widget error. So we will know the donothing code accomplishes something if we don't get the undefined widget error when rendering.\"},\"Using ES2016 for Writing Plugins\":{\"title\":\"Using ES2016 for Writing Plugins\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"With the advent of ES2015 (also known as ES6) and the availability of [[Babel.js|http://babeljs.io/]] plugin developers can leverage ES2015 when writing TiddlyWiki plugins. Understanding the nuances between TiddlyWiki's module sandbox and how Babel compiles it's output ready for a module system like ~CommonJS/AMD.\\n\\nPlease understand how the PluginMechanism works since this is all about writing a plugin using Babel to compile the output that will be included in the final TiddlyWiki (for example [[TiddlyWiki on Node.js]]).\\n\\n!! Installing and Configuring Babel\\n\\nYou can install Babel using\\n\\n```\\n$ npm install --global babel-cli babel-presets-es2015\\n```\\n\\nIf your developing the plugin for inclusion to the npm registry (or for convenience) you can avoid the global install and save it to the local `package.json` file with\\n\\n```\\n$ npm install --save-dev babel-cli babel-presets-es2015\\n```\\n\\nInside your plugin project edit the file `.babelrc` and enter the following:\\n\\n```json\\n{\\n  \\\"presets\\\": [\\n    \\\"es2015\\\"\\n  ]\\n}\\n```\\n\\n<<.tip \\\"I found it easier to manage my plugins as if they were ''npm'' modules complete with a `package.json` that compiles the output via `npm run build`. See [[npm-scripts documentation|https://docs.npmjs.com/misc/scripts]] for details.\\\">>\\n\\n!! Compiling the Output\\n\\nPick a folder to store the ES2015 JavaScript and a folder to output the TiddlyWiki ready JavaScript. In this example I will use `src` and `lib` respectively. With Babel installed and working I can compile all the JavaScript in the `src` folder to the `lib` folder by running this command:\\n\\n```\\n$ babel src -d lib\\n```\\n\\n<<.warning \\\"Babel will //not// copy over non-JavaScript files. It is up to the developer to include all the supporting files themselves. Babel only converts the ~JavaScript files (ending in `.js`) from the `src` folder to the `lib` folder.\\\">>\\n\\n!! Imports and Exports\\n\\nIn a plugin written pre-ES2015 one would `require` a module through TiddlyWiki like so:\\n\\n```javascript\\nvar Widget = require('$:/core/modules/widgets/widget.js').widget;\\n```\\n\\nBut in ES2015 the following would look like:\\n\\n```javascript\\nimport { widget as Widget } from '$:/core/modules/widgets/widget.js';\\n```\\n\\nConveniently when Babel compiles this it will essentially output the same JavaScript as the first pre-ES2016 code.\\n\\nAlso, in ES2016 you are required to declare your imports at the beginning and can not dynamically `require` things. This means you can not have an `import` statement in an if block or in a function. If that functionality is desired then you will have to go back to using the `require()` statement directly. But conciser that by doing so that you may be missing an oppertunity to make your code cleaner and better.\\n\\nExporting is the same thing. Instead of assigning to a property of the `exports` variable you use the `export` keyword:\\n\\n```javascript\\nexport { MyWidget as mywidget };\\n```\\n\\n<<.tip \\\"It is illegal JavaScript to export with a name that is not an identifier even though it is ok to use a non-identifier (string) as a property key. What this means is if you want a widget to have a dash in it then you have to revert to using the `exports['my-widget'] = MyWidget;` syntax.\\\">>\\n\\nIt is important to understand that in ES2016 the ''default'' export is not supported in TiddlyWiki. This is mostly because the core code expects specific properties to be attached to the `exports` variable. Bable's `export` conversion plays well with this //except// with the default export.\\n\\n!! Classes\\n\\nIn the example of a widget ES2016 plays well with class inheritance. To contrast the typical Widget definition would look something like this:\\n\\n```javascript\\nfunction MyWidget() {\\n  Widget.call(this);\\n}\\nMyWidget.prototype = new Widget();\\nMyWidget.prototype.render = function(parent, nextSibling) {…};\\n// And so on…\\n```\\n\\nWith classes this ceremony can be tightened up:\\n\\n```javascript\\nclass MyWidget extends Widget {\\n  render(parent, nextSibling) {…}\\n  // And so on…\\n}\\n```\\n\\nWith classes one //could// eliminate much of the `Widget.execute()` cruft using <<.def \\\"getters\\\">>. I found this to be more readable then the typical mass assignment to `this`. It gave me the added benefit of allowing calculations in properties that normally would have conflated the `execute()` method. For example developing a compound property like so:\\n\\n```javascript\\nclass NameWidget extends Widget {\\n  get title() { return this.getAttribute('title'); }\\n  get firstName() { return this.getAttribute('first'); }\\n  get lastName() { return this.getAttribute('last'); }\\n  get fullName() { return `${this.title}. ${this.firstName} ${this.lastName}`; }\\n}\\n```\\n\\n!!! Non Class Modules\\n\\nFor non class modules you can use the `export` keyword. Here is a simple [[Startup Module|ModuleType]]:\\n\\n```javascript\\nexport function startup() {\\n  // Do stuff here\\n}\\n```\\n\\nOr in the case of a [[Macro|https://tiddlywiki.com/dev/#JavaScript%20Macros]]:\\n\\n```javascript\\nexport const name = 'my-macro';\\nexport const params = {};\\nexport function run() {…}\\n```\\n\\n!! Polyfills\\n\\nES2015 comes with some features that are part of the JavaScript core objects. These are not supported by all browsers. To use these features in [[most browsers|BrowserCompatibility]] you will need a <<.def \\\"polyfill\\\">>. Babel has a polyfill package that you can include. See [[Adding Babel Polyfill to TiddlyWiki]] for how to accomplish this.\\n\\n!! Example\\n\\nHere is an example ES2015 plugin/widget that will show the time and update it:\\n\\n```javascript\\n\\n/*\\\\\\ntitle: $:/plugins/sukima/clock-widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nA updating time stamp\\n\\n\\\\*/\\nimport { widget as Widget } from '$:/core/modules/widgets/widget.js';\\n\\nclass ClockWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n    this.logger = new $tw.utils.Logger('clock-widget');\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) { return; }\\n    this.logger.log('Rendering clock DOM nodes');\\n    this.computeAttributes()\\n    this.parentDomNode = parent;\\n    this.domNode = $tw.utils.domMaker('div', {\\n      document: this.document,\\n      class: 'tc-clock-widget'\\n    });\\n    parent.insertBefore(this.domNode, nextSibling);\\n    this.tick();\\n  }\\n\\n  tick() {\\n    this.logger.log('Tick!');\\n    if (!document.contains(this.domNode)) {\\n      // Apparently the widget was removed from the DOM. Do some clean up.\\n      return this.stop();\\n    }\\n    this.start();\\n    this.domNode.innerHTML = this.dateString;\\n  }\\n\\n  start() {\\n    if (!this.clockTicker) {\\n      this.logger.log('Starting clock');\\n      this.clockTicker = setInterval(this.tick.bind(this), 1000);\\n    }\\n  }\\n\\n  stop() {\\n    this.logger.log('Stopping clock');\\n    clearInterval(this.clockTicker);\\n    this.clockTicker = null;\\n  }\\n\\n  get dateString() {\\n    const format = 'DDth MMM YYYY at hh12:0mm:0ss am';\\n    return $tw.utils.formatDateString(new Date(), format);\\n  }\\n}\\n\\nexport { ClockWidget as clock };\\n```\\n\\n<<.tip \\\"Adding an extra space at the top causes Babel's output the preamble tiddler comment without any obscene indenting. Although it doesn't affect TiddlyWiki any, when reading the output it can be confusing when the tiddler information is rendered off the screen to the right.\\\">>\\n\"},\"Using Modules to build a Single File Application\":{\"title\":\"Using Modules to build a Single File Application\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TW is built up from the micro kernel and uses the module mechanism to provide various ways of loading and saving tiddlers, including the ability to load and save to a single HTML file.\\nFurthermore a developer can extend the application by providing modules with a specific module-type. TW searches for modules with these specific module-types and handles them accordingly.\\n\\nThe last sequence of the boot kernel is to execute startup modules. One of these startup modules (\\\"load-modules\\\") is responsible for registering some modules with specific module types at the right place. For example, the methods exported by wikimethod modules are put in \\\\textit{\\\\$tw.Wiki.prototype}. Other startup modules build up the initial UI and link events to certain modules.\"},\"Using Notifications\":{\"title\":\"Using Notifications\",\"tags\":\"dev\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!! Overview\\n\\nThe notifier module is part of TiddlyWiki's suite of built-in utilities. It displays the text of a tiddler as a notification that briefly appears at the top right top of the screen. They are automatically dismissed after a few seconds.\\n\\n\\nNotifications are an easy and visual way to notify the user of key information that is transient -- in other words, it shouldn't matter whether the user misses the notification (modals or alerts that require manual dismissal should be used in these cases). \\n\\nAn example is the `Saved wiki` notification seen each time the \\\"save\\\" button is clicked in the single file configuration of TiddlyWiki.\\n\\nThe notification module makes it easy to display such notifcations, including all the heavy lifting of the notification creation, appending it to the DOM, animating it and finally removing it from the DOM.\\n\\n!! Parameters\\n\\nThe notifier module only has one method (`display(title,options)`) that accepts two parameters:\\n\\n* title: The title of an existing tiddler\\n** If the tiddler does not exist, then no notification will take place\\n** The content of this tiddler will be transcluded into the notification body\\n* Options: An object containing a `variables` property that will be applied in the tiddler transclusion\\n\\n!! Usage\\n\\nA notifier instance is availably directly on the global `$tw` object:\\n\\n```js\\n$tw.notifier.display(\\\"$:/language/Notifications/Save/Starting\\\");\\n```\\n\"},\"Widget attributes demo I\":{\"title\":\"Widget attributes demo I\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- The innerwiki doesn't refresh on its own when tiddlers on the outside change, so use the list widget to force a dependency -->\\n<$list name=refresh filter=[[hello-attribute.js]get[text]]>\\n<$innerwiki width=\\\"600\\\" height=\\\"400\\\" style=\\\"width:100%;\\\">\\n\\t<$data title=\\\"$:/DefaultTiddlers\\\" text=\\\"[[hello world widget]]\\\"/>\\n\\t<$data $tiddler=hello-attribute.js/>\\n\\t<$data title=\\\"hello world widget\\\" text=\\\"\\\"\\\"\\n```\\n<$hello/>\\n```\\n\\nRenders as:\\n\\n<$hello/>\\n\\n---\\n\\n```\\n<$hello message=\\\"pale blue dot\\\"/>\\n```\\n\\nRenders as:\\n\\n<$hello message=\\\"pale blue dot\\\"/>\\n\\n---\\n\\n<$edit-text focus=yes tiddler=test tag=input/>\\n\\n```\\n<$hello message={{test!!text}}/>\\n```\\n\\nRenders as:\\n\\n<$hello message={{test!!text}}/>\\n\\n\\\"\\\"\\\"/>\\n\\n\\t<$data title=\\\"test\\\" text=\\\"Alice\\\"/>\\n\\n</$innerwiki>\\n</$list>\\n\"},\"Widget attributes demo II\":{\"title\":\"Widget attributes demo II\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- The innerwiki doesn't refresh on its own when tiddlers on the outside change, so use the list widget to force a dependency -->\\n<$list name=refresh filter=[[hello-attribute-optimized.js]get[text]]>\\n<$innerwiki width=\\\"600\\\" height=\\\"400\\\" style=\\\"width:100%;\\\">\\n\\t<$data title=\\\"$:/DefaultTiddlers\\\" text=\\\"[[hello world widget]]\\\"/>\\n\\t<$data $tiddler=hello-attribute-optimized.js/>\\n\\t<$data title=\\\"hello world widget\\\" text=\\\"\\\"\\\"\\n```\\n<$hello/>\\n```\\n\\nRenders as:\\n\\n<$hello/>\\n\\n---\\n\\n```\\n<$hello message=\\\"pale blue dot\\\"/>\\n```\\n\\nRenders as:\\n\\n<$hello message=\\\"pale blue dot\\\"/>\\n\\n---\\n\\n<$edit-text focus=yes tiddler=test tag=input/>\\n\\n```\\n<$hello message={{test!!text}}/>\\n```\\n\\nRenders as:\\n\\n<$hello message={{test!!text}}/>\\n\\n\\\"\\\"\\\"/>\\n\\n\\t<$data title=\\\"test\\\" text=\\\"Alice\\\"/>\\n\\n</$innerwiki>\\n</$list>\\n\"},\"Widget attributes tutorial part I\":{\"title\":\"Widget attributes tutorial part I\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"So far none of the widgets we've implemented have had any code for handling widget attributes A vast majority of useful widgets will need to support attributes in order to make them useful.\\n\\nAs an example, let's change the Hello World widget so it can greet not just the world, but whoever/whatever the user wants. To do that we can add support for an attribute named `what` and call it like `<$hello what=\\\"pale blue dot\\\"/>`.\\n\\nThe tiddlywiki widget class provides methods `computeAttributes` and `getAttribute` which can together be used by the widget code to discover what values are passed into the widget.\\n\\nThe `computeAttributes` and `getAttribute` methods can be called like this (the second parameter to `getAttribute` will be used as the default value if the user doesn't provide that attribute in the widget call):\\n\\n```javascript\\nthis.computeAttributes();\\nvar message = this.getAttribute(\\\"message\\\", \\\"World\\\");\\n```\\n\\nThen the `message` variable can be used to construct the Hello XXX string:\\n\\n```javascript\\nvar textNode = this.document.createTextNode(\\\"Hello, \\\" + message + \\\"!\\\");\\n```\\n\\nThe original [[hello.js]] code only implements a `render` method. The `refresh` method is not needed because the output from the widget can never be different...it will always be \\\"Hello, World!\\\".\\n\\nEven with a `message` attribute, you might think the `render` by itself is enough. After all, the value of the input parameter `message` can only be changed by modifying the wiki text which means the tiddler will be redisplayed from scratch.\\n\\nHowever, tiddlywiki has a syntax which allows parameter values to vary without modifying the wiki text. See https://tiddlywiki.com/#Widgets%20in%20WikiText for details. As one example, if the widget were called like `<$hello message={{MyTiddler!!field}}/>`, then every time the `field` field of `MyTiddler` were modified, only the `refresh` method would be called. Therefore, in order to get the widget display to update, the refresh method needs to be implemented.\\n\\nIf the `computeAttributes` and `getAttribute` calls are placed in the `render` method then we can implement a performance unoptimized version of refresh as was done in [[Widget refresh tutorial part II]]:\\n\\n```javascript\\n/*\\nA widget with optimized performance will selectively refresh, but here we refresh always\\n*/\\nMyWidget.prototype.refresh = function(changedTiddlers) {\\n\\t// Regenerate and rerender the widget and\\n\\t// replace the existing DOM node\\n\\tthis.refreshSelf();\\n\\treturn true;\\n};\\n```\\n\\nThe full code can be seen at [[hello-attribute.js]] and here is the result ([[Widget attributes demo I]]):\\n\\n{{Widget attributes demo I}}\\n\\nThe third example above is the only one which requires the refresh method in order to behave properly.\\n\"},\"Widget attributes tutorial part II\":{\"title\":\"Widget attributes tutorial part II\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This example will build on the previous one. The only modification will be to add a check to the `refresh` method. The `refreshSelf` will only be called if a change to the attributes is detected.\\n\\nThe `computeAttributes` method returns a Javascript object containing properties for each attribute which has changed. So a check like `if (changedAttributes.attr1 || changedAttributes.attr2 || changedAttributes.attr3)` etc. can be used to detect the change.  See the refresh method in [[$:/core/modules/widgets/view.js]] for an example showing the check for multiple attributes.\\n\\nFor this example, `message` is the only attribute implemented.\\n\\n```javascript\\n/*\\nRefresh if the attribute value changed since render\\n*/\\nMyWidget.prototype.refresh = function(changedTiddlers) {\\n\\t// Find which attributes have changed\\n\\tvar changedAttributes = this.computeAttributes();\\n\\tif (changedAttributes.message) {\\n\\t\\tthis.refreshSelf();\\n\\t\\treturn true;\\n\\t} else {\\n\\t\\treturn false;\\n\\t}\\n};\\n```\\n\\nThe full code can be seen at [[hello-attribute-optimized.js]] and here is the result ([[Widget attributes demo II]]):\\n\\n{{Widget attributes demo II}}\\n\\nThe visible behavior here should be identical to the unoptimized behavior of the previous tutorial.\\n\"},\"Widget refresh demo I\":{\"title\":\"Widget refresh demo I\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- The innerwiki doesn't refresh on its own when tiddlers on the outside change, so use the list widget to force a dependency -->\\n<$list name=refresh filter=[[tiddlerfield-norefresh.js]get[text]]>\\n<$innerwiki width=\\\"600\\\" height=\\\"400\\\" style=\\\"width:100%;\\\">\\n\\t<$data title=\\\"$:/DefaultTiddlers\\\" text=\\\"[[tiddler field widget]]\\\"/>\\n\\t<$data title=\\\"test\\\" text=\\\"type new text here\\\"/>\\n\\t<$data $tiddler=tiddlerfield-norefresh.js/>\\n\\t<$data title=\\\"tiddler field widget\\\" text=\\\"\\\"\\\"\\n<$edit-text focus=yes tiddler=test tag=input/>\\n<$button set=\\\"!!refresh\\\" setTo={{test}}>Force refresh</$button>\\n<$list filter=\\\"[{!!refresh}]\\\">\\n\\n<div>\\n<div style=\\\"display:inline-block;width: 49%;vertical-align: text-top;word-wrap: break-word;}\\\">\\n\\n```\\n<$tiddlerfield/>\\n```\\n\\nRenders as:\\n\\n<$tiddlerfield/>\\n</div>\\n<div style=\\\"display:inline-block;width: 49%;vertical-align: text-top;word-wrap: break-word;}\\\">\\n\\n```\\n<$view tiddler=\\\"test\\\"/>\\n```\\n\\nRenders as:\\n\\n<$view tiddler=\\\"test\\\"/>\\n</div>\\n</div>\\n</$list>\\n\\\"\\\"\\\"/>\\n\\n</$innerwiki>\\n</$list>\\n\"},\"Widget refresh demo II\":{\"title\":\"Widget refresh demo II\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- The innerwiki doesn't refresh on its own when tiddlers on the outside change, so use the list widget to force a dependency -->\\n<$list name=refresh filter=[[tiddlerfield.js]get[text]]>\\n<$innerwiki width=\\\"600\\\" height=\\\"400\\\" style=\\\"width:100%;\\\">\\n\\t<$data title=\\\"$:/DefaultTiddlers\\\" text=\\\"[[tiddler field widget]]\\\"/>\\n\\t<$data title=\\\"test\\\" text=\\\"type new text here\\\"/>\\n\\t<$data $tiddler=tiddlerfield.js/>\\n\\t<$data title=\\\"tiddler field widget\\\" text=\\\"\\\"\\\"\\n<$edit-text focus=yes tiddler=test tag=input/>\\n    \\n<div>\\n<div style=\\\"display:inline-block;width: 49%;vertical-align: text-top;word-wrap: break-word;}\\\">\\n\\n```\\n<$tiddlerfield/>\\n```\\n\\nRenders as:\\n\\n<$tiddlerfield/>\\n</div>\\n<div style=\\\"display:inline-block;width: 49%;vertical-align: text-top;word-wrap: break-word;}\\\">\\n\\n```\\n<$view tiddler=\\\"test\\\"/>\\n```\\n\\nRenders as:\\n\\n<$view tiddler=\\\"test\\\"/>\\n</div>\\n\\\"\\\"\\\"/>\\n\\n</$innerwiki>\\n</$list>\\n\"},\"Widget refresh demo III\":{\"title\":\"Widget refresh demo III\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- The innerwiki doesn't refresh on its own when tiddlers on the outside change, so use the list widget to force a dependency -->\\n<$list name=refresh filter=[[refreshcount.js]get[text]]>\\n<$innerwiki width=\\\"600\\\" height=\\\"400\\\" style=\\\"width:100%;\\\">\\n\\t<$data title=\\\"$:/DefaultTiddlers\\\" text=\\\"[[refresh count widget]]\\\"/>\\n\\t<$data title=\\\"test\\\" text=\\\"Text field of tiddler='test'\\\"/>\\n\\t<$data $tiddler=refreshcount.js/>\\n\\t<$data title=\\\"refresh count widget\\\" text=\\\"\\\"\\\"\\n\\n*<$button set=\\\"test!!test\\\" setTo=\\\"hello\\\">Modify a different tiddler</$button>\\n*<$button set=\\\"!!test\\\" setTo=\\\"hello\\\">Modify this tiddler</$button>\\n*<$edit-text focus=yes tiddler=test tag=input/>\\n\\n<div>\\n<div style=\\\"display:inline-block;width: 49%;vertical-align: text-top;word-wrap: break-word;}\\\">\\n\\n```\\n<$refreshcount/>\\n```\\n\\nRenders as:\\n\\n<$refreshcount/>\\n</div>\\n\\n<div style=\\\"display:inline-block;width: 49%;vertical-align: text-top;word-wrap: break-word;}\\\">\\n\\n```\\n<$list filter=\\\"[[test]get[text]]\\\">\\n<<currentTiddler>><br>\\n<$refreshcount/>\\n</$list>\\n```\\n\\nRenders as:\\n\\n<$list filter=\\\"[[test]get[text]]\\\">\\n<<currentTiddler>><br>\\n<$refreshcount/>\\n</$list>\\n\\\"\\\"\\\"/>\\n</div>\\n</div>\\n</$innerwiki>\\n</$list>\\n\"},\"Widget refresh tutorial part I\":{\"title\":\"Widget refresh tutorial part I\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"But what if we want to display dynamic content? How can we display information and keep it up to date as it changes? Let's display the content of a tiddler field.\\n\\nThe [[tiddlerfield-norefresh.js]] which defines the `tiddlerfield` widget is almost the same as [[hello.js]] except for this part:\\n\\n```javascript\\nMyWidget.prototype.render = function(parent,nextSibling) {\\n\\tthis.parentDomNode = parent;\\n\\tvar text = this.wiki.getTiddlerText(\\\"test\\\", \\\"<empty>\\\")\\n\\tvar textNode = this.document.createTextNode(text);\\n\\tparent.insertBefore(textNode,nextSibling);\\n\\tthis.domNodes.push(textNode);\\n};\\n```\\n\\nInstead of creating the text dom node from a static string, the text field of the `test` tiddler is used. This is similar to using the view widget like this:  `<$view tiddler=\\\"test\\\"/>`\\n\\nHere's how it looks (see [[Widget refresh demo I]] to look at the code):\\n\\n{{Widget refresh demo I}}\\n\\nNotice if you change the text in the input box, the output from the `tiddlerfield` widget doesn't change, but the output of the `view` widget does. Only after the ''Force refresh'' button is clicked does the output of `tiddlerfield` update to match the input box contents.\\n\\nWhat's going on here? The render method of the widget code is only called by tiddlywiki core when the widget is first created. After that, it isn't called again unless the widget is completely destroyed and then created again. \\n\\nThe tiddlywiki ~ViewWidget has a properly written `refresh` method so typing in the input box will cause its content to update. However, the `tiddlerfield` widget does not have a `refresh` method at all. It has no way of being notified that the `test` tiddler content has changed. Its output will not change until the ''Force refresh'' button is clicked.\\n\\nSee the next example for an implementation of the `refresh` method for the `tiddlerfield` widget.\\n\\nThe code for the refresh button looks like this:\\n\\n```\\n<$button set=\\\"!!refresh\\\" setTo={{test}}>Force refresh</$button>\\n```\\n\\nand the widgets are enclosed in a list widget like this:\\n\\n```\\n<$list filter=\\\"[{!!refresh}]\\\">...</$list>\\n```\\n\\nWhen the button is clicked the field `refresh` in the containing tiddler is modified and it causes the children of the list widget to be created from scratch. The render method is called and the output of the `tiddlerfield` widget updates.\\n\"},\"Widget refresh tutorial part II\":{\"title\":\"Widget refresh tutorial part II\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This example is like [[Widget refresh tutorial part I]] except the widget output will be automatically refreshed when the tiddler field changes.\\n\\n[[tiddlerfield.js]] is the same as [[tiddlerfield-norefresh.js]], except this `refresh` method is added:\\n\\n```javascript\\n/*\\nA widget with optimized performance will selectively refresh, but here we refresh always\\n*/\\nMyWidget.prototype.refresh = function(changedTiddlers) {\\n\\t// Regenerate and rerender the widget and\\n\\t// replace the existing DOM node\\n\\tthis.refreshSelf();\\n\\treturn true;\\n};\\n```\\n\\nThe `refreshSelf` method called above is implemented by the core widget class and it takes care of cleaning the old dom node and calling the render function.\\n\\nHere is the result ([[Widget refresh demo II]]):\\n\\n{{Widget refresh demo II}}\\n\\nAnd now any typing into the input box will cause both the `tiddlerfield` and the `view` widget output to refresh immediately.\\n\\nNote this is a naive version of `refresh`. It unconditionally refreshes itself. This is far from optimal since the `refresh` method for all visible widgets is called every time the tiddler store changes. But the way we've defined our widget, the output ONLY depends on the tiddler titled `text`.\\n\\nIn tiddlywiki the tiddler store is used for everything and almost any interaction will result in an update to the store. This means almost any interaction will cause the refresh method to be called. If you type into the search box, for example, the `tiddlerfield` widget will be refreshed with every keystroke.\\n\\nAdding and removing dom elements is a relatively expensive operation, so if someone has used the list widget to create a few hundred instances of this widget, then such tiddlywiki interactions might gain a noticable lag. Therefore, it usually makes sense to avoid modifying the dom when possible by writing a smarter `refresh` method. \\n\\n''Exercise'' - change the refresh method above to only call `refreshSelf` when the `changedTiddlers` input array contains `test` as one of its entries (Hint: see the refresh method in $:/core/modules/widgets/view.js for an example).\\n\"},\"Widget refresh tutorial part III\":{\"title\":\"Widget refresh tutorial part III\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"This tutorial is intended to demonstrate a few examples of when calls to the `refresh` method happen vs. when a widget is recreated from scratch.\\n\\nThis is accomplished with a [[refreshcount.js]] widget which sets a counter to zero when the widget is created and increments the counter every time the `refresh` method is called. Here is the full code:\\n\\n{{refreshcount.js}}\\n\\nThese are the key parts of the code from above:\\n\\n```javascript\\nthis.refreshCount = 0;\\nthis.document.createTextNode(this.refreshCount + \\\" refreshes\\\");\\nthis.refreshCount++;\\n```\\n\\nIn the following example (see [[Widget refresh demo III]] for the code), two instances of the `refreshcount` widget are created. One at the top level and the other inside a list widget whose filter results depend on the value in the `text` field of the `test` widget. The tiddler store can be modified in a few ways via two buttons and an input box:\\n{{Widget refresh demo III}}\\n\\n* ''Modify a different tiddler'' - every time this button is clicked, both counters increment, indicating the `refresh` method is being called\\n* ''Modify this tiddler'' - clicking this button modifies the tiddler itself. In earlier ~TiddlyWiki versions that caused both widgets to be recreated from scratch and the counters are thereby reset to zero. Since [[version 5.2.0|https://tiddlywiki.com/#Release%205.2.0]] modifying another field in this tiddler does not cause the widgets to be recreated and the counters are not reset.\\n*  ''Text field of tiddler='test''' - typing text into the input box causes the counter in the standalone `refreshcount` widget to be incremented. But the other instance of the widget is embedded inside a list widget whose filter output depends on the value of the tiddler field which is being modified. This causes it to recreate its children from scratch and the counter is reset every time. So with every keystroke, the counter on the left is incremented, but the counter on the right goes to/stays at zero.\"},\"WidgetModules\":{\"title\":\"WidgetModules\",\"tags\":\"dev moduletypes\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! Introduction\\n\\nWidget modules are used as part of the RenderingMechanism to implement each type of renderable entity. As well as the widgets that are familiar to end users, the following primitives are also implemented as widgets:\\n\\n* HTML text nodes\\n* HTML element nodes\\n* HTML entities\\n\\nAll widgets inherit from a base widget class that is defined in [[$:/core/modules/widgets/widget.js]].\\n\\n! Widget Properties\\n\\nThe following widget properties are defined by the core. The lifecycle of a widget object is largely a matter of maintaining the consistency of these internal properties in the face of external state changes. Individual widgets usually add their own additional properties too.\\n\\n|!Name |!Description |\\n|''parseTreeNode'' |Reference to the parse tree node corresponding to this widget |\\n|''wiki'' |Reference to the [[Wiki]] object associated with this widget |\\n|''variables'' |Hashmap of information about each [[widget variable|WidgetVariables]] (see below) |\\n|''parentWidget'' |Reference to the parent widget |\\n|''document'' |Reference to the document object associated with this widget. Usually either the browser global `document` variable or a reference to the FakeDomMechanism's `$tw.fakeDocument` |\\n|''attributes'' |Hashmap of information about each attribute attached to this widget (see below) |\\n|''children'' |Array of child widgets |\\n|''domNodes'' |For widgets that directly generate DOM nodes, an array of the generated nodes |\\n|''eventListeners'' |Array of event listener definitions |\\n\\n!! Widget Variables\\n\\nThe widget variables defined on a widget are stored in a hashmap of the variable name. The hashmap contains:\\n\\n* `name`: name of variable\\n* `params`: array of parameters for macro definitions, each `{name: \\\"<name>\\\", default: \\\"<optionaldefault>\\\"}`\\n* `value`: string value of variable\\n\\n!! Widget Attributes\\n\\nThe widget attributes associated with a widget are stored in a hashmap of the attribute name. The hashmap contains an object that describes the attribute value. Currently three attribute value types are supported:\\n\\n* Strings: `{type: \\\"string\\\", value: \\\"<value>\\\"}`\\n* Tiddler text reference indirection: `{type: \\\"indirect\\\", textReference: \\\"<textref>\\\"}`\\n* Macro invocation: `{type: \\\"macro\\\", value: {name: \\\"<macroname>\\\", params: [{name: \\\"<paramname>\\\", value: \\\"<paramvalue>\\\"}, ... ]}`\\n\\n!! Widget Event Listeners\\n\\nThe event listeners attached to a widget are stored as a hashmap by event type. Each value is a handler function that accepts a single `event` parameter.\\n\\n! Widget methods\\n\\nThe individual methods defined by the widget object are documented in the source code of [[$:/core/modules/widgets/widget.js]]. Here we give an overview of the overall lifecycle, and how the methods fit together\\n\\n!! Widget `initialise` method\\n!! Widget `widgetClasses` method\\n!! Widget `render` method\\n!! Widget `execute` method\\n!! Widget `getVariable` method\\n!! Widget `substituteVariableParameters` method\\n!! Widget `substituteVariableReferences` method\\n!! Widget `evaluateMacroModule` method\\n!! Widget `setVariable` method\\n!! Widget `hasVariable` method\\n!! Widget `getStateQualifier` method\\n!! Widget `computeAttributes` method\\n!! Widget `hasAttribute` method\\n!! Widget `getAttribute` method\\n!! Widget `assignAttributes` method\\n!! Widget `makeChildWidgets` method\\n!! Widget `makeChildWidget` method\\n!! Widget `renderChildren` method\\n!! Widget `addEventListeners` method\\n!! Widget `addEventListener` method\\n!! Widget `dispatchEvent` method\\n!! Widget `refresh` method\\n!! Widget `refreshSelf` method\\n!! Widget `refreshChildren` method\\n!! Widget `findNextSiblingDomNode` method\\n!! Widget `findFirstDomNode` method\\n!! Widget `removeChildDomNodes` method\\n\"},\"WidgetSubclassingMechanism\":{\"title\":\"WidgetSubclassingMechanism\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!! Introduction\\n\\nThe widget subclassing mechanism allows widgets to be subclassed with additional methods and properties. The subclassed widgets can either overwrite the existing definition of the baseclass widget, or it can be made available as a new widget\\n\\nWidget subclasses are defined in modules of module-type `widget-subclass`. They should export the following properties:\\n\\n* ''baseClass'': the name of the widget class being subclassed\\n* ''name'': (optional) the name to be used for the subclassed widget (defaults to overwriting the baseclass widget)\\n* ''constructor'': constructor function for creating the widget object\\n* ''prototype'': object whose properties are added to the subclass\\n\\n!! Example\\n\\nHere is an example of a subclass of the checkbox widget that adds logging to the event handler:\\n\\n```\\n/*\\\\\\ntitle: $:/my-customised-checkbox-widget.js\\ntype: application/javascript\\nmodule-type: widget-subclass\\n\\nWidget base class\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nexports.baseClass = \\\"checkbox\\\"; // Extend the <$checkbox> widget\\n\\n// Specify a different name to make the subclass available as a new widget instead of overwriting the baseclass:\\n// exports.name = \\\"my-enhanced-checkbox\\\";\\n\\nexports.constructor = function(parseTreeNode,options) {\\n\\tthis.initialise(parseTreeNode,options);\\n};\\n\\nexports.prototype = {};\\n\\nexports.prototype.handleChangeEvent = function(event) {\\n\\t// Call the base class handleChangeEvent function\\n\\tObject.getPrototypeOf(Object.getPrototypeOf(this)).handleChangeEvent.call(this,event);\\n\\t// Print our message\\n\\tconsole.log(\\\"Checkbox status:\\\",this.inputDomNode.checked);\\n};\\n\\n})();\\n```\\n\"},\"Widgets\":{\"title\":\"Widgets\",\"chapter.of\":\"UI and Rendering Pipeline\",\"sub.num\":\"3\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"When the WikiText has been transformed into a parse-tree the next step is to transform this parse-tree into a widget-tree.\\nWe talked about widgets as parts of the WikiText markup but in fact each node of the parse-tree is transformed to a widget object.\\nThe core plug-in provides a basic widget object which gets the parse node it should represent and a DOM node. The widget then must create the DOM structure which represents the parse node and add it to the provided DOM node.\\nA ~LinkWidget for example would create the DOM node for a ``<a>...</a>`` tag and put it in the provided DOM node.\\nWhen a widget gets a parse node with child nodes it must create the corresponding child widgets.\\n\\nAll this functionality is basically provided with the base widget. But when creating the widget for a parse node it loads additional modules with ``module-type: widget``. These modules can export multiple widgets which extend the base widget and can override it's methods like the rendering and refresh functions.\\nAs described in [[Parser]] each parse node contains a \\\"type\\\" property. This type directly determines which widget module is used.\\n\\n```js\\n{type: \\\"text\\\", text: <string>} - a text node\\n```\\n\\nWould be transformed to a [[TextWidget|$:/core/modules/widgets/text.js]].\\n(Note that the ~TextWidget module exports a property \\\"text\\\".)\\n\\nSo in fact when talking about widgets in WikiText, they are not a feature added to WikiText but the ability to directly use a specific widget instead of the parser choosing a widget type.\\n\\nIn the beginning we talked about widgets and how they enable dynamic behaviour. But up until now we only described how widgets create DOM nodes from parse nodes.\\nWidgets add dynamic behaviour in two ways.\\n\\n<$list filter=\\\"[!has[draft.of]has[chapter.of]chapter.of[Widgets]tag[doc]sort[sub.num]]\\\">\\n\\n\\n!!! <$view field=\\\"title\\\"/>\\n{{!!text}}\\n</$list>\"},\"WikiRuleModules\":{\"title\":\"WikiRuleModules\",\"tags\":\"dev moduletypes\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"WikiRuleModules have a `module-type` of `wikirule`, and may have following types: `pragma`, `block`, `inline`. Modules of these types encapsulate the logic of individual parsing rules used by the WikiParser engine. For example, `entity.js` rule module identifies references to HTML entities by matching the pattern `&<chars>;`.\\n\\nPragma rules are applied at the start of a block of text, and cover definitions and declarations that affect the parsing of the rest of the text. Block rules are only applied at the beginning of a block of wikitext, while inline rules can appear anywhere. The only current example of a pragma rule is for macro definitions.\\n\\nExamples of block rules:\\n\\n* Headings\\n* Tables\\n* Lists\\n\\nExamples of inline rules:\\n\\n* Entities\\n* HTML tags\\n* Wiki links\\n\\nParser rule modules extend the `$tw.WikiParserRule` class. This is done by instantiating the class and then copying the exports of the rule module onto the instance. In this way, the parser rule can override the base behaviour of the `$tw.WikiParserRule` class. In particular, the base class incorporates logic for using regular expressions to match parse rules but this logic could be overridden by a parse rule that wanted to, say, use `indexOf()` instead of regular expressions.\\n\\nThe standard methods and properties of parser rules are as follows:\\n\\n* `name`: a string containing the name of this parse rule\\n* `types`: an object that defines the module's type. For example, `exports.types = {block: true};`\\n* `init(parser)`: initialisation function called immediately after the constructor with a pointer back to the parser containing this rule\\n* `findNextMatch(pos)`: returns the position of the next match after the specified position\\n* `parse()`: parses the most recent match, returning an array of the generated parse tree nodes. Pragma rules don't return parse tree nodes but instead modify the parser object directly (for example, to add local macro definitions)\\n\\nThe built in parser rules use regular expression matching. Such rules can take advantage of the implementation of `findNextMatch()` in the base `$tw.WikiRule` class by ensuring that their `init()` method creates a `matchRegExp` property containing the regular expression to match. The `match` property contains the details of the match for use in the `parse()` method.\\n\"},\"WikiText Markup\":{\"title\":\"WikiText Markup\",\"chapter.of\":\"TiddlyWiki - A quick Overview\",\"sub.num\":\"7\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The WikiText is a markup language, created especially for the requirements of the TiddlyWiki application. It is based on [[Markdown|http://daringfireball.net/projects/markdown]], but extended with some TiddlyWiki specific features.  On one hand its a text-to-HTML conversion language and on the other hand its used to provide the interactive features of TiddlyWiki. The aim of this language is to allow the user of the software to focus on the writing. The WikiText is used to format Tiddlers within the TiddlyWiki application. The tags of the WikiText syntax can be used within the standard text input field. \\nDuring the saving process these tags renders to HTML elements for example:\\n\\n```\\nWikiText:--- \\nRenders as:\\nHTML:<hr>\\nWikiText:[img[https://tiddlywiki.com/favicon.ico]]\\nRenders as: TW\\nHTML:<img src=\\\"https://tiddlywiki.com/favicon.ico\\\">\\n```\\n\\nFurthermore the WikiText is used to access the widgets which are integrated in the application.These widgets are used to enhance the the WikiText with a rich functionality. Widgets are based on the ~HTML-Syntax but always starts with a $.\\n\\n```\\nWikiText:\\n<$button message=\\\"tm-close-tiddler\\\">Close Me!</$button> \\n```\"},\"WikiText\":{\"title\":\"WikiText\",\"tags\":\"doc\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"{{WikiText Markup}}\"},\"$:/plugins/oeyoews/tw-dev/config\":{\"title\":\"$:/plugins/oeyoews/tw-dev/config\"},\"domwidget.js\":{\"title\":\"domwidget.js\",\"text\":\"/*\\\\\\n\\nLibrary function for creating widget using a dom creating function\\n\\n\\\\*/\\n(function() {\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nfunction createDomWidget(domCreatorFunction) {\\n\\n\\tvar MyWidget = function(parseTreeNode, options) {\\n\\t\\tthis.initialise(parseTreeNode, options);\\n\\t};\\n\\n\\t/*\\n\\tInherit from the base widget class\\n\\t*/\\n\\tMyWidget.prototype = new Widget();\\n\\n\\t/*\\n\\tRender this widget into the DOM\\n\\t*/\\n\\tMyWidget.prototype.render = function(parent, nextSibling) {\\n\\t\\tthis.parentDomNode = parent;\\n\\t\\tvar domNode = domCreatorFunction(this.document);\\n\\t\\tparent.insertBefore(domNode, nextSibling);\\n\\t\\tthis.domNodes.push(domNode);\\n\\t};\\n\\n\\t/*\\n\\tA widget with optimized performance will selectively refresh, but here we refresh always\\n\\t*/\\n\\tMyWidget.prototype.refresh = function(changedTiddlers) {\\n\\t\\t// Regenerate and rerender the widget and replace the existing DOM node\\n\\t\\tthis.refreshSelf();\\n\\t\\treturn true;\\n\\t};\\n\\n\\treturn MyWidget;\\n}\\nmodule.exports = createDomWidget;\\n})();\\n\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"donothing.js\":{\"title\":\"donothing.js\",\"text\":\"/*\\\\\\n\\nDo nothing widget\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nexports.donothing = Widget;\\n\\n})();\\n\",\"module-type\":\"widget\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/tw-dev/explore\":{\"title\":\"$:/plugins/oeyoews/tw-dev/explore\",\"text\":\"<$macrocall $name=\\\"tree\\\" prefix={{{ [<currentTiddler>addsuffix[/]] }}}>\\n\"},\"hello-attribute-optimized.js\":{\"title\":\"hello-attribute-optimized.js\",\"text\":\"/*\\\\\\n\\nHello, World widget\\n\\n\\\\*/\\n(function() {\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar MyWidget = function(parseTreeNode, options) {\\n\\tthis.initialise(parseTreeNode, options);\\n};\\n\\n/*\\nInherit from the base widget class\\n*/\\nMyWidget.prototype = new Widget();\\n\\n/*\\nRender this widget into the DOM\\n*/\\nMyWidget.prototype.render = function(parent, nextSibling) {\\n\\tthis.parentDomNode = parent;\\n\\tthis.computeAttributes();\\n\\tvar message = this.getAttribute(\\\"message\\\", \\\"World\\\");\\n\\tvar textNode = this.document.createTextNode(\\\"Hello, \\\" + message + \\\"!\\\");\\n\\tparent.insertBefore(textNode, nextSibling);\\n\\tthis.domNodes.push(textNode);\\n};\\n\\n/*\\nRefresh if the attribute value changed since render\\n*/\\nMyWidget.prototype.refresh = function(changedTiddlers) {\\n\\t// Find which attributes have changed\\n\\tvar changedAttributes = this.computeAttributes();\\n\\tif (changedAttributes.message) {\\n\\t\\tthis.refreshSelf();\\n\\t\\treturn true;\\n\\t} else {\\n\\t\\treturn false;\\n\\t}\\n};\\n\\nexports.hello = MyWidget;\\n\\n})();\\n\",\"module-type\":\"widget\",\"type\":\"application/javascript\"},\"hello-attribute.js\":{\"title\":\"hello-attribute.js\",\"text\":\"/*\\\\\\n\\nHello, World widget\\n\\n\\\\*/\\n(function() {\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar MyWidget = function(parseTreeNode, options) {\\n\\tthis.initialise(parseTreeNode, options);\\n};\\n\\n/*\\nInherit from the base widget class\\n*/\\nMyWidget.prototype = new Widget();\\n\\n/*\\nRender this widget into the DOM\\n*/\\nMyWidget.prototype.render = function(parent, nextSibling) {\\n\\tthis.parentDomNode = parent;\\n\\tthis.computeAttributes();\\n\\tvar message = this.getAttribute(\\\"message\\\", \\\"World\\\");\\n\\tvar textNode = this.document.createTextNode(\\\"Hello, \\\" + message + \\\"!\\\");\\n\\tparent.insertBefore(textNode, nextSibling);\\n\\tthis.domNodes.push(textNode);\\n};\\n\\n/*\\nA widget with optimized performance will selectively refresh, but here we refresh always\\n*/\\nMyWidget.prototype.refresh = function(changedTiddlers) {\\n\\t// Regenerate and rerender the widget and\\n\\t// replace the existing DOM node\\n\\tthis.refreshSelf();\\n\\treturn true;\\n};\\n\\nexports.hello = MyWidget;\\n\\n})();\\n\",\"module-type\":\"widget\",\"type\":\"application/javascript\"},\"hello.js\":{\"title\":\"hello.js\",\"text\":\"/*\\\\\\n\\nHello, World widget\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar MyWidget = function(parseTreeNode,options) {\\n\\tthis.initialise(parseTreeNode,options);\\n};\\n\\n/*\\nInherit from the base widget class\\n*/\\nMyWidget.prototype = new Widget();\\n\\n/*\\nRender this widget into the DOM\\n*/\\nMyWidget.prototype.render = function(parent,nextSibling) {\\n\\tthis.parentDomNode = parent;\\n\\tvar textNode = this.document.createTextNode(\\\"Hello, World!\\\");\\n\\tparent.insertBefore(textNode,nextSibling);\\n\\tthis.domNodes.push(textNode);\\n};\\n\\nexports.hello = MyWidget;\\n\\n})();\\n\",\"module-type\":\"widget\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/tw-dev/icon\":{\"title\":\"$:/plugins/oeyoews/tw-dev/icon\",\"text\":\"<svg stroke=\\\"currentColor\\\" fill=\\\"#aaaaaa\\\" stroke-width=\\\"0\\\" version=\\\"1\\\" viewBox=\\\"0 0 48 48\\\" enable-background=\\\"new 0 0 48 48\\\" height=\\\"1em\\\" width=\\\"1em\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill=\\\"#8BC34A\\\" d=\\\"M39,15c0-2.2-1.8-4-4-4h-6c-0.7,0-1.1-0.8-0.7-1.4c0.6-1,0.9-2.2,0.6-3.5c-0.4-2-1.9-3.6-3.8-4 C21.8,1.4,19,3.9,19,7c0,1,0.3,1.8,0.7,2.6c0.4,0.6,0,1.4-0.8,1.4h-6c-2.2,0-4,1.8-4,4v7c0,0.7,0.8,1.1,1.4,0.7 c1-0.6,2.2-0.9,3.5-0.6c2,0.4,3.6,1.9,4,3.8c0.7,3.2-1.8,6.1-4.9,6.1c-1,0-1.8-0.3-2.6-0.7C9.8,30.9,9,31.3,9,32v6c0,2.2,1.8,4,4,4 h22c2.2,0,4-1.8,4-4V15z\\\"></path></svg>\\n\",\"type\":\"image/svg+xml\"},\"indexer modules\":{\"title\":\"indexer modules\",\"tags\":\"moduletypes dev\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Indexer modules maintain indexes of tiddlers organized in a manner that's more efficient for different types of access, typically to speed up things like certain filter operators.  An example of this would be the tag indexer - it's much faster to maintain a lookup table listing which tiddlers have a given tag than to iterate over //all// of the tiddlers in a wiki and ask each of them if they have the tag you're interested in!\\n\\nIndexer modules have a `module-type` of `indexer`, and the indexers that are included with TiddlyWiki can be found under `core/modules/indexers`.\\n\\n! Methods\\n\\nIndexer modules must export a constructor function, which takes the current wiki object as its only argument.  The object built by the construction function must implement the following methods:\\n\\n!! `init()`\\n\\nThis performs any initial setup required by an indexer.\\n\\n!! `rebuild()`\\n\\nThis rebuilds an index from scratch, usually after a large number of changes have happened to a wiki.\\n\\n!! `update(updateDescriptor)`\\n\\nThis is called every time a tiddler is added, changed, or deleted.  The `updateDescriptor` value is an object with two fields - `old` and `new` - which represent the pre-update and post-update state of the tiddler, respectively.  Each of these has three fields of their own:\\n\\n  * `tiddler` - the state of the tiddler (may be `null`)\\n  * `shadow` - a boolean indicating whether or not the tiddler is a shadow\\n  * `exists` - a boolean indicating whether or not the tiddler exists\\n\\nFor example, let's say you have an indexer `idx` and you create a tiddler T with the text \\\"test\\\" - that would result in your indexer's `update` method being called like this:\\n\\n```javascript\\nidx.update({\\n  old: { tiddler: null, shadow: false, exists: false },\\n  new: { tiddler: new $tw.Tiddler({title: 'T', text: 'test'}), shadow: false, exists: true }\\n});\\n```\\n\\nIf you then change the text from \\\"test\\\" to \\\"testing\\\", `update` would be called like this:\\n\\n```javascript\\nidx.update({\\n  old: { tiddler: new $tw.Tiddler({title: 'T', text: 'test'}), shadow: false, exists: true },\\n  new: { tiddler: new $tw.Tiddler({title: 'T', text: 'testing'}), shadow: false, exists: true }\\n});\\n```\\n\\nAnd finally, if you delete T, `update` will be called like this:\\n\\n```javascript\\nidx.update({\\n  old: { tiddler: new $tw.Tiddler({title: 'T', text: 'testing'}), shadow: false, exists: true },\\n  new: { tiddler: null, shadow: false, exists: false }\\n});\\n```\"},\"package.json for NW.js\":{\"title\":\"package.json for NW.js\",\"text\":\"{\\n    \\\"name\\\": \\\"tiddlywiki\\\",\\n    \\\"main\\\": \\\"./index.html\\\",\\n\\t\\\"window\\\": {\\n\\t\\t\\\"toolbar\\\": true,\\n\\t\\t\\\"width\\\": 1024,\\n\\t\\t\\\"height\\\": 768\\n\\t}\\n}\",\"type\":\"text/plain\"},\"refreshcount.js\":{\"title\":\"refreshcount.js\",\"text\":\"/*\\\\\\n\\nwidget to count the number of times this widget refreshes\\n\\n\\\\*/\\n(function() {\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar MyWidget = function(parseTreeNode, options) {\\n\\tthis.refreshCount = 0;\\n\\tthis.initialise(parseTreeNode, options);\\n};\\n\\n/*\\nInherit from the base widget class\\n*/\\nMyWidget.prototype = new Widget();\\n\\n/*\\nRender this widget into the DOM\\n*/\\nMyWidget.prototype.render = function(parent, nextSibling) {\\n\\tthis.parentDomNode = parent;\\n\\tvar textNode = this.document.createTextNode(this.refreshCount + \\\" refreshes\\\");\\n\\tparent.insertBefore(textNode, nextSibling);\\n\\tthis.domNodes.push(textNode);\\n};\\n\\nMyWidget.prototype.refresh = function(changedTiddlers) {\\n\\t// Regenerate and rerender the widget and replace the existing DOM node\\n\\tthis.refreshCount++;\\n\\tthis.refreshSelf();\\n\\treturn true;\\n};\\n\\nexports.refreshcount = MyWidget;\\n\\n})();\\n\",\"module-type\":\"widget\",\"type\":\"application/javascript\"},\"tiddlerfield-norefresh.js\":{\"title\":\"tiddlerfield-norefresh.js\",\"text\":\"/*\\\\\\n\\nHello, World widget\\n\\n\\\\*/\\n(function() {\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar MyWidget = function(parseTreeNode, options) {\\n\\tthis.initialise(parseTreeNode, options);\\n};\\n\\n/*\\nInherit from the base widget class\\n*/\\nMyWidget.prototype = new Widget();\\n\\n/*\\nRender this widget into the DOM\\n*/\\nMyWidget.prototype.render = function(parent, nextSibling) {\\n\\tthis.parentDomNode = parent;\\n\\tvar text = this.wiki.getTiddlerText(\\\"test\\\", \\\"<empty>\\\")\\n\\tvar textNode = this.document.createTextNode(text);\\n\\tparent.insertBefore(textNode, nextSibling);\\n\\tthis.domNodes.push(textNode);\\n};\\n\\nexports.tiddlerfield = MyWidget;\\n\\n})();\\n\",\"module-type\":\"widget\",\"type\":\"application/javascript\"},\"tiddlerfield.js\":{\"title\":\"tiddlerfield.js\",\"text\":\"/*\\\\\\n\\nHello, World widget\\n\\n\\\\*/\\n(function() {\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar MyWidget = function(parseTreeNode, options) {\\n\\tthis.initialise(parseTreeNode, options);\\n};\\n\\n/*\\nInherit from the base widget class\\n*/\\nMyWidget.prototype = new Widget();\\n\\n/*\\nRender this widget into the DOM\\n*/\\nMyWidget.prototype.render = function(parent, nextSibling) {\\n\\tthis.parentDomNode = parent;\\n\\tvar text = this.wiki.getTiddlerText(\\\"test\\\", \\\"<empty>\\\")\\n\\tvar textNode = this.document.createTextNode(text);\\n\\tparent.insertBefore(textNode, nextSibling);\\n\\tthis.domNodes.push(textNode);\\n};\\n\\n/*\\nA widget with optimized performance will selectively refresh, but here we refresh always\\n*/\\nMyWidget.prototype.refresh = function(changedTiddlers) {\\n\\t// Regenerate and rerender the widget and\\n\\t// replace the existing DOM node\\n\\tthis.refreshSelf();\\n\\treturn true;\\n};\\n\\nexports.tiddlerfield = MyWidget;\\n\\n})();\\n\",\"module-type\":\"widget\",\"type\":\"application/javascript\"},\"wikimethod module type\":{\"title\":\"wikimethod module type\",\"tags\":\"moduletypes\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"The startup module [[$:/core/modules/startup/load-modules.js]]  in the TiddlyWiki core plug-in loads all modules of type``wikimethod`` and puts their exported functions into the wiki store.\\n\"}}}"}