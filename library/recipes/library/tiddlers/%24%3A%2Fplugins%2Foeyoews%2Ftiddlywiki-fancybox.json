{"title":"$:/plugins/oeyoews/tiddlywiki-fancybox","description":"Tiddlywiki Gallery","author":"oeyoews","version":"0.0.3","core-version":">=5.2.3","type":"application/json","plugin-type":"plugin","name":"Tiddlywiki Fancybox","list":"readme","dependents":"","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/tiddlywiki-fancybox/readme\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/readme\",\"text\":\"!! Readme\\n\\n* 只需要安装此插件即可， 无需额外配置， 自动识别图片tiddlywiki当前界面(不是所有)的所有图片,\\n点击即可放大图片(如果不起作用, 请刷新tiddlywiki使用)，`updated time: 2023-01-03`, 后期更新说明请点击\\n[[readme|https://oeyoewl.top/fancybox-gallery-tiddlywiki]]\\n\\n!! Note\\n\\n* 由于是动态给img加上一个父标签,\\n只会渲染启动时识别到的img标签，如果导入新的图片或者打开新的含有图片的tiddler,\\n则需要重新刷新当前界面，让插件重新渲染DOM\\n\\n!! Demo\\n\\n* [[Demo|https://neotw.netlify.app/main.html#%24%3A%2Fplugins%2Foeyoews%2Ftiddlywiki-fancybox]]\\n\\n!! Test\\n\\n* nodejs tiddlywiki\\n\\n<!-- * how to add refresh tip on tiddlywiki js?? -->\\n<!-- <img src=\\\"https://gitlab.com/oeyoews/modern-tiddlydev/-/raw/main/static/fancybox-example.png\\\"/> -->\\n<img src=\\\"https://gitlab.com/oeyoews/neotw/-/raw/main/img/fancybox4.png\\\"/>\\n\\n<center>\\n<b>Wiki Gallery</b>\\n</center>\\n{{$:/plugins/oeyoews/tiddlywiki-fancybox/example}}\\n\\n!! Bug Report\\n\\n* about me button have a bug\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/example\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/example\",\"text\":\"<img src=\\\"https://lipsum.app/id/77/1200x675\\\" />\\n<img src=\\\"https://lipsum.app/id/66/1200x675\\\" />\\n<img src=\\\"https://lipsum.app/id/55/1200x675\\\" />\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/init\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/init\",\"type\":\"application/javascript\",\"tags\":\"$:/tags/RawMarkupWikified/BottomBody\",\"text\":\"<!-- how to remove jq -->\\n<!-- `<script> -->\\n<!-- $(\\\"img\\\").each(function () { -->\\n<!--     var element = document.createElement(\\\"a\\\"); -->\\n<!--     $(element).attr(\\\"data-fancybox\\\", \\\"gallery\\\"); -->\\n<!--     $(element).attr(\\\"href\\\", $(this).attr(\\\"src\\\")); -->\\n<!--     $(this).wrap(element); -->\\n<!-- }); -->\\n<!-- `</script>` -->\\n\\n<!-- no jq -->\\n`<script>\\n      const lables = document.querySelectorAll(\\\"img\\\");\\n      const elem = document.createElement(\\\"a\\\");\\n      lables.forEach((lable, index) => {\\n        const elem = document.createElement(\\\"a\\\");\\n        elem.href = lable.getAttribute(\\\"src\\\")\\n        elem.setAttribute(\\\"data-fancybox\\\", \\\"gallary\\\");\\n        lable.parentNode.replaceChild(elem, lable);\\n        elem.appendChild(lable);\\n      });`\\n`</script>`\\n\"},\"$:/plugins/oeyoews/tiddlywiki-fancybox/script\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-fancybox/script\",\"type\":\"application/javascript\",\"tags\":\"$:/tags/RawMarkup\",\"hide-body\":\"yes\",\"text\":\"<!-- dont builtin css, not work -->\\n<link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.31/dist/fancybox.css\\\">\\n<script src=\\\"https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.31/dist/fancybox.umd.min.js\\\"></script>\\n\\n<script>\\nFancybox.defaults.Image = { zoom: false };\\nFancybox.defaults.Hash = false;\\n<!-- Fancybox.getInstance().getSlide().Panzoom.toggleZoom(); -->\\nFancybox.bind('[data-fancybox=\\\"gallery\\\"]', {\\n  Thumbs: {\\n    autoStart: false,\\n  },\\n  Hash: false,\\n  Image: {\\n    zoom: false,\\n    Panzoom: {\\n      doubleClick: null\\n    },\\n  },\\n  fullscreen: {\\n    autoStart: true,\\n  },\\n  Toolbar: {\\n    display: [\\n      { id: \\\"prev\\\", position: \\\"center\\\" },\\n      { id: \\\"counter\\\", position: \\\"center\\\" },\\n      { id: \\\"next\\\", position: \\\"center\\\" },\\n      \\\"zoom\\\",\\n      \\\"slideshow\\\",\\n      \\\"fullscreen\\\",\\n      \\\"download\\\",\\n      \\\"thumbs\\\",\\n      \\\"close\\\",\\n    ],\\n  },\\n  caption: function (fancybox, carousel, slide) {\\n    return (\\n      `${slide.index + 1} / ${carousel.slides.length} <br />` + slide.caption\\n    );\\n  },\\n});\\n</script>\\n\"}}}"}